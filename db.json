{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"node_modules/hexo-theme-butterfly/source/css/index.styl","path":"css/index.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/css/var.styl","path":"css/var.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/img/404.jpg","path":"img/404.jpg","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/img/favicon.png","path":"img/favicon.png","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/img/friend_404.gif","path":"img/friend_404.gif","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/js/tw_cn.js","path":"js/tw_cn.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/js/search/algolia.js","path":"js/search/algolia.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/js/search/local-search.js","path":"js/search/local-search.js","modified":0,"renderable":1},{"_id":"source/about/index.md","path":"about/index.md","modified":0,"renderable":0},{"_id":"source/link/index.md","path":"link/index.md","modified":0,"renderable":0},{"_id":"source/movies/index.md","path":"movies/index.md","modified":0,"renderable":0},{"_id":"source/music/index.md","path":"music/index.md","modified":0,"renderable":0},{"_id":"source/tags/index.md","path":"tags/index.md","modified":0,"renderable":0},{"_id":"source/img/image-20221025163441508.png","path":"img/image-20221025163441508.png","modified":0,"renderable":0},{"_id":"source/img/image-20221025164401144.png","path":"img/image-20221025164401144.png","modified":0,"renderable":0},{"_id":"source/img/image-20221025164457908.png","path":"img/image-20221025164457908.png","modified":0,"renderable":0},{"_id":"source/img/image-20221025164539512.png","path":"img/image-20221025164539512.png","modified":0,"renderable":0},{"_id":"source/img/image-20221025164652215.png","path":"img/image-20221025164652215.png","modified":0,"renderable":0},{"_id":"source/img/image-20230521164959631.png","path":"img/image-20230521164959631.png","modified":0,"renderable":0},{"_id":"source/img/image-20221025164618940.png","path":"img/image-20221025164618940.png","modified":0,"renderable":0},{"_id":"source/img/image-20230521163900590.png","path":"img/image-20230521163900590.png","modified":0,"renderable":0},{"_id":"source/img/image-20230521193406678.png","path":"img/image-20230521193406678.png","modified":0,"renderable":0},{"_id":"source/img/image-20230521192401756.png","path":"img/image-20230521192401756.png","modified":0,"renderable":0},{"_id":"source/img/image-20230521212323764.png","path":"img/image-20230521212323764.png","modified":0,"renderable":0},{"_id":"source/img/image-20230521212411230.png","path":"img/image-20230521212411230.png","modified":0,"renderable":0},{"_id":"source/img/image-20230522155235201.png","path":"img/image-20230522155235201.png","modified":0,"renderable":0},{"_id":"source/img/image-20230521212545143.png","path":"img/image-20230521212545143.png","modified":0,"renderable":0}],"Cache":[{"_id":"source/_data/link.yml","hash":"0f59e597252d6276c39e3a681784f565cf5d0648","modified":1690700156382},{"_id":"source/_posts/23-7-30-1.md","hash":"7b3427ea72745b854c73a569a15dfec1f7ceff66","modified":1690701334495},{"_id":"source/_posts/23-7-30-3.md","hash":"61b3ce3d2621612528b3fc0d3c216866cd9cf803","modified":1690706149319},{"_id":"source/_posts/23-7-30-2.md","hash":"6b6b1d8d529a45aab4abd951190bb42201d3a61a","modified":1690706131604},{"_id":"source/about/index.md","hash":"0d245c704a80307838f68eb1f73d454fd79a1b1a","modified":1690703060413},{"_id":"source/movies/index.md","hash":"26985395e888cff89dc1165a84176944d51fd2ac","modified":1690702973945},{"_id":"source/link/index.md","hash":"a955f82c47a818df2e256a5b62bff5e9b6f0e969","modified":1690800802174},{"_id":"source/music/index.md","hash":"ec28a4ffeb0c9dff494f76e634a7fb49e127da18","modified":1690702977803},{"_id":"source/tags/index.md","hash":"4344893e28a690daceb46883496e4058ce401d68","modified":1690800802176},{"_id":"node_modules/hexo-theme-butterfly/LICENSE","hash":"1128f8f91104ba9ef98d37eea6523a888dcfa5de","modified":1690642493580},{"_id":"node_modules/hexo-theme-butterfly/README.md","hash":"b5d6e7271b88d1a63755386442663af03e36a428","modified":1690642494818},{"_id":"node_modules/hexo-theme-butterfly/README_CN.md","hash":"86569b94949392e9b981608433495f0941d20b0c","modified":1690642494795},{"_id":"node_modules/hexo-theme-butterfly/_config.yml","hash":"459517785a7161e07c333bfe2900243b6287f905","modified":1690800873167},{"_id":"node_modules/hexo-theme-butterfly/package.json","hash":"656d8b548940d7d214459cd8853007af38e6c465","modified":1690642494781},{"_id":"node_modules/hexo-theme-butterfly/plugins.yml","hash":"d0e179ae31cdc62037062432b0ee7a9008155a73","modified":1690642496752},{"_id":"node_modules/hexo-theme-butterfly/languages/default.yml","hash":"4025c0ba440eb24705dd0293ca9ca84efb3105cc","modified":1690642496731},{"_id":"node_modules/hexo-theme-butterfly/languages/en.yml","hash":"4e9cdb7a3570929bcf082de7a4eac49140dddc73","modified":1690642496740},{"_id":"node_modules/hexo-theme-butterfly/languages/zh-CN.yml","hash":"7dd849c3ba34986c57c764d9e36150b4bfffd2e9","modified":1690642496785},{"_id":"node_modules/hexo-theme-butterfly/languages/zh-TW.yml","hash":"ee01e068f12dc33adfae5733824ea1255deb5ca6","modified":1690642496792},{"_id":"node_modules/hexo-theme-butterfly/layout/archive.pug","hash":"a0c034c2d319320a54046805e80b58dc48b7e233","modified":1690642494973},{"_id":"node_modules/hexo-theme-butterfly/layout/category.pug","hash":"710708cfdb436bc875602abf096c919ccdf544db","modified":1690642495259},{"_id":"node_modules/hexo-theme-butterfly/layout/index.pug","hash":"e1c3146834c16e6077406180858add0a8183875a","modified":1690642495562},{"_id":"node_modules/hexo-theme-butterfly/layout/page.pug","hash":"baf469784aef227e4cc840550888554588e87a13","modified":1690642495680},{"_id":"node_modules/hexo-theme-butterfly/layout/post.pug","hash":"fc9f45252d78fcd15e4a82bfd144401cba5b169a","modified":1690642495742},{"_id":"node_modules/hexo-theme-butterfly/layout/tag.pug","hash":"0440f42569df2676273c026a92384fa7729bc4e9","modified":1690642495859},{"_id":"node_modules/hexo-theme-butterfly/.github/ISSUE_TEMPLATE/bug_report.yml","hash":"fc468a93a64c7a3e408fbac921c9f5a5a8f32027","modified":1690642496721},{"_id":"node_modules/hexo-theme-butterfly/.github/ISSUE_TEMPLATE/config.yml","hash":"7dfe7189ffeaebb6db13842237f8e124649bea3d","modified":1690642496726},{"_id":"node_modules/hexo-theme-butterfly/.github/ISSUE_TEMPLATE/feature_request.yml","hash":"996640605ed1e8e35182f0fd9a60a88783b24b03","modified":1690642496744},{"_id":"node_modules/hexo-theme-butterfly/.github/workflows/publish.yml","hash":"05857c2f265246d8de00e31037f2720709540c09","modified":1690642496759},{"_id":"node_modules/hexo-theme-butterfly/.github/workflows/stale.yml","hash":"ac62b989b5550c756e1986fcc68f243170705383","modified":1690642496763},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/404.pug","hash":"cb49f737aca272ccfeb62880bd651eccee72a129","modified":1690642494842},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/additional-js.pug","hash":"aca0ec7ef69b21d1f242c62fed389468a0f0e1a2","modified":1690642494918},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/footer.pug","hash":"02390a5b6ae1f57497b22ba2e6be9f13cfb7acac","modified":1690642495412},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head.pug","hash":"dd9fde431add984330e3178e06a8d74705e7340e","modified":1690642495463},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/layout.pug","hash":"7fa9ae4b70b87fc97e992dde5944681f92b59bea","modified":1690642495593},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/pagination.pug","hash":"4c85de4dea4dca4e5088097a79bd6d7009cbf8ef","modified":1690642495687},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/rightside.pug","hash":"d15124c488273ea0801a042888feadc9261d0b2f","modified":1690642495806},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/sidebar.pug","hash":"9f0e9e039f304439007460fa0a7c8ac18e0ffd37","modified":1690642495825},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/404.js","hash":"83cd7f73225ccad123afbd526ce1834eb1eb6a6d","modified":1690642493841},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/cdn.js","hash":"21fb5aabe043486d095c4c8cce361ed85ba88a26","modified":1690642494218},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/comment.js","hash":"5351e0bc09e6b5b3f6d30f333a2520626a28ca3a","modified":1690642494241},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/init.js","hash":"428b94c7b9e83f7ea36227dee66bfe3c23aee4a8","modified":1690642494390},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/stylus.js","hash":"9819f0996234fbd80d6c50a9e526c56ebf22588d","modified":1690642494649},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/welcome.js","hash":"8ad9911b755cba13dde2cc055c3f857a6b0dd20e","modified":1690642494772},{"_id":"node_modules/hexo-theme-butterfly/scripts/filters/post_lazyload.js","hash":"932df912976261929f809b7dbd4eb473e7787345","modified":1690642494591},{"_id":"node_modules/hexo-theme-butterfly/scripts/filters/random_cover.js","hash":"8d25f47434deae870bbffd07efe528a40363ab4d","modified":1690642494609},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/aside_archives.js","hash":"2ec66513d5322f185d2071acc052978ba9415a8e","modified":1690642494015},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/aside_categories.js","hash":"e00efdb5d02bc5c6eb4159e498af69fa61a7dbb9","modified":1690642494092},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/findArchiveLength.js","hash":"9ea86bd7a3c3fca3324f70b1cd4d9e42f9efb08d","modified":1690642494262},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/inject_head_js.js","hash":"4238e06ff448ff2ee717cd4c874f37f04d35da06","modified":1690642494411},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/page.js","hash":"ce5d5a3d07b0d76ac5e96e5f9e5783f4b601b6be","modified":1690642494569},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/related_post.js","hash":"4677be4175da6800c0b3b8c1614e593f73df8831","modified":1690642494623},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/button.js","hash":"91d954f6e9fe6e571eb8ec9f8996294b2dc3688e","modified":1690642494187},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/flink.js","hash":"ab62919fa567b95fbe14889517abda649991b1ee","modified":1690642494289},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/gallery.js","hash":"950b3dbac0b21717458a8d1769cbfc454d0eff54","modified":1690642494321},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/hide.js","hash":"396c3ab1bcf1c7693ad7e506eadd13016c6769b6","modified":1690642494362},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/inlineImg.js","hash":"a43ee2c7871bdd93cb6beb804429e404570f7929","modified":1690642494428},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/label.js","hash":"03b2afef41d02bd1045c89578a02402c28356006","modified":1690642494446},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/mermaid.js","hash":"531808a290b8bdd66bac2faab211ada8e9646a37","modified":1690642494533},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/note.js","hash":"d51812b43924f1bbf413c67499510dd125022005","modified":1690642494548},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/score.js","hash":"ea679dfe12d0e2290113b4a9d00663ce7a5ee5ad","modified":1690642494643},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/tabs.js","hash":"6c6e415623d0fd39da016d9e353bb4f5cca444f5","modified":1690642494664},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/timeline.js","hash":"300eb779588bf35a1b687d9f829d866074b707e3","modified":1690642494678},{"_id":"node_modules/hexo-theme-butterfly/source/css/index.styl","hash":"755490867fd8afe47d5cce24faea2ca172b0c4dd","modified":1690642496166},{"_id":"node_modules/hexo-theme-butterfly/source/css/var.styl","hash":"30abbb8eed880d51f61f336064d93abd709e0115","modified":1690642496699},{"_id":"node_modules/hexo-theme-butterfly/source/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1690642493790},{"_id":"node_modules/hexo-theme-butterfly/source/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1690642494826},{"_id":"node_modules/hexo-theme-butterfly/source/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1690642493730},{"_id":"node_modules/hexo-theme-butterfly/source/js/main.js","hash":"0227b5bd233a3c66582e0ee820cdb353ce52ece1","modified":1690642494510},{"_id":"node_modules/hexo-theme-butterfly/source/js/tw_cn.js","hash":"42b106354d72a0ea1fe62587b313a5b7de3cc393","modified":1690642494696},{"_id":"node_modules/hexo-theme-butterfly/source/js/utils.js","hash":"aaaedc207440095da1ffabcad870fc2641befb0e","modified":1690642494758},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/Open_Graph.pug","hash":"8aa8d799aedbfd811195b84a451bc4b6e2647c12","modified":1690642495664},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/analytics.pug","hash":"67e1c3b48e4ca7ee0b2c76d3ca7476b9883cf105","modified":1690642494955},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/config.pug","hash":"75e7a524af64fbaaaf7b05a1b1922bf6940d7afe","modified":1690642495284},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/config_site.pug","hash":"7df90c8e432e33716517ab918b0a125bc284041b","modified":1690642495274},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/google_adsense.pug","hash":"95a37e92b39c44bcbea4be7e29ddb3921c5b8220","modified":1690642495457},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/noscript.pug","hash":"d16ad2ee0ff5751fd7f8a5ce1b83935518674977","modified":1690642495658},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/preconnect.pug","hash":"a03b3ddc06e7aa9fd07eea0d5f97c8d5addd2315","modified":1690642495746},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/pwa.pug","hash":"3d492cfe645d37c94d30512e0b230b0a09913148","modified":1690642495763},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/site_verification.pug","hash":"e2e8d681f183f00ce5ee239c42d2e36b3744daad","modified":1690642495829},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/header/index.pug","hash":"944d6e9dd50df3395f3a2c7ad9db667d50dea4ed","modified":1690642495476},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/header/menu_item.pug","hash":"31346a210f4f9912c5b29f51d8f659913492f388","modified":1690642495627},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/header/nav.pug","hash":"f61659aa457d1a2d1baa3a13157996cfac4d6609","modified":1690642495650},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/header/social.pug","hash":"5de9a82032cdad1db3b868b797460921cd775fc2","modified":1690642495838},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/header/post-info.pug","hash":"9698f22751778dde063cbfbd01c59ca4462ccd85","modified":1690642495721},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/loading/fullpage-loading.pug","hash":"9e8c5788602b29a527ef35fe8a20076a5fa969bd","modified":1690642495420},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/loading/index.pug","hash":"131f344d68b4c241d6e03849b243ee792fcd3cea","modified":1690642495480},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/loading/pace.pug","hash":"6ab4e301c92586505d6cddce1b3ad23b7c79010d","modified":1690642495675},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/mixins/article-sort.pug","hash":"90554c2ca5ba946f4c02e1bc5fe2859cef1b1594","modified":1690642495012},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/mixins/post-ui.pug","hash":"1ed873db25eec869beebb6873f04e19f0b0f4134","modified":1690642495733},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/page/categories.pug","hash":"5276a8d2835e05bd535fedc9f593a0ce8c3e8437","modified":1690642495257},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/page/default-page.pug","hash":"12c65c174d26a41821df9bad26cdf1087ec5b0ca","modified":1690642495327},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/page/flink.pug","hash":"f9ce83978b217a71a2eb8761dc14b09866faa3f4","modified":1690642495408},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/page/tags.pug","hash":"9621991359e22b14049346f1cf87bdedc94edf5a","modified":1690642495863},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/post/post-copyright.pug","hash":"ebecba46a5f4efe1c98a386df06c56e26fbd07b9","modified":1690642495712},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/post/reward.pug","hash":"864869c43fe5b5bb6f4ac6b13dd4bfb16ea47550","modified":1690642495797},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/aplayer.pug","hash":"c7cfade2b160380432c47eef4cd62273b6508c58","modified":1690642494966},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/effect.pug","hash":"6528e86656906117a1af6b90e0349c2c4651d5e1","modified":1690642495387},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/pangu.pug","hash":"0f024e36b8116118233e10118714bde304e01e12","modified":1690642495696},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/prismjs.pug","hash":"ffb9ea15a2b54423cd4cd441e2d061b8233e9b58","modified":1690642495754},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/pjax.pug","hash":"cde142861edfc7aab435b8a0ebb84d9ba450fb5b","modified":1690642495707},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/subtitle.pug","hash":"8044b9c18b34b019ffe26b7383e7e80356b5e4b5","modified":1690642495846},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_ad.pug","hash":"60dc48a7b5d89c2a49123c3fc5893ab9c57dd225","modified":1690642495022},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_announcement.pug","hash":"ae392459ad401a083ca51ee0b27526b3c1e1faed","modified":1690642495028},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_archives.pug","hash":"86897010fe71503e239887fd8f6a4f5851737be9","modified":1690642495137},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_author.pug","hash":"03c6afabbf1ac729c7fb21c7ec06da0190b0fdc7","modified":1690642495171},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_bottom_self.pug","hash":"13dc8ce922e2e2332fe6ad5856ebb5dbf9ea4444","modified":1690642495178},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_categories.pug","hash":"d1a416d0a8a7916d0b1a41d73adc66f8c811e493","modified":1690642495191},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_newest_comment.pug","hash":"7834bf7c711e739fd33cfcd0b53d151013b3d449","modified":1690642495206},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_post_toc.pug","hash":"3057a2f6f051355e35d3b205121af8735100eacf","modified":1690642495217},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_recent_post.pug","hash":"e5aac7b28ed4123d75797263c64e74ac547945bc","modified":1690642495224},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_tags.pug","hash":"eceb4420a64c720f0d2741e89d6229bbb3d87353","modified":1690642495229},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_top_self.pug","hash":"ae67c6d4130a6c075058a9c1faea1648bcc6f83e","modified":1690642495240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_webinfo.pug","hash":"35ce167c5a275211bfc1fa3d49adfde5b404d98f","modified":1690642495249},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/index.pug","hash":"010e3d548ababca2280c4fc4168d9a4a1ee4f536","modified":1690642495556},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/aside.styl","hash":"57adf29a3e36e4ea84384e36c034eb294dffb208","modified":1690642496010},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/chat.styl","hash":"f9a5d3f1fc5ed0ed2ee4c1eaa58ed650d11ddebd","modified":1690642496026},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/comments.styl","hash":"c61dccca690d486c3d9c29cf028d87b777385141","modified":1690642496030},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/footer.styl","hash":"83a7a70eb0532ea9c4267939fe484af915fca01e","modified":1690642496093},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/head.styl","hash":"8cd2aaa32cd68cd1908c9001444a811c3d0f9267","modified":1690642496110},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/loading.styl","hash":"ac2aeee9926f75b2a0098efe1c114126987430f2","modified":1690642496559},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/pagination.styl","hash":"fb9f78bfbb79579f1d752cb73fb6d25c8418e0fd","modified":1690642496578},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/post.styl","hash":"fc9424d9c5def2201ec1d04dc79d0beedc1d2175","modified":1690642496591},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/relatedposts.styl","hash":"d53de408cb27a2e704aba7f7402b7caebe0410d8","modified":1690642496608},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/reward.styl","hash":"c5cfed620708807a48076b5ee59b0ba84e29aa80","modified":1690642496612},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/rightside.styl","hash":"bbc884d6b2158a833b77a1bbc07248e17874b22e","modified":1690642496621},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/sidebar.styl","hash":"631ca35a38bc4ac052e9caf47508ff1f99842fc7","modified":1690642496625},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/third-party.styl","hash":"5556c9bf4f53a90cb9b4945cd76a8849bd67f3f3","modified":1690642496684},{"_id":"node_modules/hexo-theme-butterfly/source/css/_global/function.styl","hash":"e0de61a059b5e6c7b8ebc7149b4650bdcd69af5e","modified":1690642496097},{"_id":"node_modules/hexo-theme-butterfly/source/css/_global/index.styl","hash":"51868d861c94a9f1ad7c0dbd66d2f475c5d4ea62","modified":1690642496144},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/highlight.styl","hash":"57a19eb0c418d92a88b143f56ccb8cd60e6d7ad0","modified":1690642496129},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/theme.styl","hash":"bcd384c8b2aa0390c9eb69ac1abbfd1240ce1da4","modified":1690642496677},{"_id":"node_modules/hexo-theme-butterfly/source/css/_mode/darkmode.styl","hash":"e4f948b0d4eb5483b2b360e56cbfe3359751b438","modified":1690642496047},{"_id":"node_modules/hexo-theme-butterfly/source/css/_mode/readmode.styl","hash":"c481d1f689a4e6d7ee492a03751bda47a30225ce","modified":1690642496596},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/archives.styl","hash":"c9e98027f2dd730ce389c2047f62ebb748955fcf","modified":1690642495995},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/categories.styl","hash":"f01ee74948cedb44e53cd3bb1ef36b7d2778ede7","modified":1690642496023},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/404.styl","hash":"50dbb9e6d98c71ffe16741b8c1b0c1b9771efd2b","modified":1690642495983},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/common.styl","hash":"4e320e16d49bc18085045937681f7331a1e243ca","modified":1690642496040},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/flink.styl","hash":"98d755b686ee833e9da10afaa40c4ec2bd66c19a","modified":1690642496086},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/homepage.styl","hash":"b3ea08d9460122751144a3ca835e009a460d6ad3","modified":1690642496138},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/tags.styl","hash":"580feb7e8b0822a1be48ac380f8c5c53b1523321","modified":1690642496637},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/button.styl","hash":"45f0c32bdea117540f6b14ebac6450d7142bd710","modified":1690642496017},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/gallery.styl","hash":"81ad85acf0e0fe7f9ee23c16a700e7154574d5dd","modified":1690642496107},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/hexo.styl","hash":"d76c38adf1d9c1279ef4241835667789f5b736e0","modified":1690642496113},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/hide.styl","hash":"ce489ca2e249e2a3cf71584e20d84bdb022e3475","modified":1690642496123},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/inlineImg.styl","hash":"df9d405c33a9a68946b530410f64096bcb72560c","modified":1690642496174},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/label.styl","hash":"66c59e193d794cdb02cca7bd1dc4aea5a19d7e84","modified":1690642496177},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/note.styl","hash":"85ae91c83691ea4511f4277da1194a185251cc78","modified":1690642496574},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/tabs.styl","hash":"bf9568444dd54e39dc59b461323dcd38942f27d9","modified":1690642496628},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/timeline.styl","hash":"f071156d439556e7463ed4bc61ceee87170d5d08","modified":1690642496692},{"_id":"node_modules/hexo-theme-butterfly/source/css/_search/algolia.styl","hash":"649a054e73278b6724bd4dd9b94724791ec5c928","modified":1690642495990},{"_id":"node_modules/hexo-theme-butterfly/source/css/_search/index.styl","hash":"20a3134e1302b62bfc881f4ec43f398267111f22","modified":1690642496161},{"_id":"node_modules/hexo-theme-butterfly/source/css/_search/local-search.styl","hash":"a86e4e9198b225b4b73a7a45f04b86cbbed0d231","modified":1690642496563},{"_id":"node_modules/hexo-theme-butterfly/source/css/_third-party/normalize.min.css","hash":"2c18a1c9604af475b4749def8f1959df88d8b276","modified":1690642493615},{"_id":"node_modules/hexo-theme-butterfly/source/js/search/algolia.js","hash":"fd86281d4f0f99ce173e49c1a0df3507fe268d37","modified":1690642493895},{"_id":"node_modules/hexo-theme-butterfly/source/js/search/local-search.js","hash":"8509cbd954ee9e099dcfbbfdafba70893a56e9ae","modified":1690642494475},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/abcjs/abcjs.pug","hash":"ed6906b7c6aa7046bbad95dfdda9211997be7099","modified":1690642494887},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/abcjs/index.pug","hash":"f58f1648d2d71311bafca4833f20b605bb5f18c8","modified":1690642495487},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/artalk.pug","hash":"5f86add36eeffbed61d11f08972a13697b4d9437","modified":1690642494982},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/disqus.pug","hash":"d85c3737b5c9548553a78b757a7698df126a52cf","modified":1690642495343},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/fb.pug","hash":"0344477a2cf38698318ead2681c63ac12f01586e","modified":1690642495397},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/index.pug","hash":"b2d274db84ef22fbd6d5ea8f4404821898934209","modified":1690642495492},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/remark42.pug","hash":"001e8be47854b891efe04013c240c38fed4185eb","modified":1690642495775},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/twikoo.pug","hash":"56c028ba0ea8fac19f0125114d765dfc56ce2b48","modified":1690642495892},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/valine.pug","hash":"39427e107230a10790972349c9dd4c4f31d55eb7","modified":1690642495923},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/waline.pug","hash":"d02f3cc9e6183e7d05c7e90e9ae1dee5ce21f297","modified":1690642495942},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/crisp.pug","hash":"2fb098a7aa45010a8cd212dc0bd5308c6e7c63e3","modified":1690642495295},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/chatra.pug","hash":"ddce8352b371a1fb426bdb6c33f587eb37a69647","modified":1690642495265},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/daovoice.pug","hash":"9b57a8e13de8fc51a5f550854e47164fd8ac1be8","modified":1690642495323},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/index.pug","hash":"618e1b7f9204049b07beb9e1363c844a78a9ace3","modified":1690642495502},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/tidio.pug","hash":"dd61eca6e9a45f63e09bdefba89fe285a81ba096","modified":1690642495873},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/messenger.pug","hash":"e39a9c37adf4cb15a2ba3b2cc65542ffea88650d","modified":1690642495644},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/artalk.pug","hash":"5d5d8a0a3a7690d6d01e3feb91c2a36a5cd651b1","modified":1690642494992},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/disqus.pug","hash":"9ef303da16d180619da18b146ddb9bc35f66bdbf","modified":1690642495347},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/disqusjs.pug","hash":"6e17b2cea503eabeb328835038812cfa95f15871","modified":1690642495362},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/facebook_comments.pug","hash":"0704efed9079c867ab5f7bee7381a6c869154c73","modified":1690642495393},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/giscus.pug","hash":"5127bc550a2edb1ab9f45416e1964c76e8201544","modified":1690642495428},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/index.pug","hash":"35ae7980f658a349c5956c5699efd435b604b836","modified":1690642495506},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/gitalk.pug","hash":"2fc5627eb63118c83df9422b47c801822e28df98","modified":1690642495440},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/js.pug","hash":"00ed91c52939b9675b316137f854d13684c895a6","modified":1690642495574},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/livere.pug","hash":"52ea8aa26b84d3ad38ae28cdf0f163e9ca8dced7","modified":1690642495601},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/remark42.pug","hash":"598790433e3c9be28b0063bff08d257acd0abf75","modified":1690642495779},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/twikoo.pug","hash":"4d78f6266d0870c06c10eaf47c951bd4d9a7732e","modified":1690642495902},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/utterances.pug","hash":"2a8d02ed9303092e8816f6489a443e7388102470","modified":1690642495912},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/waline.pug","hash":"0a1b8fe95623b095eb7ede3f30ca327684d1e613","modified":1690642495956},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/valine.pug","hash":"e55b9c0f8ced231f47eb88bd7f4ec99f29c5c29d","modified":1690642495928},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/math/index.pug","hash":"b8ae5fd7d74e1edcef21f5004fc96147e064d219","modified":1690642495510},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/math/katex.pug","hash":"dfcbd9881be569ea420eff1a6b00e4f4dbe2138e","modified":1690642495581},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/math/mathjax.pug","hash":"fc072ac839401174b5d3cf9acd3b694246c23a55","modified":1690642495622},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/disqus-comment.pug","hash":"4fe8faf77b8420fc031ae1b54f78b2ece9fcc07e","modified":1690642495332},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/artalk.pug","hash":"8c0d9a45bd2d83cc6d0e7bbfe172a09ff33c0178","modified":1690642495000},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/github-issues.pug","hash":"0330e3063ccf0ce40e4828b8d4fbef62362e8195","modified":1690642495447},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/math/mermaid.pug","hash":"d0ce1891b042dcc2c93cacc866e38721b94aa4c4","modified":1690642495637},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/index.pug","hash":"4ec0642f2d5444acfab570a6f8c7868e7ff43fde","modified":1690642495517},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/twikoo-comment.pug","hash":"44991d67abb81784c5cdb4337b2b9798fc4361e1","modified":1690642495879},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/valine.pug","hash":"b7b2aa5be4112065d5066c0f066f5f58721153bf","modified":1690642495935},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/remark42.pug","hash":"aa6061183a32472cd1882fce445a5049108a984b","modified":1690642495787},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/waline.pug","hash":"ae1ccd78926cc19399d396b237d5161d7cde44a8","modified":1690642495969},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/search/algolia.pug","hash":"9c3c109a12d2b6916e8b4965cca12f521510ead9","modified":1690642494939},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/search/docsearch.pug","hash":"1c3e101445c5571ba998ce293d3984319df1b3b0","modified":1690642495373},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/search/index.pug","hash":"a99a41334387ee9a46c6f8e8212331a29a10d159","modified":1690642495526},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/search/local-search.pug","hash":"5ebd5e8d39c9f77f5b2d983f6cd6802ccaf98746","modified":1690642495611},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/share/add-this.pug","hash":"2980f1889226ca981aa23b8eb1853fde26dcf89a","modified":1690642494904},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/share/addtoany.pug","hash":"85c92f8a7e44d7cd1c86f089a05be438535e5362","modified":1690642494926},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/share/index.pug","hash":"4c4a9c15215ae8ac5eadb0e086b278f76db9ee92","modified":1690642495530},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/share/share-js.pug","hash":"c7dd2b2ae9b23aa0a60fffd7df9e9f76ef52033e","modified":1690642495810},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/highlight/diff.styl","hash":"cf1fae641c927621a4df1be5ca4a853b9b526e23","modified":1690642496063},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/highlight/index.styl","hash":"18804c58239d95798fa86d0597f32d7f7dd30051","modified":1690642496148},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/prismjs/index.styl","hash":"5dc2e0bcae9a54bfb9bdcc82d02ae5a3cf1ca97d","modified":1690642496156},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/prismjs/diff.styl","hash":"5972c61f5125068cbe0af279a0c93a54847fdc3b","modified":1690642496078},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/prismjs/line-number.styl","hash":"8970cc1916c982b64a1478792b2822d1d31e276d","modified":1690642496551},{"_id":"public/search.xml","hash":"6b97e96c97440508fefab355224b3e431c5404a3","modified":1690706505672},{"_id":"public/404.html","hash":"b31da6e4942288840d4835ea0d35e8bdb929c541","modified":1690706505672},{"_id":"public/about/index.html","hash":"fccc4975fe6c3e17a42b38b937f06977eb062980","modified":1690706505672},{"_id":"public/movies/index.html","hash":"3277407e010554198c6a9659158035b7fee2e127","modified":1690706505672},{"_id":"public/link/index.html","hash":"66d98d8aeb704237aabd66a3de88005acc361de0","modified":1690706505672},{"_id":"public/music/index.html","hash":"3891d634e67cfe23a289fce845aa842ab92e60ce","modified":1690706505672},{"_id":"public/tags/index.html","hash":"802bf06dd3588755db8c3efdae1056c2a82b01b9","modified":1690706505672},{"_id":"public/2023/07/30/23-7-30-2/index.html","hash":"1e87321f0b7a5187d8b09a91c4edc40327f55ace","modified":1690706505672},{"_id":"public/2023/07/30/23-7-30-3/index.html","hash":"4ad0b681738f1da4a9a4cdd8cbe29415547bd546","modified":1690706505672},{"_id":"public/2023/07/29/23-7-30-1/index.html","hash":"72cb412bc7defc52bd9993066b7f5b52fa3d14a4","modified":1690706505672},{"_id":"public/archives/index.html","hash":"f43aa7be569955637b8fb9ac28890cd6cea0b78e","modified":1690706505672},{"_id":"public/archives/2023/index.html","hash":"960e6ab6bd866e284badc380ed056b6e88b98c34","modified":1690706505672},{"_id":"public/archives/2023/07/index.html","hash":"52b2db2fc38648992a8e8fee4e6b57a5e09c60c2","modified":1690706505672},{"_id":"public/index.html","hash":"853c928f0ec28d1458084eac54912aee7ae0db67","modified":1690706505672},{"_id":"public/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1690706505672},{"_id":"public/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1690706505672},{"_id":"public/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1690706505672},{"_id":"public/css/var.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1690706505672},{"_id":"public/js/utils.js","hash":"aaaedc207440095da1ffabcad870fc2641befb0e","modified":1690706505672},{"_id":"public/js/search/algolia.js","hash":"fd86281d4f0f99ce173e49c1a0df3507fe268d37","modified":1690706505672},{"_id":"public/js/search/local-search.js","hash":"8509cbd954ee9e099dcfbbfdafba70893a56e9ae","modified":1690706505672},{"_id":"public/css/index.css","hash":"83dda1898f16f23c21ec29684d71d5aea3673438","modified":1690706505672},{"_id":"public/js/main.js","hash":"0227b5bd233a3c66582e0ee820cdb353ce52ece1","modified":1690706505672},{"_id":"public/js/tw_cn.js","hash":"42b106354d72a0ea1fe62587b313a5b7de3cc393","modified":1690706505672},{"_id":"source/img/image-20221025163441508.png","hash":"2e43c4eb972012600560f344b8be281ff8c2a124","modified":1666686881000},{"_id":"source/img/image-20221025164401144.png","hash":"c48e274f036a0fd0fb439c914c5ed12789f6f200","modified":1666687441000},{"_id":"source/_posts/22-08-05-2.md","hash":"c05b86c0550978486c6800da70d3c967ff27ddd2","modified":1690804278774},{"_id":"source/img/image-20221025164457908.png","hash":"0c38daa0d29c83b4e1293dc5dd55131a7165c3ae","modified":1666687497000},{"_id":"source/_posts/22-08-10-3.md","hash":"e2661d252bd72afb0079a81cb3324fffd58cd2d3","modified":1690804783261},{"_id":"source/img/image-20221025164618940.png","hash":"d82a619c168b8c6c1207a3141f99fe218a5a47ed","modified":1666687578000},{"_id":"source/img/image-20221025164539512.png","hash":"7ff12c6efe4207f5895c013b66a1887aa8d2b7e3","modified":1666687539000},{"_id":"source/_posts/22-07-30-1.md","hash":"5309a8bd0b16d0c7aa1fd7b4613ec83f2f8fe25e","modified":1690801607667},{"_id":"source/img/image-20221025164652215.png","hash":"5780d749fe78276e82701c81670ae8c2621b858a","modified":1666687612000},{"_id":"source/img/image-20230522155235201.png","hash":"7f336dadfdf5caeb1b5faed51c1dfa8c313912e2","modified":1684741955000},{"_id":"source/img/image-20230521163900590.png","hash":"9177615d99e1a32c195e7e23175024cab96086cb","modified":1684658340000},{"_id":"source/img/image-20230521212411230.png","hash":"9d9f605208c583294180575dd2e684731da12e23","modified":1684675451000},{"_id":"source/img/image-20230521212545143.png","hash":"b7cbf2e5d884c20144895bd5de78b1a9dda1ded1","modified":1684675545000},{"_id":"source/img/image-20230521192401756.png","hash":"ded7217fbcde7d7d3afabe2f5bb451c847c9b1b6","modified":1684668241000},{"_id":"source/img/image-20230521212323764.png","hash":"ecc801664aaf8fd52c2ec4a27f80741829575038","modified":1684675403000},{"_id":"source/img/image-20230521193406678.png","hash":"8f3abd4b93be9ad8b3918d61ce04f03e785ad4c6","modified":1684668846000},{"_id":"source/img/image-20230521164959631.png","hash":"db34597878f6e101f34c15591ae0d1fd9f8f4088","modified":1684658999000}],"Category":[],"Data":[{"_id":"link","data":[{"class_name":"1.æŠ€æœ¯æ”¯æŒ","class_desc":"æœ¬ç½‘ç«™çš„æ­å»ºç”±ä»¥ä¸‹å¼€æºä½œè€…æä¾›æŠ€æœ¯æ”¯æŒ","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-cn/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"å¿«é€Ÿã€ç®€å•ä¸”å¼ºå¤§çš„ç½‘å¿—æ¡†æ¶","siteshot":"https://source.fomal.cc/siteshot/hexo.io.jpg"}]},{"class_name":"2.å‹æƒ…é“¾æ¥","class_desc":"ä¸€äº›å¥½æœ‹å‹~~","link_list":[{"name":"FomalhautğŸ¥","link":"https://fomal.cc/","avatar":"/assets/head.jpg","descr":"Future is now ğŸ­ğŸ­ğŸ­","siteshot":"https://source.fomal.cc/siteshot/www.fomal.cn.jpg"}]}]}],"Page":[{"title":"å…³äº","date":"2023-07-29T15:00:35.000Z","_content":"","source":"about/index.md","raw":"---\ntitle: å…³äº\ndate: 2023-07-29 23:00:35\n---\n","updated":"2023-07-30T07:44:20.413Z","path":"about/index.html","comments":1,"layout":"page","_id":"clkp7020z0000n8qo60fc0yb3","content":"","site":{"data":{"link":[{"class_name":"1.æŠ€æœ¯æ”¯æŒ","class_desc":"æœ¬ç½‘ç«™çš„æ­å»ºç”±ä»¥ä¸‹å¼€æºä½œè€…æä¾›æŠ€æœ¯æ”¯æŒ","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-cn/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"å¿«é€Ÿã€ç®€å•ä¸”å¼ºå¤§çš„ç½‘å¿—æ¡†æ¶","siteshot":"https://source.fomal.cc/siteshot/hexo.io.jpg"}]},{"class_name":"2.å‹æƒ…é“¾æ¥","class_desc":"ä¸€äº›å¥½æœ‹å‹~~","link_list":[{"name":"FomalhautğŸ¥","link":"https://fomal.cc/","avatar":"/assets/head.jpg","descr":"Future is now ğŸ­ğŸ­ğŸ­","siteshot":"https://source.fomal.cc/siteshot/www.fomal.cn.jpg"}]}]}},"cover":"https://source.fomal.cc/img/default_cover_10.webp","cover_type":"img","excerpt":"","more":""},{"title":"ç”µå½±","date":"2023-07-29T15:00:35.000Z","_content":"","source":"movies/index.md","raw":"---\ntitle: ç”µå½±\ndate: 2023-07-29 23:00:35\n---\n","updated":"2023-07-30T07:42:53.945Z","path":"movies/index.html","comments":1,"layout":"page","_id":"clkp7021e0002n8qodtvz4uzn","content":"","site":{"data":{"link":[{"class_name":"1.æŠ€æœ¯æ”¯æŒ","class_desc":"æœ¬ç½‘ç«™çš„æ­å»ºç”±ä»¥ä¸‹å¼€æºä½œè€…æä¾›æŠ€æœ¯æ”¯æŒ","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-cn/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"å¿«é€Ÿã€ç®€å•ä¸”å¼ºå¤§çš„ç½‘å¿—æ¡†æ¶","siteshot":"https://source.fomal.cc/siteshot/hexo.io.jpg"}]},{"class_name":"2.å‹æƒ…é“¾æ¥","class_desc":"ä¸€äº›å¥½æœ‹å‹~~","link_list":[{"name":"FomalhautğŸ¥","link":"https://fomal.cc/","avatar":"/assets/head.jpg","descr":"Future is now ğŸ­ğŸ­ğŸ­","siteshot":"https://source.fomal.cc/siteshot/www.fomal.cn.jpg"}]}]}},"cover":"https://source.fomal.cc/img/default_cover_5.webp","cover_type":"img","excerpt":"","more":""},{"title":"link","date":"2023-07-29T15:00:35.000Z","type":"link","_content":"","source":"link/index.md","raw":"---\ntitle: link\ndate: 2023-07-29 23:00:35\ntype: 'link'\n---\n","updated":"2023-07-30T06:55:56.402Z","path":"link/index.html","comments":1,"layout":"page","_id":"clkp7021m0004n8qo1bvy5a7u","content":"","site":{"data":{"link":[{"class_name":"1.æŠ€æœ¯æ”¯æŒ","class_desc":"æœ¬ç½‘ç«™çš„æ­å»ºç”±ä»¥ä¸‹å¼€æºä½œè€…æä¾›æŠ€æœ¯æ”¯æŒ","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-cn/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"å¿«é€Ÿã€ç®€å•ä¸”å¼ºå¤§çš„ç½‘å¿—æ¡†æ¶","siteshot":"https://source.fomal.cc/siteshot/hexo.io.jpg"}]},{"class_name":"2.å‹æƒ…é“¾æ¥","class_desc":"ä¸€äº›å¥½æœ‹å‹~~","link_list":[{"name":"FomalhautğŸ¥","link":"https://fomal.cc/","avatar":"/assets/head.jpg","descr":"Future is now ğŸ­ğŸ­ğŸ­","siteshot":"https://source.fomal.cc/siteshot/www.fomal.cn.jpg"}]}]}},"cover":"https://source.fomal.cc/img/default_cover_2.webp","cover_type":"img","excerpt":"","more":""},{"title":"éŸ³ä¹","date":"2023-07-29T15:00:35.000Z","_content":"","source":"music/index.md","raw":"---\ntitle: éŸ³ä¹\ndate: 2023-07-29 23:00:35\n---\n","updated":"2023-07-30T07:42:57.803Z","path":"music/index.html","comments":1,"layout":"page","_id":"clkp7021r0006n8qohglj5w7r","content":"","site":{"data":{"link":[{"class_name":"1.æŠ€æœ¯æ”¯æŒ","class_desc":"æœ¬ç½‘ç«™çš„æ­å»ºç”±ä»¥ä¸‹å¼€æºä½œè€…æä¾›æŠ€æœ¯æ”¯æŒ","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-cn/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"å¿«é€Ÿã€ç®€å•ä¸”å¼ºå¤§çš„ç½‘å¿—æ¡†æ¶","siteshot":"https://source.fomal.cc/siteshot/hexo.io.jpg"}]},{"class_name":"2.å‹æƒ…é“¾æ¥","class_desc":"ä¸€äº›å¥½æœ‹å‹~~","link_list":[{"name":"FomalhautğŸ¥","link":"https://fomal.cc/","avatar":"/assets/head.jpg","descr":"Future is now ğŸ­ğŸ­ğŸ­","siteshot":"https://source.fomal.cc/siteshot/www.fomal.cn.jpg"}]}]}},"cover":"https://source.fomal.cc/img/default_cover_5.webp","cover_type":"img","excerpt":"","more":""},{"title":"tags","date":"2023-07-29T14:59:47.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2023-07-29 22:59:47\ntype: 'tags'\n---\n","updated":"2023-07-30T06:55:56.443Z","path":"tags/index.html","comments":1,"layout":"page","_id":"clkp7021s0007n8qo9zas7v7b","content":"","site":{"data":{"link":[{"class_name":"1.æŠ€æœ¯æ”¯æŒ","class_desc":"æœ¬ç½‘ç«™çš„æ­å»ºç”±ä»¥ä¸‹å¼€æºä½œè€…æä¾›æŠ€æœ¯æ”¯æŒ","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-cn/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"å¿«é€Ÿã€ç®€å•ä¸”å¼ºå¤§çš„ç½‘å¿—æ¡†æ¶","siteshot":"https://source.fomal.cc/siteshot/hexo.io.jpg"}]},{"class_name":"2.å‹æƒ…é“¾æ¥","class_desc":"ä¸€äº›å¥½æœ‹å‹~~","link_list":[{"name":"FomalhautğŸ¥","link":"https://fomal.cc/","avatar":"/assets/head.jpg","descr":"Future is now ğŸ­ğŸ­ğŸ­","siteshot":"https://source.fomal.cc/siteshot/www.fomal.cn.jpg"}]}]}},"cover":"https://source.fomal.cc/img/default_cover_2.webp","cover_type":"img","excerpt":"","more":""}],"Post":[{"title":"ç¬¬ ä¸€ ç¯‡æ–‡ç«  Reactåº•å±‚åŸç†","date":"2022-07-30T15:00:35.000Z","_content":"# React åº•å±‚åŸç†\n\nè‡³æ­¤æˆ‘ä»¬ä»‹ç»äº†reactçš„ç†å¿µï¼Œå¦‚ä½•è§£å†³cpuå’Œioçš„ç“¶é¢ˆï¼Œå…³é”®æ˜¯å®ç°å¼‚æ­¥å¯ä¸­æ–­çš„æ›´æ–°\n\næˆ‘ä»¬ä»‹ç»äº†reactæºç æ¶æ„ï¼ˆui=fn(state)ï¼‰ï¼Œä»schedulerå¼€å§‹è°ƒåº¦ï¼ˆæ ¹æ®è¿‡æœŸäº‹ä»¶åˆ¤æ–­ä¼˜å…ˆçº§ï¼Œæ—¶é—´åˆ†ç‰‡ï¼‰ï¼Œç»è¿‡renderé˜¶æ®µçš„æ·±åº¦ä¼˜å…ˆéå†å½¢æˆeffectListï¼ˆä¸­é—´ä¼šæ‰§è¡Œreconcile|diffï¼‰ï¼Œäº¤ç»™commitå¤„ç†çœŸå®èŠ‚ç‚¹ï¼ˆä¸­é—´ç©¿æ’ç”Ÿå‘½å‘¨æœŸå’Œéƒ¨åˆ†hooksï¼‰ï¼Œè€Œè¿™äº›è°ƒåº¦çš„è¿‡ç¨‹éƒ½ç¦»ä¸å¼€Fiberçš„æ”¯æ’‘ï¼Œ**Fiberæ˜¯å·¥ä½œå•å…ƒï¼Œä¹Ÿæ˜¯èŠ‚ç‚¹ä¼˜å…ˆçº§ã€æ›´æ–°UpdateQueueã€èŠ‚ç‚¹ä¿¡æ¯çš„è½½ä½“**ï¼ŒFiberåŒç¼“å­˜åˆ™æä¾›äº†å¯¹æ¯”å‰åèŠ‚ç‚¹æ›´æ–°çš„åŸºç¡€ã€‚æˆ‘ä»¬è¿˜ä»‹ç»äº†jsxæ˜¯React.createElementçš„è¯­æ³•ç³–ã€‚Laneæ¨¡å‹åˆ™æä¾›äº†æ›´ç»†ç²’åº¦çš„ä¼˜å…ˆçº§å¯¹æ¯”å’Œè®¡ç®—ï¼Œè¿™ä¸€åˆ‡éƒ½ä¸ºconcurrent modeæä¾›äº†åŸºç¡€ï¼Œåœ¨è¿™ä¹‹ä¸Šå˜å¯ä»¥å®ç°Suspenseå’ŒbatchedUpdateï¼ˆ16ã€17ç‰ˆæœ¬å®ç°çš„é€»è¾‘ä¸ä¸€æ ·ï¼‰ï¼Œcontextçš„valueStackå’ŒvalueCursoråœ¨æ•´ä¸ªæ¶æ„ä¸­è¿è¡Œæœºåˆ¶ï¼Œæœ€åä»‹ç»äº†æ–°ç‰ˆäº‹ä»¶ç³»ç»Ÿï¼ŒåŒ…æ‹¬äº‹ä»¶ç”Ÿäº§ã€ç›‘å¬å’Œè§¦å‘\n\n## 1. reactçš„æ¶æ„\n\nhttps://juejin.cn/post/7211072055780573221#heading-0\n\nhttps://juejin.cn/post/6926432527980691470\n\nä½œä¸ºæ¶æ„æ¥è¯´ï¼Œä¹‹å‰`React15`çš„`Reconciler`é‡‡ç”¨é€’å½’çš„æ–¹å¼æ‰§è¡Œï¼Œæ•°æ®ä¿å­˜åœ¨é€’å½’è°ƒç”¨æ ˆä¸­ï¼Œæ‰€ä»¥è¢«ç§°ä¸º`stack Reconciler`ã€‚`React16`çš„`Reconciler`åŸºäº`FiberèŠ‚ç‚¹`å®ç°ï¼Œè¢«ç§°ä¸º`Fiber Reconciler`ã€‚\n\næ–°ç‰ˆReactæ¶æ„åˆ†ä¸ºä¸‰å¤§éƒ¨åˆ†ï¼š\n\n- Schedulerè°ƒåº¦å™¨ï¼š  æ’åºä¼˜å…ˆçº§ï¼Œè®©ä¼˜å…ˆçº§é«˜çš„ä»»åŠ¡å…ˆè¿›è¡Œreconcile\n- Reconcileråè°ƒå™¨ï¼šæ¥å—æ›´æ–°ï¼Œåˆ›å»ºè™šæ‹Ÿdomæ ‘ï¼Œæ‰¾å‡ºå“ªäº›èŠ‚ç‚¹å‘ç”Ÿäº†æ”¹å˜ï¼Œå¹¶æ‰“ä¸Šä¸åŒçš„effectTag\n- Rendereræ¸²æŸ“å™¨ï¼šå°†Reconcilerä¸­æ‰“å¥½æ ‡ç­¾çš„èŠ‚ç‚¹æ¸²æŸ“åˆ°è§†å›¾ä¸Š\n\n\n\nFiberè¿™ç§æ•°æ®ç»“æ„åï¼Œèƒ½å®Œæˆå“ªäº›äº‹æƒ…å‘¢ï¼Œ\n\n- **å·¥ä½œå•å…ƒ ä»»åŠ¡åˆ†è§£** ï¼šFiberæœ€é‡è¦çš„åŠŸèƒ½å°±æ˜¯ä½œä¸ºå·¥ä½œå•å…ƒï¼Œä¿å­˜åŸç”ŸèŠ‚ç‚¹æˆ–è€…ç»„ä»¶èŠ‚ç‚¹å¯¹åº”ä¿¡æ¯ï¼ˆåŒ…æ‹¬ä¼˜å…ˆçº§ï¼‰ï¼Œè¿™äº›èŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆçš„å½¢ä¼¼å½¢æˆFiberæ ‘\n- **å¢é‡æ¸²æŸ“**ï¼šé€šè¿‡jsxå¯¹è±¡å’Œcurrent Fiberçš„å¯¹æ¯”ï¼Œç”Ÿæˆæœ€å°çš„å·®å¼‚è¡¥ä¸ï¼Œåº”ç”¨åˆ°çœŸå®èŠ‚ç‚¹ä¸Š\n- **æ ¹æ®ä¼˜å…ˆçº§æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§**ï¼šFiberèŠ‚ç‚¹ä¸Šä¿å­˜äº†ä¼˜å…ˆçº§ï¼Œèƒ½é€šè¿‡ä¸åŒèŠ‚ç‚¹ä¼˜å…ˆçº§çš„å¯¹æ¯”ï¼Œè¾¾åˆ°ä»»åŠ¡çš„æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§ç­‰èƒ½åŠ›ï¼Œä¹Ÿä¸ºä¸Šå±‚å®ç°æ‰¹é‡æ›´æ–°ã€Suspenseæä¾›äº†åŸºç¡€\n- **ä¿å­˜çŠ¶æ€ï¼š**å› ä¸ºFiberèƒ½ä¿å­˜çŠ¶æ€å’Œæ›´æ–°çš„ä¿¡æ¯ï¼Œæ‰€ä»¥å°±èƒ½å®ç°å‡½æ•°ç»„ä»¶çš„çŠ¶æ€æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯hooks\n- https://songhaoyong.blogspot.com/2023/07/react.html\n\n## 2. renderé˜¶æ®µ\n\nrenderï¼šReconcilerå·¥ä½œçš„é˜¶æ®µè¢«ç§°ä¸ºrenderé˜¶æ®µã€‚å› ä¸ºåœ¨è¯¥é˜¶æ®µä¼šè°ƒç”¨ç»„ä»¶çš„renderæ–¹æ³•\n\nrenderé˜¶æ®µçš„ä¸»è¦å·¥ä½œæ˜¯æ„å»ºFiberæ ‘å’Œç”ŸæˆeffectList\n\nå¼€å§‹å·¥ä½œå‰ä¼šå…ˆæ‰¾åˆ°div#rootå¯¹åº”çš„`rootFiberï¼Œç§°ä¸º`hostRootFiber`ï¼Œç„¶åå¼€å§‹ç”Ÿæˆ`wip Fiberæ ‘`ã€‚ è¿™ä¸ªè¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šbeginWork`å’ŒcompleteWorkã€‚ è¿™æ˜¯ä¸€ä¸ªæ·±åº¦ä¼˜å…ˆéå†çš„è¿‡ç¨‹ã€‚\n\n**beginwork**:ä¸»è¦çš„å·¥ä½œæ˜¯åˆ›å»ºæˆ–å¤ç”¨å­fiberèŠ‚ç‚¹ï¼ˆåŒæ—¶æ¶‰åŠåˆ°diffç®—æ³•ï¼Œä¸ºç»“ç‚¹æ‰“ä¸ŠeffectTagsï¼‰\n\nä»æ ¹èŠ‚ç‚¹rootFiberå¼€å§‹ï¼Œéå†åˆ°å¶å­èŠ‚ç‚¹ï¼Œæ¯æ¬¡éå†åˆ°çš„èŠ‚ç‚¹éƒ½ä¼šæ‰§è¡ŒbeginWorkï¼Œå¹¶ä¸”ä¼ å…¥å½“å‰FiberèŠ‚ç‚¹ï¼Œç„¶ååˆ›å»ºæˆ–å¤ç”¨å®ƒçš„å­FiberèŠ‚ç‚¹ï¼Œå¹¶èµ‹å€¼ç»™workInProgress.childã€‚\n\n**completework**:ä¸»è¦å·¥ä½œæ˜¯å¤„ç†fiberçš„propsã€åˆ›å»ºdomã€åˆ›å»ºeffectList \n\n1ã€(å¤„ç†propså°†å˜åŒ–çš„éƒ¨åˆ†è³¦å€¼ç»™workInProgerss.updateQueue)\n\n2ã€mountæ—¶ è°ƒç”¨createInstanceåˆ›å»ºdomï¼Œå°†åä»£domèŠ‚ç‚¹æ’å…¥åˆšåˆ›å»ºçš„domä¸­\n\n3ã€å°†effectTagçš„èŠ‚ç‚¹ï¼ŒåŠ å…¥åˆ°effectListä¸­\n\nå½“éå†åˆ°å­èŠ‚ç‚¹åï¼Œä¼šæ‰§è¡ŒcompleteWorkæ–¹æ³•ï¼Œæ‰§è¡Œå®Œæˆä¹‹åä¼šåˆ¤æ–­æ­¤èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹å­˜ä¸å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨å°±ä¼šä¸ºå…„å¼ŸèŠ‚ç‚¹æ‰§è¡ŒcompleteWorkï¼Œå½“å…¨éƒ¨å…„å¼ŸèŠ‚ç‚¹æ‰§è¡Œå®Œä¹‹åï¼Œä¼šå‘ä¸Šå›åˆ°çˆ¶èŠ‚ç‚¹æ‰§è¡ŒcompleteWorkï¼Œç›´åˆ°rootFiberã€‚\n\n\n\nshouldYiled æ–¹æ³•å°±æ˜¯åˆ¤æ–­å¾…å¤„ç†çš„ä»»åŠ¡é˜Ÿåˆ—æœ‰æ²¡æœ‰ä¼˜å…ˆçº§æ›´é«˜çš„ä»»åŠ¡ï¼Œæœ‰çš„è¯å°±å…ˆå¤„ç†é‚£è¾¹çš„ fiberï¼Œè¿™è¾¹çš„å…ˆæš‚åœä¸€ä¸‹ã€‚\n\n## 3. commité˜¶æ®µ\n\ncommitï¼šRendererå·¥ä½œçš„é˜¶æ®µè¢«ç§°ä¸ºcommité˜¶æ®µã€‚commité˜¶æ®µä¼šæŠŠrenderé˜¶æ®µæäº¤çš„ä¿¡æ¯æ¸²æŸ“åœ¨é¡µé¢ä¸Š\n\néå†renderé˜¶æ®µç”Ÿæˆçš„effectListï¼ŒeffectListä¸Šçš„FiberèŠ‚ç‚¹ä¿å­˜ç€å¯¹åº”çš„propså˜åŒ–ã€‚ä¹‹åä¼šéå†effectListè¿›è¡Œå¯¹åº”çš„domæ“ä½œå’Œç”Ÿå‘½å‘¨æœŸã€hookså›è°ƒæˆ–é”€æ¯å‡½æ•°ã€‚\n\n**commité˜¶æ®µ**çš„ä¸»è¦å·¥ä½œï¼ˆå³Rendererçš„å·¥ä½œæµç¨‹ï¼‰åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š\n\n- before mutationé˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œå‰ï¼‰\n\nâ€‹\t\tè¿™ä¸ªé˜¶æ®µ DOM èŠ‚ç‚¹è¿˜æ²¡æœ‰è¢«æ¸²æŸ“åˆ°ç•Œé¢ä¸Šå»ï¼Œè¿‡ç¨‹ä¸­ä¼šè§¦å‘ `getSnapshotBeforeUpdate`ï¼Œä¹Ÿä¼šå¤„ç† `useEffect` é’©å­ç›¸å…³çš„è°ƒåº¦é€»è¾‘ã€‚\n\n- mutationé˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œï¼‰\n\nâ€‹\t\tè¿™ä¸ªé˜¶æ®µè´Ÿè´£ DOM èŠ‚ç‚¹çš„æ¸²æŸ“ã€‚åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œä¼šéå† effectListï¼Œæ ¹æ®effectTagçš„ä¸åŒï¼Œæ‰§è¡Œä¸åŒçš„ DOM æ“ä½œã€‚\n\n- layouté˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œåï¼‰\n\n  è¿™ä¸ªé˜¶æ®µå¤„ç† DOM æ¸²æŸ“å®Œæ¯•ä¹‹åçš„æ”¶å°¾é€»è¾‘ã€‚æ¯”å¦‚è°ƒç”¨ `componentDidMount/componentDidUpdate`ï¼Œè°ƒç”¨ `useLayoutEffect` é’©å­å‡½æ•°çš„å›è°ƒç­‰ã€‚é™¤äº†è¿™äº›ä¹‹å¤–ï¼Œå®ƒè¿˜ä¼šæŠŠ fiberRoot çš„ current æŒ‡é’ˆæŒ‡å‘ workInProgress Fiber æ ‘ã€‚\n\n\n## 4. renderå‡½æ•°\n\n**legacyæ¨¡å¼**\n\nrenderè°ƒç”¨legacyRenderSubtreeIntoContainerï¼Œä½œç”¨æ˜¯\n\n1ã€åˆ›å»ºFiberRootNodeå’ŒrootFiberèŠ‚ç‚¹, ï¼ˆè°ƒç”¨createRootImplï¼Œå…¶ä¼šè°ƒç”¨åˆ°createFiberRootåˆ›å»ºfiberRootNode,ç„¶åè°ƒç”¨createHostRootFiberåˆ›å»ºrootFiberï¼‰\n\n2ã€è°ƒç”¨updateContaineråˆ›å»ºåˆ›å»ºUpdateå¯¹è±¡æŒ‚è½½åˆ°updateQueueçš„ç¯å½¢é“¾è¡¨ä¸Šï¼Œï¼ˆç„¶åæ‰§è¡ŒscheduleUpdateOnFiberè°ƒç”¨performSyncWorkOnRootè¿›å…¥renderé˜¶æ®µå’Œcommité˜¶æ®µï¼‰\n\n**concurrentæ¨¡å¼ï¼š**\n\nè°ƒç”¨ReactDOMRoot.prototype.renderæ‰§è¡ŒupdateContainerï¼Œè°ƒç”¨updateContaineråˆ›å»ºåˆ›å»ºUpdateå¯¹è±¡æŒ‚è½½åˆ°updateQueueçš„ç¯å½¢é“¾è¡¨ä¸Šï¼Œï¼ˆç„¶åscheduleUpdateOnFiberå¼‚æ­¥è°ƒåº¦performConcurrentWorkOnRootè¿›å…¥renderé˜¶æ®µå’Œcommité˜¶æ®µï¼‰\n\n## 5. fiber\n\nFiberæ˜¯ä¸€ä¸ªjså¯¹è±¡ï¼Œèƒ½æ‰¿è½½èŠ‚ç‚¹ä¿¡æ¯ã€ä¼˜å…ˆçº§ã€updateQueueï¼ŒåŒæ—¶å®ƒè¿˜æ˜¯ä¸€ä¸ªå·¥ä½œå•å…ƒã€‚\n\n- **å·¥ä½œå•å…ƒ ä»»åŠ¡åˆ†è§£** ï¼šFiberæœ€é‡è¦çš„åŠŸèƒ½å°±æ˜¯ä½œä¸ºå·¥ä½œå•å…ƒï¼Œä¿å­˜åŸç”ŸèŠ‚ç‚¹æˆ–è€…ç»„ä»¶èŠ‚ç‚¹å¯¹åº”ä¿¡æ¯ï¼ˆåŒ…æ‹¬ä¼˜å…ˆçº§ï¼‰ï¼Œè¿™äº›èŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆçš„å½¢ä¼¼å½¢æˆFiberæ ‘\n- **å¢é‡æ¸²æŸ“**ï¼šé€šè¿‡jsxå¯¹è±¡å’Œcurrent Fiberçš„å¯¹æ¯”ï¼Œç”Ÿæˆæœ€å°çš„å·®å¼‚è¡¥ä¸ï¼Œåº”ç”¨åˆ°çœŸå®èŠ‚ç‚¹ä¸Šã€‚ï¼ˆ`fiber`å°†`react`ä¸­çš„æ¸²æŸ“ä»»åŠ¡æ‹†åˆ†åˆ°æ¯ä¸€å¸§ï¼‰\n- **æ ¹æ®ä¼˜å…ˆçº§æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§**ï¼šFiberèŠ‚ç‚¹ä¸Šä¿å­˜äº†ä¼˜å…ˆçº§ï¼Œèƒ½é€šè¿‡ä¸åŒèŠ‚ç‚¹ä¼˜å…ˆçº§çš„å¯¹æ¯”ï¼Œè¾¾åˆ°ä»»åŠ¡çš„æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§ç­‰èƒ½åŠ›ï¼Œä¹Ÿä¸ºä¸Šå±‚å®ç°æ‰¹é‡æ›´æ–°ã€Suspenseæä¾›äº†åŸºç¡€\n- **ä¿å­˜çŠ¶æ€ï¼š**å› ä¸ºFiberèƒ½ä¿å­˜çŠ¶æ€å’Œæ›´æ–°çš„ä¿¡æ¯ï¼Œæ‰€ä»¥å°±èƒ½å®ç°å‡½æ•°ç»„ä»¶çš„çŠ¶æ€æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯hooks\n\n## 6. hooksçš„å®ç°åŸç†\n\n**åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ï¼Œhooks çš„å®ç°å°±æ˜¯åŸºäº fiber çš„ï¼Œå¤šä¸ªhookä¼šå½¢æˆhooké“¾è¡¨ï¼Œä¿å­˜åœ¨Fiberçš„memoizedStateçš„ä¸Š**ã€‚hookä¸èƒ½å†™åœ¨æ¡ä»¶åˆ¤æ–­ä¸­æ­£å› ä¸ºhookä¼šæŒ‰é¡ºåºå­˜å‚¨åœ¨é“¾è¡¨ä¸­ï¼Œå¦‚æœhookå†™åœ¨æ¡ä»¶åˆ¤æ–­ä¸­ï¼Œå°±æ²¡æ³•ä¿æŒé“¾è¡¨çš„é¡ºåºï¼Œä¼šé€ æˆä¹±åºã€‚\n\nhookè°ƒç”¨å…¥å£\n\nåœ¨hookæºç ä¸­hookå­˜åœ¨äºDispatcherä¸­ï¼ŒDispatcherå°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸åŒhook è°ƒç”¨çš„å‡½æ•°ä¸ä¸€æ ·ï¼Œå…¨å±€å˜é‡ReactCurrentDispatcher.currentä¼šæ ¹æ®æ˜¯mountè¿˜æ˜¯updateèµ‹å€¼ä¸ºHooksDispatcherOnMountæˆ–HooksDispatcherOnUpdateã€‚\n\n\n\nusestateçš„å·¥ä½œåŸç†\n\n\n\nuseStateåˆ†ä¸ºonMountå’ŒupDateä¸¤ç§æƒ…å†µï¼Œé€šè¿‡å…¨å±€å˜é‡ReactCurrentDispatcher.currentæ¥åˆ¤æ–­ã€‚\n\nonMountæ—¶ï¼Œhook.memoizedStateè®°å½•åˆå§‹çš„å€¼\n\nupdateæ›´æ–°æ—¶ï¼š\n\nå…¶ä¸­hooksçš„`memoizedState`æ˜¯ç”¨æ¥è®°å½•è¿™ä¸ª`useState`åº”è¯¥è¿”å›çš„ç»“æœçš„ï¼Œè€Œ`next`æŒ‡å‘çš„æ˜¯ä¸‹ä¸€æ¬¡`useState`å¯¹åº”çš„`Hookå¯¹è±¡ã€‚\n\n\n\nmemoizedStateè£…ç€stateï¼Œè€ŒdispatchAction å°±æ˜¯setState\n\ndispatchAction åˆ›å»ºæ–°çš„updateå¯¹è±¡ï¼Œå°†è¿™äº›æ›´æ–°å¯¹è±¡æ”¾åˆ°hook.queue.pendingçš„ç¯å½¢é“¾è¡¨ä¸­ï¼Œæœ€åé‡æ–°æ¸²æŸ“app\n\n\n\nhooksçš„æ•°æ®ç»“æ„\n\n```js\nconst hook: Hook = {\n  memoizedState: null,//å¯¹äºä¸åŒhookï¼Œæœ‰ä¸åŒçš„å€¼\n  baseState: null,//åˆå§‹state\n  baseQueue: null,//åˆå§‹queueé˜Ÿåˆ—\n  queue: null // { pending:è¿™æ˜¯ä¸€ä¸ªé“¾è¡¨å‚¨å­˜ç€update},//éœ€è¦æ›´æ–°çš„update\n  next: null,//ä¸‹ä¸€ä¸ªhook\n};\n```\n\n## 7ã€reactçš„çŠ¶æ€æ›´æ–°æµç¨‹\n\n<img src=\"img/image-20230511104437245.png\" alt=\"image-20230511104437245\" style=\"zoom:150%;\" />\n\nè§¦å‘æ›´æ–°åï¼Œä¼šåœ¨å‡½æ•°createUpdateä¸­åˆ›å»ºupdateæ›´æ–°ï¼Œå¹¶å°†å…¶åŠ å…¥åˆ°updateQueueä¸­ï¼Œä¼šä»è§¦å‘æ›´æ–°çš„èŠ‚ç‚¹å¼€å§‹å‘ä¸Šéå†åˆ°rootFiberï¼Œéå†çš„è¿‡ç¨‹ä¼šå¤„ç†èŠ‚ç‚¹çš„ä¼˜å…ˆçº§ã€‚ç„¶åæ ¹æ®ä¼˜å…ˆçº§è°ƒåº¦renderé˜¶æ®µçš„å…¥å£å‡½æ•°ã€‚æœ€åè¿›è¡Œrenderé˜¶æ®µå’Œcommité˜¶æ®µã€‚\n","source":"_posts/22-07-30-1.md","raw":"---\ntitle: ç¬¬ ä¸€ ç¯‡æ–‡ç«  Reactåº•å±‚åŸç†\ndate: 2022-07-30 23:00:35\n---\n# React åº•å±‚åŸç†\n\nè‡³æ­¤æˆ‘ä»¬ä»‹ç»äº†reactçš„ç†å¿µï¼Œå¦‚ä½•è§£å†³cpuå’Œioçš„ç“¶é¢ˆï¼Œå…³é”®æ˜¯å®ç°å¼‚æ­¥å¯ä¸­æ–­çš„æ›´æ–°\n\næˆ‘ä»¬ä»‹ç»äº†reactæºç æ¶æ„ï¼ˆui=fn(state)ï¼‰ï¼Œä»schedulerå¼€å§‹è°ƒåº¦ï¼ˆæ ¹æ®è¿‡æœŸäº‹ä»¶åˆ¤æ–­ä¼˜å…ˆçº§ï¼Œæ—¶é—´åˆ†ç‰‡ï¼‰ï¼Œç»è¿‡renderé˜¶æ®µçš„æ·±åº¦ä¼˜å…ˆéå†å½¢æˆeffectListï¼ˆä¸­é—´ä¼šæ‰§è¡Œreconcile|diffï¼‰ï¼Œäº¤ç»™commitå¤„ç†çœŸå®èŠ‚ç‚¹ï¼ˆä¸­é—´ç©¿æ’ç”Ÿå‘½å‘¨æœŸå’Œéƒ¨åˆ†hooksï¼‰ï¼Œè€Œè¿™äº›è°ƒåº¦çš„è¿‡ç¨‹éƒ½ç¦»ä¸å¼€Fiberçš„æ”¯æ’‘ï¼Œ**Fiberæ˜¯å·¥ä½œå•å…ƒï¼Œä¹Ÿæ˜¯èŠ‚ç‚¹ä¼˜å…ˆçº§ã€æ›´æ–°UpdateQueueã€èŠ‚ç‚¹ä¿¡æ¯çš„è½½ä½“**ï¼ŒFiberåŒç¼“å­˜åˆ™æä¾›äº†å¯¹æ¯”å‰åèŠ‚ç‚¹æ›´æ–°çš„åŸºç¡€ã€‚æˆ‘ä»¬è¿˜ä»‹ç»äº†jsxæ˜¯React.createElementçš„è¯­æ³•ç³–ã€‚Laneæ¨¡å‹åˆ™æä¾›äº†æ›´ç»†ç²’åº¦çš„ä¼˜å…ˆçº§å¯¹æ¯”å’Œè®¡ç®—ï¼Œè¿™ä¸€åˆ‡éƒ½ä¸ºconcurrent modeæä¾›äº†åŸºç¡€ï¼Œåœ¨è¿™ä¹‹ä¸Šå˜å¯ä»¥å®ç°Suspenseå’ŒbatchedUpdateï¼ˆ16ã€17ç‰ˆæœ¬å®ç°çš„é€»è¾‘ä¸ä¸€æ ·ï¼‰ï¼Œcontextçš„valueStackå’ŒvalueCursoråœ¨æ•´ä¸ªæ¶æ„ä¸­è¿è¡Œæœºåˆ¶ï¼Œæœ€åä»‹ç»äº†æ–°ç‰ˆäº‹ä»¶ç³»ç»Ÿï¼ŒåŒ…æ‹¬äº‹ä»¶ç”Ÿäº§ã€ç›‘å¬å’Œè§¦å‘\n\n## 1. reactçš„æ¶æ„\n\nhttps://juejin.cn/post/7211072055780573221#heading-0\n\nhttps://juejin.cn/post/6926432527980691470\n\nä½œä¸ºæ¶æ„æ¥è¯´ï¼Œä¹‹å‰`React15`çš„`Reconciler`é‡‡ç”¨é€’å½’çš„æ–¹å¼æ‰§è¡Œï¼Œæ•°æ®ä¿å­˜åœ¨é€’å½’è°ƒç”¨æ ˆä¸­ï¼Œæ‰€ä»¥è¢«ç§°ä¸º`stack Reconciler`ã€‚`React16`çš„`Reconciler`åŸºäº`FiberèŠ‚ç‚¹`å®ç°ï¼Œè¢«ç§°ä¸º`Fiber Reconciler`ã€‚\n\næ–°ç‰ˆReactæ¶æ„åˆ†ä¸ºä¸‰å¤§éƒ¨åˆ†ï¼š\n\n- Schedulerè°ƒåº¦å™¨ï¼š  æ’åºä¼˜å…ˆçº§ï¼Œè®©ä¼˜å…ˆçº§é«˜çš„ä»»åŠ¡å…ˆè¿›è¡Œreconcile\n- Reconcileråè°ƒå™¨ï¼šæ¥å—æ›´æ–°ï¼Œåˆ›å»ºè™šæ‹Ÿdomæ ‘ï¼Œæ‰¾å‡ºå“ªäº›èŠ‚ç‚¹å‘ç”Ÿäº†æ”¹å˜ï¼Œå¹¶æ‰“ä¸Šä¸åŒçš„effectTag\n- Rendereræ¸²æŸ“å™¨ï¼šå°†Reconcilerä¸­æ‰“å¥½æ ‡ç­¾çš„èŠ‚ç‚¹æ¸²æŸ“åˆ°è§†å›¾ä¸Š\n\n\n\nFiberè¿™ç§æ•°æ®ç»“æ„åï¼Œèƒ½å®Œæˆå“ªäº›äº‹æƒ…å‘¢ï¼Œ\n\n- **å·¥ä½œå•å…ƒ ä»»åŠ¡åˆ†è§£** ï¼šFiberæœ€é‡è¦çš„åŠŸèƒ½å°±æ˜¯ä½œä¸ºå·¥ä½œå•å…ƒï¼Œä¿å­˜åŸç”ŸèŠ‚ç‚¹æˆ–è€…ç»„ä»¶èŠ‚ç‚¹å¯¹åº”ä¿¡æ¯ï¼ˆåŒ…æ‹¬ä¼˜å…ˆçº§ï¼‰ï¼Œè¿™äº›èŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆçš„å½¢ä¼¼å½¢æˆFiberæ ‘\n- **å¢é‡æ¸²æŸ“**ï¼šé€šè¿‡jsxå¯¹è±¡å’Œcurrent Fiberçš„å¯¹æ¯”ï¼Œç”Ÿæˆæœ€å°çš„å·®å¼‚è¡¥ä¸ï¼Œåº”ç”¨åˆ°çœŸå®èŠ‚ç‚¹ä¸Š\n- **æ ¹æ®ä¼˜å…ˆçº§æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§**ï¼šFiberèŠ‚ç‚¹ä¸Šä¿å­˜äº†ä¼˜å…ˆçº§ï¼Œèƒ½é€šè¿‡ä¸åŒèŠ‚ç‚¹ä¼˜å…ˆçº§çš„å¯¹æ¯”ï¼Œè¾¾åˆ°ä»»åŠ¡çš„æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§ç­‰èƒ½åŠ›ï¼Œä¹Ÿä¸ºä¸Šå±‚å®ç°æ‰¹é‡æ›´æ–°ã€Suspenseæä¾›äº†åŸºç¡€\n- **ä¿å­˜çŠ¶æ€ï¼š**å› ä¸ºFiberèƒ½ä¿å­˜çŠ¶æ€å’Œæ›´æ–°çš„ä¿¡æ¯ï¼Œæ‰€ä»¥å°±èƒ½å®ç°å‡½æ•°ç»„ä»¶çš„çŠ¶æ€æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯hooks\n- https://songhaoyong.blogspot.com/2023/07/react.html\n\n## 2. renderé˜¶æ®µ\n\nrenderï¼šReconcilerå·¥ä½œçš„é˜¶æ®µè¢«ç§°ä¸ºrenderé˜¶æ®µã€‚å› ä¸ºåœ¨è¯¥é˜¶æ®µä¼šè°ƒç”¨ç»„ä»¶çš„renderæ–¹æ³•\n\nrenderé˜¶æ®µçš„ä¸»è¦å·¥ä½œæ˜¯æ„å»ºFiberæ ‘å’Œç”ŸæˆeffectList\n\nå¼€å§‹å·¥ä½œå‰ä¼šå…ˆæ‰¾åˆ°div#rootå¯¹åº”çš„`rootFiberï¼Œç§°ä¸º`hostRootFiber`ï¼Œç„¶åå¼€å§‹ç”Ÿæˆ`wip Fiberæ ‘`ã€‚ è¿™ä¸ªè¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šbeginWork`å’ŒcompleteWorkã€‚ è¿™æ˜¯ä¸€ä¸ªæ·±åº¦ä¼˜å…ˆéå†çš„è¿‡ç¨‹ã€‚\n\n**beginwork**:ä¸»è¦çš„å·¥ä½œæ˜¯åˆ›å»ºæˆ–å¤ç”¨å­fiberèŠ‚ç‚¹ï¼ˆåŒæ—¶æ¶‰åŠåˆ°diffç®—æ³•ï¼Œä¸ºç»“ç‚¹æ‰“ä¸ŠeffectTagsï¼‰\n\nä»æ ¹èŠ‚ç‚¹rootFiberå¼€å§‹ï¼Œéå†åˆ°å¶å­èŠ‚ç‚¹ï¼Œæ¯æ¬¡éå†åˆ°çš„èŠ‚ç‚¹éƒ½ä¼šæ‰§è¡ŒbeginWorkï¼Œå¹¶ä¸”ä¼ å…¥å½“å‰FiberèŠ‚ç‚¹ï¼Œç„¶ååˆ›å»ºæˆ–å¤ç”¨å®ƒçš„å­FiberèŠ‚ç‚¹ï¼Œå¹¶èµ‹å€¼ç»™workInProgress.childã€‚\n\n**completework**:ä¸»è¦å·¥ä½œæ˜¯å¤„ç†fiberçš„propsã€åˆ›å»ºdomã€åˆ›å»ºeffectList \n\n1ã€(å¤„ç†propså°†å˜åŒ–çš„éƒ¨åˆ†è³¦å€¼ç»™workInProgerss.updateQueue)\n\n2ã€mountæ—¶ è°ƒç”¨createInstanceåˆ›å»ºdomï¼Œå°†åä»£domèŠ‚ç‚¹æ’å…¥åˆšåˆ›å»ºçš„domä¸­\n\n3ã€å°†effectTagçš„èŠ‚ç‚¹ï¼ŒåŠ å…¥åˆ°effectListä¸­\n\nå½“éå†åˆ°å­èŠ‚ç‚¹åï¼Œä¼šæ‰§è¡ŒcompleteWorkæ–¹æ³•ï¼Œæ‰§è¡Œå®Œæˆä¹‹åä¼šåˆ¤æ–­æ­¤èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹å­˜ä¸å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨å°±ä¼šä¸ºå…„å¼ŸèŠ‚ç‚¹æ‰§è¡ŒcompleteWorkï¼Œå½“å…¨éƒ¨å…„å¼ŸèŠ‚ç‚¹æ‰§è¡Œå®Œä¹‹åï¼Œä¼šå‘ä¸Šå›åˆ°çˆ¶èŠ‚ç‚¹æ‰§è¡ŒcompleteWorkï¼Œç›´åˆ°rootFiberã€‚\n\n\n\nshouldYiled æ–¹æ³•å°±æ˜¯åˆ¤æ–­å¾…å¤„ç†çš„ä»»åŠ¡é˜Ÿåˆ—æœ‰æ²¡æœ‰ä¼˜å…ˆçº§æ›´é«˜çš„ä»»åŠ¡ï¼Œæœ‰çš„è¯å°±å…ˆå¤„ç†é‚£è¾¹çš„ fiberï¼Œè¿™è¾¹çš„å…ˆæš‚åœä¸€ä¸‹ã€‚\n\n## 3. commité˜¶æ®µ\n\ncommitï¼šRendererå·¥ä½œçš„é˜¶æ®µè¢«ç§°ä¸ºcommité˜¶æ®µã€‚commité˜¶æ®µä¼šæŠŠrenderé˜¶æ®µæäº¤çš„ä¿¡æ¯æ¸²æŸ“åœ¨é¡µé¢ä¸Š\n\néå†renderé˜¶æ®µç”Ÿæˆçš„effectListï¼ŒeffectListä¸Šçš„FiberèŠ‚ç‚¹ä¿å­˜ç€å¯¹åº”çš„propså˜åŒ–ã€‚ä¹‹åä¼šéå†effectListè¿›è¡Œå¯¹åº”çš„domæ“ä½œå’Œç”Ÿå‘½å‘¨æœŸã€hookså›è°ƒæˆ–é”€æ¯å‡½æ•°ã€‚\n\n**commité˜¶æ®µ**çš„ä¸»è¦å·¥ä½œï¼ˆå³Rendererçš„å·¥ä½œæµç¨‹ï¼‰åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š\n\n- before mutationé˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œå‰ï¼‰\n\nâ€‹\t\tè¿™ä¸ªé˜¶æ®µ DOM èŠ‚ç‚¹è¿˜æ²¡æœ‰è¢«æ¸²æŸ“åˆ°ç•Œé¢ä¸Šå»ï¼Œè¿‡ç¨‹ä¸­ä¼šè§¦å‘ `getSnapshotBeforeUpdate`ï¼Œä¹Ÿä¼šå¤„ç† `useEffect` é’©å­ç›¸å…³çš„è°ƒåº¦é€»è¾‘ã€‚\n\n- mutationé˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œï¼‰\n\nâ€‹\t\tè¿™ä¸ªé˜¶æ®µè´Ÿè´£ DOM èŠ‚ç‚¹çš„æ¸²æŸ“ã€‚åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œä¼šéå† effectListï¼Œæ ¹æ®effectTagçš„ä¸åŒï¼Œæ‰§è¡Œä¸åŒçš„ DOM æ“ä½œã€‚\n\n- layouté˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œåï¼‰\n\n  è¿™ä¸ªé˜¶æ®µå¤„ç† DOM æ¸²æŸ“å®Œæ¯•ä¹‹åçš„æ”¶å°¾é€»è¾‘ã€‚æ¯”å¦‚è°ƒç”¨ `componentDidMount/componentDidUpdate`ï¼Œè°ƒç”¨ `useLayoutEffect` é’©å­å‡½æ•°çš„å›è°ƒç­‰ã€‚é™¤äº†è¿™äº›ä¹‹å¤–ï¼Œå®ƒè¿˜ä¼šæŠŠ fiberRoot çš„ current æŒ‡é’ˆæŒ‡å‘ workInProgress Fiber æ ‘ã€‚\n\n\n## 4. renderå‡½æ•°\n\n**legacyæ¨¡å¼**\n\nrenderè°ƒç”¨legacyRenderSubtreeIntoContainerï¼Œä½œç”¨æ˜¯\n\n1ã€åˆ›å»ºFiberRootNodeå’ŒrootFiberèŠ‚ç‚¹, ï¼ˆè°ƒç”¨createRootImplï¼Œå…¶ä¼šè°ƒç”¨åˆ°createFiberRootåˆ›å»ºfiberRootNode,ç„¶åè°ƒç”¨createHostRootFiberåˆ›å»ºrootFiberï¼‰\n\n2ã€è°ƒç”¨updateContaineråˆ›å»ºåˆ›å»ºUpdateå¯¹è±¡æŒ‚è½½åˆ°updateQueueçš„ç¯å½¢é“¾è¡¨ä¸Šï¼Œï¼ˆç„¶åæ‰§è¡ŒscheduleUpdateOnFiberè°ƒç”¨performSyncWorkOnRootè¿›å…¥renderé˜¶æ®µå’Œcommité˜¶æ®µï¼‰\n\n**concurrentæ¨¡å¼ï¼š**\n\nè°ƒç”¨ReactDOMRoot.prototype.renderæ‰§è¡ŒupdateContainerï¼Œè°ƒç”¨updateContaineråˆ›å»ºåˆ›å»ºUpdateå¯¹è±¡æŒ‚è½½åˆ°updateQueueçš„ç¯å½¢é“¾è¡¨ä¸Šï¼Œï¼ˆç„¶åscheduleUpdateOnFiberå¼‚æ­¥è°ƒåº¦performConcurrentWorkOnRootè¿›å…¥renderé˜¶æ®µå’Œcommité˜¶æ®µï¼‰\n\n## 5. fiber\n\nFiberæ˜¯ä¸€ä¸ªjså¯¹è±¡ï¼Œèƒ½æ‰¿è½½èŠ‚ç‚¹ä¿¡æ¯ã€ä¼˜å…ˆçº§ã€updateQueueï¼ŒåŒæ—¶å®ƒè¿˜æ˜¯ä¸€ä¸ªå·¥ä½œå•å…ƒã€‚\n\n- **å·¥ä½œå•å…ƒ ä»»åŠ¡åˆ†è§£** ï¼šFiberæœ€é‡è¦çš„åŠŸèƒ½å°±æ˜¯ä½œä¸ºå·¥ä½œå•å…ƒï¼Œä¿å­˜åŸç”ŸèŠ‚ç‚¹æˆ–è€…ç»„ä»¶èŠ‚ç‚¹å¯¹åº”ä¿¡æ¯ï¼ˆåŒ…æ‹¬ä¼˜å…ˆçº§ï¼‰ï¼Œè¿™äº›èŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆçš„å½¢ä¼¼å½¢æˆFiberæ ‘\n- **å¢é‡æ¸²æŸ“**ï¼šé€šè¿‡jsxå¯¹è±¡å’Œcurrent Fiberçš„å¯¹æ¯”ï¼Œç”Ÿæˆæœ€å°çš„å·®å¼‚è¡¥ä¸ï¼Œåº”ç”¨åˆ°çœŸå®èŠ‚ç‚¹ä¸Šã€‚ï¼ˆ`fiber`å°†`react`ä¸­çš„æ¸²æŸ“ä»»åŠ¡æ‹†åˆ†åˆ°æ¯ä¸€å¸§ï¼‰\n- **æ ¹æ®ä¼˜å…ˆçº§æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§**ï¼šFiberèŠ‚ç‚¹ä¸Šä¿å­˜äº†ä¼˜å…ˆçº§ï¼Œèƒ½é€šè¿‡ä¸åŒèŠ‚ç‚¹ä¼˜å…ˆçº§çš„å¯¹æ¯”ï¼Œè¾¾åˆ°ä»»åŠ¡çš„æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§ç­‰èƒ½åŠ›ï¼Œä¹Ÿä¸ºä¸Šå±‚å®ç°æ‰¹é‡æ›´æ–°ã€Suspenseæä¾›äº†åŸºç¡€\n- **ä¿å­˜çŠ¶æ€ï¼š**å› ä¸ºFiberèƒ½ä¿å­˜çŠ¶æ€å’Œæ›´æ–°çš„ä¿¡æ¯ï¼Œæ‰€ä»¥å°±èƒ½å®ç°å‡½æ•°ç»„ä»¶çš„çŠ¶æ€æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯hooks\n\n## 6. hooksçš„å®ç°åŸç†\n\n**åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ï¼Œhooks çš„å®ç°å°±æ˜¯åŸºäº fiber çš„ï¼Œå¤šä¸ªhookä¼šå½¢æˆhooké“¾è¡¨ï¼Œä¿å­˜åœ¨Fiberçš„memoizedStateçš„ä¸Š**ã€‚hookä¸èƒ½å†™åœ¨æ¡ä»¶åˆ¤æ–­ä¸­æ­£å› ä¸ºhookä¼šæŒ‰é¡ºåºå­˜å‚¨åœ¨é“¾è¡¨ä¸­ï¼Œå¦‚æœhookå†™åœ¨æ¡ä»¶åˆ¤æ–­ä¸­ï¼Œå°±æ²¡æ³•ä¿æŒé“¾è¡¨çš„é¡ºåºï¼Œä¼šé€ æˆä¹±åºã€‚\n\nhookè°ƒç”¨å…¥å£\n\nåœ¨hookæºç ä¸­hookå­˜åœ¨äºDispatcherä¸­ï¼ŒDispatcherå°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸åŒhook è°ƒç”¨çš„å‡½æ•°ä¸ä¸€æ ·ï¼Œå…¨å±€å˜é‡ReactCurrentDispatcher.currentä¼šæ ¹æ®æ˜¯mountè¿˜æ˜¯updateèµ‹å€¼ä¸ºHooksDispatcherOnMountæˆ–HooksDispatcherOnUpdateã€‚\n\n\n\nusestateçš„å·¥ä½œåŸç†\n\n\n\nuseStateåˆ†ä¸ºonMountå’ŒupDateä¸¤ç§æƒ…å†µï¼Œé€šè¿‡å…¨å±€å˜é‡ReactCurrentDispatcher.currentæ¥åˆ¤æ–­ã€‚\n\nonMountæ—¶ï¼Œhook.memoizedStateè®°å½•åˆå§‹çš„å€¼\n\nupdateæ›´æ–°æ—¶ï¼š\n\nå…¶ä¸­hooksçš„`memoizedState`æ˜¯ç”¨æ¥è®°å½•è¿™ä¸ª`useState`åº”è¯¥è¿”å›çš„ç»“æœçš„ï¼Œè€Œ`next`æŒ‡å‘çš„æ˜¯ä¸‹ä¸€æ¬¡`useState`å¯¹åº”çš„`Hookå¯¹è±¡ã€‚\n\n\n\nmemoizedStateè£…ç€stateï¼Œè€ŒdispatchAction å°±æ˜¯setState\n\ndispatchAction åˆ›å»ºæ–°çš„updateå¯¹è±¡ï¼Œå°†è¿™äº›æ›´æ–°å¯¹è±¡æ”¾åˆ°hook.queue.pendingçš„ç¯å½¢é“¾è¡¨ä¸­ï¼Œæœ€åé‡æ–°æ¸²æŸ“app\n\n\n\nhooksçš„æ•°æ®ç»“æ„\n\n```js\nconst hook: Hook = {\n  memoizedState: null,//å¯¹äºä¸åŒhookï¼Œæœ‰ä¸åŒçš„å€¼\n  baseState: null,//åˆå§‹state\n  baseQueue: null,//åˆå§‹queueé˜Ÿåˆ—\n  queue: null // { pending:è¿™æ˜¯ä¸€ä¸ªé“¾è¡¨å‚¨å­˜ç€update},//éœ€è¦æ›´æ–°çš„update\n  next: null,//ä¸‹ä¸€ä¸ªhook\n};\n```\n\n## 7ã€reactçš„çŠ¶æ€æ›´æ–°æµç¨‹\n\n<img src=\"img/image-20230511104437245.png\" alt=\"image-20230511104437245\" style=\"zoom:150%;\" />\n\nè§¦å‘æ›´æ–°åï¼Œä¼šåœ¨å‡½æ•°createUpdateä¸­åˆ›å»ºupdateæ›´æ–°ï¼Œå¹¶å°†å…¶åŠ å…¥åˆ°updateQueueä¸­ï¼Œä¼šä»è§¦å‘æ›´æ–°çš„èŠ‚ç‚¹å¼€å§‹å‘ä¸Šéå†åˆ°rootFiberï¼Œéå†çš„è¿‡ç¨‹ä¼šå¤„ç†èŠ‚ç‚¹çš„ä¼˜å…ˆçº§ã€‚ç„¶åæ ¹æ®ä¼˜å…ˆçº§è°ƒåº¦renderé˜¶æ®µçš„å…¥å£å‡½æ•°ã€‚æœ€åè¿›è¡Œrenderé˜¶æ®µå’Œcommité˜¶æ®µã€‚\n","slug":"22-07-30-1","published":1,"updated":"2023-07-31T11:06:47.667Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clkrly5ll0000pcupctxu385x","content":"<h1 id=\"React-åº•å±‚åŸç†\"><a href=\"#React-åº•å±‚åŸç†\" class=\"headerlink\" title=\"React åº•å±‚åŸç†\"></a>React åº•å±‚åŸç†</h1><p>è‡³æ­¤æˆ‘ä»¬ä»‹ç»äº†reactçš„ç†å¿µï¼Œå¦‚ä½•è§£å†³cpuå’Œioçš„ç“¶é¢ˆï¼Œå…³é”®æ˜¯å®ç°å¼‚æ­¥å¯ä¸­æ–­çš„æ›´æ–°</p>\n<p>æˆ‘ä»¬ä»‹ç»äº†reactæºç æ¶æ„ï¼ˆui&#x3D;fn(state)ï¼‰ï¼Œä»schedulerå¼€å§‹è°ƒåº¦ï¼ˆæ ¹æ®è¿‡æœŸäº‹ä»¶åˆ¤æ–­ä¼˜å…ˆçº§ï¼Œæ—¶é—´åˆ†ç‰‡ï¼‰ï¼Œç»è¿‡renderé˜¶æ®µçš„æ·±åº¦ä¼˜å…ˆéå†å½¢æˆeffectListï¼ˆä¸­é—´ä¼šæ‰§è¡Œreconcile|diffï¼‰ï¼Œäº¤ç»™commitå¤„ç†çœŸå®èŠ‚ç‚¹ï¼ˆä¸­é—´ç©¿æ’ç”Ÿå‘½å‘¨æœŸå’Œéƒ¨åˆ†hooksï¼‰ï¼Œè€Œè¿™äº›è°ƒåº¦çš„è¿‡ç¨‹éƒ½ç¦»ä¸å¼€Fiberçš„æ”¯æ’‘ï¼Œ<strong>Fiberæ˜¯å·¥ä½œå•å…ƒï¼Œä¹Ÿæ˜¯èŠ‚ç‚¹ä¼˜å…ˆçº§ã€æ›´æ–°UpdateQueueã€èŠ‚ç‚¹ä¿¡æ¯çš„è½½ä½“</strong>ï¼ŒFiberåŒç¼“å­˜åˆ™æä¾›äº†å¯¹æ¯”å‰åèŠ‚ç‚¹æ›´æ–°çš„åŸºç¡€ã€‚æˆ‘ä»¬è¿˜ä»‹ç»äº†jsxæ˜¯React.createElementçš„è¯­æ³•ç³–ã€‚Laneæ¨¡å‹åˆ™æä¾›äº†æ›´ç»†ç²’åº¦çš„ä¼˜å…ˆçº§å¯¹æ¯”å’Œè®¡ç®—ï¼Œè¿™ä¸€åˆ‡éƒ½ä¸ºconcurrent modeæä¾›äº†åŸºç¡€ï¼Œåœ¨è¿™ä¹‹ä¸Šå˜å¯ä»¥å®ç°Suspenseå’ŒbatchedUpdateï¼ˆ16ã€17ç‰ˆæœ¬å®ç°çš„é€»è¾‘ä¸ä¸€æ ·ï¼‰ï¼Œcontextçš„valueStackå’ŒvalueCursoråœ¨æ•´ä¸ªæ¶æ„ä¸­è¿è¡Œæœºåˆ¶ï¼Œæœ€åä»‹ç»äº†æ–°ç‰ˆäº‹ä»¶ç³»ç»Ÿï¼ŒåŒ…æ‹¬äº‹ä»¶ç”Ÿäº§ã€ç›‘å¬å’Œè§¦å‘</p>\n<h2 id=\"1-reactçš„æ¶æ„\"><a href=\"#1-reactçš„æ¶æ„\" class=\"headerlink\" title=\"1. reactçš„æ¶æ„\"></a>1. reactçš„æ¶æ„</h2><p><a href=\"https://juejin.cn/post/7211072055780573221#heading-0\">https://juejin.cn/post/7211072055780573221#heading-0</a></p>\n<p><a href=\"https://juejin.cn/post/6926432527980691470\">https://juejin.cn/post/6926432527980691470</a></p>\n<p>ä½œä¸ºæ¶æ„æ¥è¯´ï¼Œä¹‹å‰<code>React15</code>çš„<code>Reconciler</code>é‡‡ç”¨é€’å½’çš„æ–¹å¼æ‰§è¡Œï¼Œæ•°æ®ä¿å­˜åœ¨é€’å½’è°ƒç”¨æ ˆä¸­ï¼Œæ‰€ä»¥è¢«ç§°ä¸º<code>stack Reconciler</code>ã€‚<code>React16</code>çš„<code>Reconciler</code>åŸºäº<code>FiberèŠ‚ç‚¹</code>å®ç°ï¼Œè¢«ç§°ä¸º<code>Fiber Reconciler</code>ã€‚</p>\n<p>æ–°ç‰ˆReactæ¶æ„åˆ†ä¸ºä¸‰å¤§éƒ¨åˆ†ï¼š</p>\n<ul>\n<li>Schedulerè°ƒåº¦å™¨ï¼š  æ’åºä¼˜å…ˆçº§ï¼Œè®©ä¼˜å…ˆçº§é«˜çš„ä»»åŠ¡å…ˆè¿›è¡Œreconcile</li>\n<li>Reconcileråè°ƒå™¨ï¼šæ¥å—æ›´æ–°ï¼Œåˆ›å»ºè™šæ‹Ÿdomæ ‘ï¼Œæ‰¾å‡ºå“ªäº›èŠ‚ç‚¹å‘ç”Ÿäº†æ”¹å˜ï¼Œå¹¶æ‰“ä¸Šä¸åŒçš„effectTag</li>\n<li>Rendereræ¸²æŸ“å™¨ï¼šå°†Reconcilerä¸­æ‰“å¥½æ ‡ç­¾çš„èŠ‚ç‚¹æ¸²æŸ“åˆ°è§†å›¾ä¸Š</li>\n</ul>\n<p>Fiberè¿™ç§æ•°æ®ç»“æ„åï¼Œèƒ½å®Œæˆå“ªäº›äº‹æƒ…å‘¢ï¼Œ</p>\n<ul>\n<li><strong>å·¥ä½œå•å…ƒ ä»»åŠ¡åˆ†è§£</strong> ï¼šFiberæœ€é‡è¦çš„åŠŸèƒ½å°±æ˜¯ä½œä¸ºå·¥ä½œå•å…ƒï¼Œä¿å­˜åŸç”ŸèŠ‚ç‚¹æˆ–è€…ç»„ä»¶èŠ‚ç‚¹å¯¹åº”ä¿¡æ¯ï¼ˆåŒ…æ‹¬ä¼˜å…ˆçº§ï¼‰ï¼Œè¿™äº›èŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆçš„å½¢ä¼¼å½¢æˆFiberæ ‘</li>\n<li><strong>å¢é‡æ¸²æŸ“</strong>ï¼šé€šè¿‡jsxå¯¹è±¡å’Œcurrent Fiberçš„å¯¹æ¯”ï¼Œç”Ÿæˆæœ€å°çš„å·®å¼‚è¡¥ä¸ï¼Œåº”ç”¨åˆ°çœŸå®èŠ‚ç‚¹ä¸Š</li>\n<li><strong>æ ¹æ®ä¼˜å…ˆçº§æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§</strong>ï¼šFiberèŠ‚ç‚¹ä¸Šä¿å­˜äº†ä¼˜å…ˆçº§ï¼Œèƒ½é€šè¿‡ä¸åŒèŠ‚ç‚¹ä¼˜å…ˆçº§çš„å¯¹æ¯”ï¼Œè¾¾åˆ°ä»»åŠ¡çš„æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§ç­‰èƒ½åŠ›ï¼Œä¹Ÿä¸ºä¸Šå±‚å®ç°æ‰¹é‡æ›´æ–°ã€Suspenseæä¾›äº†åŸºç¡€</li>\n<li><strong>ä¿å­˜çŠ¶æ€ï¼š</strong>å› ä¸ºFiberèƒ½ä¿å­˜çŠ¶æ€å’Œæ›´æ–°çš„ä¿¡æ¯ï¼Œæ‰€ä»¥å°±èƒ½å®ç°å‡½æ•°ç»„ä»¶çš„çŠ¶æ€æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯hooks</li>\n<li><a href=\"https://songhaoyong.blogspot.com/2023/07/react.html\">https://songhaoyong.blogspot.com/2023/07/react.html</a></li>\n</ul>\n<h2 id=\"2-renderé˜¶æ®µ\"><a href=\"#2-renderé˜¶æ®µ\" class=\"headerlink\" title=\"2. renderé˜¶æ®µ\"></a>2. renderé˜¶æ®µ</h2><p>renderï¼šReconcilerå·¥ä½œçš„é˜¶æ®µè¢«ç§°ä¸ºrenderé˜¶æ®µã€‚å› ä¸ºåœ¨è¯¥é˜¶æ®µä¼šè°ƒç”¨ç»„ä»¶çš„renderæ–¹æ³•</p>\n<p>renderé˜¶æ®µçš„ä¸»è¦å·¥ä½œæ˜¯æ„å»ºFiberæ ‘å’Œç”ŸæˆeffectList</p>\n<p>å¼€å§‹å·¥ä½œå‰ä¼šå…ˆæ‰¾åˆ°div#rootå¯¹åº”çš„<code>rootFiberï¼Œç§°ä¸º</code>hostRootFiber<code>ï¼Œç„¶åå¼€å§‹ç”Ÿæˆ</code>wip Fiberæ ‘<code>ã€‚ è¿™ä¸ªè¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šbeginWork</code>å’ŒcompleteWorkã€‚ è¿™æ˜¯ä¸€ä¸ªæ·±åº¦ä¼˜å…ˆéå†çš„è¿‡ç¨‹ã€‚</p>\n<p><strong>beginwork</strong>:ä¸»è¦çš„å·¥ä½œæ˜¯åˆ›å»ºæˆ–å¤ç”¨å­fiberèŠ‚ç‚¹ï¼ˆåŒæ—¶æ¶‰åŠåˆ°diffç®—æ³•ï¼Œä¸ºç»“ç‚¹æ‰“ä¸ŠeffectTagsï¼‰</p>\n<p>ä»æ ¹èŠ‚ç‚¹rootFiberå¼€å§‹ï¼Œéå†åˆ°å¶å­èŠ‚ç‚¹ï¼Œæ¯æ¬¡éå†åˆ°çš„èŠ‚ç‚¹éƒ½ä¼šæ‰§è¡ŒbeginWorkï¼Œå¹¶ä¸”ä¼ å…¥å½“å‰FiberèŠ‚ç‚¹ï¼Œç„¶ååˆ›å»ºæˆ–å¤ç”¨å®ƒçš„å­FiberèŠ‚ç‚¹ï¼Œå¹¶èµ‹å€¼ç»™workInProgress.childã€‚</p>\n<p><strong>completework</strong>:ä¸»è¦å·¥ä½œæ˜¯å¤„ç†fiberçš„propsã€åˆ›å»ºdomã€åˆ›å»ºeffectList </p>\n<p>1ã€(å¤„ç†propså°†å˜åŒ–çš„éƒ¨åˆ†è³¦å€¼ç»™workInProgerss.updateQueue)</p>\n<p>2ã€mountæ—¶ è°ƒç”¨createInstanceåˆ›å»ºdomï¼Œå°†åä»£domèŠ‚ç‚¹æ’å…¥åˆšåˆ›å»ºçš„domä¸­</p>\n<p>3ã€å°†effectTagçš„èŠ‚ç‚¹ï¼ŒåŠ å…¥åˆ°effectListä¸­</p>\n<p>å½“éå†åˆ°å­èŠ‚ç‚¹åï¼Œä¼šæ‰§è¡ŒcompleteWorkæ–¹æ³•ï¼Œæ‰§è¡Œå®Œæˆä¹‹åä¼šåˆ¤æ–­æ­¤èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹å­˜ä¸å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨å°±ä¼šä¸ºå…„å¼ŸèŠ‚ç‚¹æ‰§è¡ŒcompleteWorkï¼Œå½“å…¨éƒ¨å…„å¼ŸèŠ‚ç‚¹æ‰§è¡Œå®Œä¹‹åï¼Œä¼šå‘ä¸Šå›åˆ°çˆ¶èŠ‚ç‚¹æ‰§è¡ŒcompleteWorkï¼Œç›´åˆ°rootFiberã€‚</p>\n<p>shouldYiled æ–¹æ³•å°±æ˜¯åˆ¤æ–­å¾…å¤„ç†çš„ä»»åŠ¡é˜Ÿåˆ—æœ‰æ²¡æœ‰ä¼˜å…ˆçº§æ›´é«˜çš„ä»»åŠ¡ï¼Œæœ‰çš„è¯å°±å…ˆå¤„ç†é‚£è¾¹çš„ fiberï¼Œè¿™è¾¹çš„å…ˆæš‚åœä¸€ä¸‹ã€‚</p>\n<h2 id=\"3-commité˜¶æ®µ\"><a href=\"#3-commité˜¶æ®µ\" class=\"headerlink\" title=\"3. commité˜¶æ®µ\"></a>3. commité˜¶æ®µ</h2><p>commitï¼šRendererå·¥ä½œçš„é˜¶æ®µè¢«ç§°ä¸ºcommité˜¶æ®µã€‚commité˜¶æ®µä¼šæŠŠrenderé˜¶æ®µæäº¤çš„ä¿¡æ¯æ¸²æŸ“åœ¨é¡µé¢ä¸Š</p>\n<p>éå†renderé˜¶æ®µç”Ÿæˆçš„effectListï¼ŒeffectListä¸Šçš„FiberèŠ‚ç‚¹ä¿å­˜ç€å¯¹åº”çš„propså˜åŒ–ã€‚ä¹‹åä¼šéå†effectListè¿›è¡Œå¯¹åº”çš„domæ“ä½œå’Œç”Ÿå‘½å‘¨æœŸã€hookså›è°ƒæˆ–é”€æ¯å‡½æ•°ã€‚</p>\n<p><strong>commité˜¶æ®µ</strong>çš„ä¸»è¦å·¥ä½œï¼ˆå³Rendererçš„å·¥ä½œæµç¨‹ï¼‰åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š</p>\n<ul>\n<li>before mutationé˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œå‰ï¼‰</li>\n</ul>\n<p>â€‹\t\tè¿™ä¸ªé˜¶æ®µ DOM èŠ‚ç‚¹è¿˜æ²¡æœ‰è¢«æ¸²æŸ“åˆ°ç•Œé¢ä¸Šå»ï¼Œè¿‡ç¨‹ä¸­ä¼šè§¦å‘ <code>getSnapshotBeforeUpdate</code>ï¼Œä¹Ÿä¼šå¤„ç† <code>useEffect</code> é’©å­ç›¸å…³çš„è°ƒåº¦é€»è¾‘ã€‚</p>\n<ul>\n<li>mutationé˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œï¼‰</li>\n</ul>\n<p>â€‹\t\tè¿™ä¸ªé˜¶æ®µè´Ÿè´£ DOM èŠ‚ç‚¹çš„æ¸²æŸ“ã€‚åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œä¼šéå† effectListï¼Œæ ¹æ®effectTagçš„ä¸åŒï¼Œæ‰§è¡Œä¸åŒçš„ DOM æ“ä½œã€‚</p>\n<ul>\n<li><p>layouté˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œåï¼‰</p>\n<p>è¿™ä¸ªé˜¶æ®µå¤„ç† DOM æ¸²æŸ“å®Œæ¯•ä¹‹åçš„æ”¶å°¾é€»è¾‘ã€‚æ¯”å¦‚è°ƒç”¨ <code>componentDidMount/componentDidUpdate</code>ï¼Œè°ƒç”¨ <code>useLayoutEffect</code> é’©å­å‡½æ•°çš„å›è°ƒç­‰ã€‚é™¤äº†è¿™äº›ä¹‹å¤–ï¼Œå®ƒè¿˜ä¼šæŠŠ fiberRoot çš„ current æŒ‡é’ˆæŒ‡å‘ workInProgress Fiber æ ‘ã€‚</p>\n</li>\n</ul>\n<h2 id=\"4-renderå‡½æ•°\"><a href=\"#4-renderå‡½æ•°\" class=\"headerlink\" title=\"4. renderå‡½æ•°\"></a>4. renderå‡½æ•°</h2><p><strong>legacyæ¨¡å¼</strong></p>\n<p>renderè°ƒç”¨legacyRenderSubtreeIntoContainerï¼Œä½œç”¨æ˜¯</p>\n<p>1ã€åˆ›å»ºFiberRootNodeå’ŒrootFiberèŠ‚ç‚¹, ï¼ˆè°ƒç”¨createRootImplï¼Œå…¶ä¼šè°ƒç”¨åˆ°createFiberRootåˆ›å»ºfiberRootNode,ç„¶åè°ƒç”¨createHostRootFiberåˆ›å»ºrootFiberï¼‰</p>\n<p>2ã€è°ƒç”¨updateContaineråˆ›å»ºåˆ›å»ºUpdateå¯¹è±¡æŒ‚è½½åˆ°updateQueueçš„ç¯å½¢é“¾è¡¨ä¸Šï¼Œï¼ˆç„¶åæ‰§è¡ŒscheduleUpdateOnFiberè°ƒç”¨performSyncWorkOnRootè¿›å…¥renderé˜¶æ®µå’Œcommité˜¶æ®µï¼‰</p>\n<p><strong>concurrentæ¨¡å¼ï¼š</strong></p>\n<p>è°ƒç”¨ReactDOMRoot.prototype.renderæ‰§è¡ŒupdateContainerï¼Œè°ƒç”¨updateContaineråˆ›å»ºåˆ›å»ºUpdateå¯¹è±¡æŒ‚è½½åˆ°updateQueueçš„ç¯å½¢é“¾è¡¨ä¸Šï¼Œï¼ˆç„¶åscheduleUpdateOnFiberå¼‚æ­¥è°ƒåº¦performConcurrentWorkOnRootè¿›å…¥renderé˜¶æ®µå’Œcommité˜¶æ®µï¼‰</p>\n<h2 id=\"5-fiber\"><a href=\"#5-fiber\" class=\"headerlink\" title=\"5. fiber\"></a>5. fiber</h2><p>Fiberæ˜¯ä¸€ä¸ªjså¯¹è±¡ï¼Œèƒ½æ‰¿è½½èŠ‚ç‚¹ä¿¡æ¯ã€ä¼˜å…ˆçº§ã€updateQueueï¼ŒåŒæ—¶å®ƒè¿˜æ˜¯ä¸€ä¸ªå·¥ä½œå•å…ƒã€‚</p>\n<ul>\n<li><strong>å·¥ä½œå•å…ƒ ä»»åŠ¡åˆ†è§£</strong> ï¼šFiberæœ€é‡è¦çš„åŠŸèƒ½å°±æ˜¯ä½œä¸ºå·¥ä½œå•å…ƒï¼Œä¿å­˜åŸç”ŸèŠ‚ç‚¹æˆ–è€…ç»„ä»¶èŠ‚ç‚¹å¯¹åº”ä¿¡æ¯ï¼ˆåŒ…æ‹¬ä¼˜å…ˆçº§ï¼‰ï¼Œè¿™äº›èŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆçš„å½¢ä¼¼å½¢æˆFiberæ ‘</li>\n<li><strong>å¢é‡æ¸²æŸ“</strong>ï¼šé€šè¿‡jsxå¯¹è±¡å’Œcurrent Fiberçš„å¯¹æ¯”ï¼Œç”Ÿæˆæœ€å°çš„å·®å¼‚è¡¥ä¸ï¼Œåº”ç”¨åˆ°çœŸå®èŠ‚ç‚¹ä¸Šã€‚ï¼ˆ<code>fiber</code>å°†<code>react</code>ä¸­çš„æ¸²æŸ“ä»»åŠ¡æ‹†åˆ†åˆ°æ¯ä¸€å¸§ï¼‰</li>\n<li><strong>æ ¹æ®ä¼˜å…ˆçº§æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§</strong>ï¼šFiberèŠ‚ç‚¹ä¸Šä¿å­˜äº†ä¼˜å…ˆçº§ï¼Œèƒ½é€šè¿‡ä¸åŒèŠ‚ç‚¹ä¼˜å…ˆçº§çš„å¯¹æ¯”ï¼Œè¾¾åˆ°ä»»åŠ¡çš„æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§ç­‰èƒ½åŠ›ï¼Œä¹Ÿä¸ºä¸Šå±‚å®ç°æ‰¹é‡æ›´æ–°ã€Suspenseæä¾›äº†åŸºç¡€</li>\n<li><strong>ä¿å­˜çŠ¶æ€ï¼š</strong>å› ä¸ºFiberèƒ½ä¿å­˜çŠ¶æ€å’Œæ›´æ–°çš„ä¿¡æ¯ï¼Œæ‰€ä»¥å°±èƒ½å®ç°å‡½æ•°ç»„ä»¶çš„çŠ¶æ€æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯hooks</li>\n</ul>\n<h2 id=\"6-hooksçš„å®ç°åŸç†\"><a href=\"#6-hooksçš„å®ç°åŸç†\" class=\"headerlink\" title=\"6. hooksçš„å®ç°åŸç†\"></a>6. hooksçš„å®ç°åŸç†</h2><p><strong>åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ï¼Œhooks çš„å®ç°å°±æ˜¯åŸºäº fiber çš„ï¼Œå¤šä¸ªhookä¼šå½¢æˆhooké“¾è¡¨ï¼Œä¿å­˜åœ¨Fiberçš„memoizedStateçš„ä¸Š</strong>ã€‚hookä¸èƒ½å†™åœ¨æ¡ä»¶åˆ¤æ–­ä¸­æ­£å› ä¸ºhookä¼šæŒ‰é¡ºåºå­˜å‚¨åœ¨é“¾è¡¨ä¸­ï¼Œå¦‚æœhookå†™åœ¨æ¡ä»¶åˆ¤æ–­ä¸­ï¼Œå°±æ²¡æ³•ä¿æŒé“¾è¡¨çš„é¡ºåºï¼Œä¼šé€ æˆä¹±åºã€‚</p>\n<p>hookè°ƒç”¨å…¥å£</p>\n<p>åœ¨hookæºç ä¸­hookå­˜åœ¨äºDispatcherä¸­ï¼ŒDispatcherå°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸åŒhook è°ƒç”¨çš„å‡½æ•°ä¸ä¸€æ ·ï¼Œå…¨å±€å˜é‡ReactCurrentDispatcher.currentä¼šæ ¹æ®æ˜¯mountè¿˜æ˜¯updateèµ‹å€¼ä¸ºHooksDispatcherOnMountæˆ–HooksDispatcherOnUpdateã€‚</p>\n<p>usestateçš„å·¥ä½œåŸç†</p>\n<p>useStateåˆ†ä¸ºonMountå’ŒupDateä¸¤ç§æƒ…å†µï¼Œé€šè¿‡å…¨å±€å˜é‡ReactCurrentDispatcher.currentæ¥åˆ¤æ–­ã€‚</p>\n<p>onMountæ—¶ï¼Œhook.memoizedStateè®°å½•åˆå§‹çš„å€¼</p>\n<p>updateæ›´æ–°æ—¶ï¼š</p>\n<p>å…¶ä¸­hooksçš„<code>memoizedState</code>æ˜¯ç”¨æ¥è®°å½•è¿™ä¸ª<code>useState</code>åº”è¯¥è¿”å›çš„ç»“æœçš„ï¼Œè€Œ<code>next</code>æŒ‡å‘çš„æ˜¯ä¸‹ä¸€æ¬¡<code>useState</code>å¯¹åº”çš„&#96;Hookå¯¹è±¡ã€‚</p>\n<p>memoizedStateè£…ç€stateï¼Œè€ŒdispatchAction å°±æ˜¯setState</p>\n<p>dispatchAction åˆ›å»ºæ–°çš„updateå¯¹è±¡ï¼Œå°†è¿™äº›æ›´æ–°å¯¹è±¡æ”¾åˆ°hook.queue.pendingçš„ç¯å½¢é“¾è¡¨ä¸­ï¼Œæœ€åé‡æ–°æ¸²æŸ“app</p>\n<p>hooksçš„æ•°æ®ç»“æ„</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"attr\">hook</span>: <span class=\"title class_\">Hook</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">memoizedState</span>: <span class=\"literal\">null</span>,<span class=\"comment\">//å¯¹äºä¸åŒhookï¼Œæœ‰ä¸åŒçš„å€¼</span></span><br><span class=\"line\">  <span class=\"attr\">baseState</span>: <span class=\"literal\">null</span>,<span class=\"comment\">//åˆå§‹state</span></span><br><span class=\"line\">  <span class=\"attr\">baseQueue</span>: <span class=\"literal\">null</span>,<span class=\"comment\">//åˆå§‹queueé˜Ÿåˆ—</span></span><br><span class=\"line\">  <span class=\"attr\">queue</span>: <span class=\"literal\">null</span> <span class=\"comment\">// &#123; pending:è¿™æ˜¯ä¸€ä¸ªé“¾è¡¨å‚¨å­˜ç€update&#125;,//éœ€è¦æ›´æ–°çš„update</span></span><br><span class=\"line\">  <span class=\"attr\">next</span>: <span class=\"literal\">null</span>,<span class=\"comment\">//ä¸‹ä¸€ä¸ªhook</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"7ã€reactçš„çŠ¶æ€æ›´æ–°æµç¨‹\"><a href=\"#7ã€reactçš„çŠ¶æ€æ›´æ–°æµç¨‹\" class=\"headerlink\" title=\"7ã€reactçš„çŠ¶æ€æ›´æ–°æµç¨‹\"></a>7ã€reactçš„çŠ¶æ€æ›´æ–°æµç¨‹</h2><img src=\"img/image-20230511104437245.png\" alt=\"image-20230511104437245\" style=\"zoom:150%;\" />\n\n<p>è§¦å‘æ›´æ–°åï¼Œä¼šåœ¨å‡½æ•°createUpdateä¸­åˆ›å»ºupdateæ›´æ–°ï¼Œå¹¶å°†å…¶åŠ å…¥åˆ°updateQueueä¸­ï¼Œä¼šä»è§¦å‘æ›´æ–°çš„èŠ‚ç‚¹å¼€å§‹å‘ä¸Šéå†åˆ°rootFiberï¼Œéå†çš„è¿‡ç¨‹ä¼šå¤„ç†èŠ‚ç‚¹çš„ä¼˜å…ˆçº§ã€‚ç„¶åæ ¹æ®ä¼˜å…ˆçº§è°ƒåº¦renderé˜¶æ®µçš„å…¥å£å‡½æ•°ã€‚æœ€åè¿›è¡Œrenderé˜¶æ®µå’Œcommité˜¶æ®µã€‚</p>\n","site":{"data":{"link":[{"class_name":"1.æŠ€æœ¯æ”¯æŒ","class_desc":"æœ¬ç½‘ç«™çš„æ­å»ºç”±ä»¥ä¸‹å¼€æºä½œè€…æä¾›æŠ€æœ¯æ”¯æŒ","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-cn/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"å¿«é€Ÿã€ç®€å•ä¸”å¼ºå¤§çš„ç½‘å¿—æ¡†æ¶","siteshot":"https://source.fomal.cc/siteshot/hexo.io.jpg"}]},{"class_name":"2.å‹æƒ…é“¾æ¥","class_desc":"ä¸€äº›å¥½æœ‹å‹~~","link_list":[{"name":"FomalhautğŸ¥","link":"https://fomal.cc/","avatar":"/assets/head.jpg","descr":"Future is now ğŸ­ğŸ­ğŸ­","siteshot":"https://source.fomal.cc/siteshot/www.fomal.cn.jpg"}]}]}},"cover":"https://source.fomal.cc/img/default_cover_1.webp","cover_type":"img","excerpt":"","more":"<h1 id=\"React-åº•å±‚åŸç†\"><a href=\"#React-åº•å±‚åŸç†\" class=\"headerlink\" title=\"React åº•å±‚åŸç†\"></a>React åº•å±‚åŸç†</h1><p>è‡³æ­¤æˆ‘ä»¬ä»‹ç»äº†reactçš„ç†å¿µï¼Œå¦‚ä½•è§£å†³cpuå’Œioçš„ç“¶é¢ˆï¼Œå…³é”®æ˜¯å®ç°å¼‚æ­¥å¯ä¸­æ–­çš„æ›´æ–°</p>\n<p>æˆ‘ä»¬ä»‹ç»äº†reactæºç æ¶æ„ï¼ˆui&#x3D;fn(state)ï¼‰ï¼Œä»schedulerå¼€å§‹è°ƒåº¦ï¼ˆæ ¹æ®è¿‡æœŸäº‹ä»¶åˆ¤æ–­ä¼˜å…ˆçº§ï¼Œæ—¶é—´åˆ†ç‰‡ï¼‰ï¼Œç»è¿‡renderé˜¶æ®µçš„æ·±åº¦ä¼˜å…ˆéå†å½¢æˆeffectListï¼ˆä¸­é—´ä¼šæ‰§è¡Œreconcile|diffï¼‰ï¼Œäº¤ç»™commitå¤„ç†çœŸå®èŠ‚ç‚¹ï¼ˆä¸­é—´ç©¿æ’ç”Ÿå‘½å‘¨æœŸå’Œéƒ¨åˆ†hooksï¼‰ï¼Œè€Œè¿™äº›è°ƒåº¦çš„è¿‡ç¨‹éƒ½ç¦»ä¸å¼€Fiberçš„æ”¯æ’‘ï¼Œ<strong>Fiberæ˜¯å·¥ä½œå•å…ƒï¼Œä¹Ÿæ˜¯èŠ‚ç‚¹ä¼˜å…ˆçº§ã€æ›´æ–°UpdateQueueã€èŠ‚ç‚¹ä¿¡æ¯çš„è½½ä½“</strong>ï¼ŒFiberåŒç¼“å­˜åˆ™æä¾›äº†å¯¹æ¯”å‰åèŠ‚ç‚¹æ›´æ–°çš„åŸºç¡€ã€‚æˆ‘ä»¬è¿˜ä»‹ç»äº†jsxæ˜¯React.createElementçš„è¯­æ³•ç³–ã€‚Laneæ¨¡å‹åˆ™æä¾›äº†æ›´ç»†ç²’åº¦çš„ä¼˜å…ˆçº§å¯¹æ¯”å’Œè®¡ç®—ï¼Œè¿™ä¸€åˆ‡éƒ½ä¸ºconcurrent modeæä¾›äº†åŸºç¡€ï¼Œåœ¨è¿™ä¹‹ä¸Šå˜å¯ä»¥å®ç°Suspenseå’ŒbatchedUpdateï¼ˆ16ã€17ç‰ˆæœ¬å®ç°çš„é€»è¾‘ä¸ä¸€æ ·ï¼‰ï¼Œcontextçš„valueStackå’ŒvalueCursoråœ¨æ•´ä¸ªæ¶æ„ä¸­è¿è¡Œæœºåˆ¶ï¼Œæœ€åä»‹ç»äº†æ–°ç‰ˆäº‹ä»¶ç³»ç»Ÿï¼ŒåŒ…æ‹¬äº‹ä»¶ç”Ÿäº§ã€ç›‘å¬å’Œè§¦å‘</p>\n<h2 id=\"1-reactçš„æ¶æ„\"><a href=\"#1-reactçš„æ¶æ„\" class=\"headerlink\" title=\"1. reactçš„æ¶æ„\"></a>1. reactçš„æ¶æ„</h2><p><a href=\"https://juejin.cn/post/7211072055780573221#heading-0\">https://juejin.cn/post/7211072055780573221#heading-0</a></p>\n<p><a href=\"https://juejin.cn/post/6926432527980691470\">https://juejin.cn/post/6926432527980691470</a></p>\n<p>ä½œä¸ºæ¶æ„æ¥è¯´ï¼Œä¹‹å‰<code>React15</code>çš„<code>Reconciler</code>é‡‡ç”¨é€’å½’çš„æ–¹å¼æ‰§è¡Œï¼Œæ•°æ®ä¿å­˜åœ¨é€’å½’è°ƒç”¨æ ˆä¸­ï¼Œæ‰€ä»¥è¢«ç§°ä¸º<code>stack Reconciler</code>ã€‚<code>React16</code>çš„<code>Reconciler</code>åŸºäº<code>FiberèŠ‚ç‚¹</code>å®ç°ï¼Œè¢«ç§°ä¸º<code>Fiber Reconciler</code>ã€‚</p>\n<p>æ–°ç‰ˆReactæ¶æ„åˆ†ä¸ºä¸‰å¤§éƒ¨åˆ†ï¼š</p>\n<ul>\n<li>Schedulerè°ƒåº¦å™¨ï¼š  æ’åºä¼˜å…ˆçº§ï¼Œè®©ä¼˜å…ˆçº§é«˜çš„ä»»åŠ¡å…ˆè¿›è¡Œreconcile</li>\n<li>Reconcileråè°ƒå™¨ï¼šæ¥å—æ›´æ–°ï¼Œåˆ›å»ºè™šæ‹Ÿdomæ ‘ï¼Œæ‰¾å‡ºå“ªäº›èŠ‚ç‚¹å‘ç”Ÿäº†æ”¹å˜ï¼Œå¹¶æ‰“ä¸Šä¸åŒçš„effectTag</li>\n<li>Rendereræ¸²æŸ“å™¨ï¼šå°†Reconcilerä¸­æ‰“å¥½æ ‡ç­¾çš„èŠ‚ç‚¹æ¸²æŸ“åˆ°è§†å›¾ä¸Š</li>\n</ul>\n<p>Fiberè¿™ç§æ•°æ®ç»“æ„åï¼Œèƒ½å®Œæˆå“ªäº›äº‹æƒ…å‘¢ï¼Œ</p>\n<ul>\n<li><strong>å·¥ä½œå•å…ƒ ä»»åŠ¡åˆ†è§£</strong> ï¼šFiberæœ€é‡è¦çš„åŠŸèƒ½å°±æ˜¯ä½œä¸ºå·¥ä½œå•å…ƒï¼Œä¿å­˜åŸç”ŸèŠ‚ç‚¹æˆ–è€…ç»„ä»¶èŠ‚ç‚¹å¯¹åº”ä¿¡æ¯ï¼ˆåŒ…æ‹¬ä¼˜å…ˆçº§ï¼‰ï¼Œè¿™äº›èŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆçš„å½¢ä¼¼å½¢æˆFiberæ ‘</li>\n<li><strong>å¢é‡æ¸²æŸ“</strong>ï¼šé€šè¿‡jsxå¯¹è±¡å’Œcurrent Fiberçš„å¯¹æ¯”ï¼Œç”Ÿæˆæœ€å°çš„å·®å¼‚è¡¥ä¸ï¼Œåº”ç”¨åˆ°çœŸå®èŠ‚ç‚¹ä¸Š</li>\n<li><strong>æ ¹æ®ä¼˜å…ˆçº§æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§</strong>ï¼šFiberèŠ‚ç‚¹ä¸Šä¿å­˜äº†ä¼˜å…ˆçº§ï¼Œèƒ½é€šè¿‡ä¸åŒèŠ‚ç‚¹ä¼˜å…ˆçº§çš„å¯¹æ¯”ï¼Œè¾¾åˆ°ä»»åŠ¡çš„æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§ç­‰èƒ½åŠ›ï¼Œä¹Ÿä¸ºä¸Šå±‚å®ç°æ‰¹é‡æ›´æ–°ã€Suspenseæä¾›äº†åŸºç¡€</li>\n<li><strong>ä¿å­˜çŠ¶æ€ï¼š</strong>å› ä¸ºFiberèƒ½ä¿å­˜çŠ¶æ€å’Œæ›´æ–°çš„ä¿¡æ¯ï¼Œæ‰€ä»¥å°±èƒ½å®ç°å‡½æ•°ç»„ä»¶çš„çŠ¶æ€æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯hooks</li>\n<li><a href=\"https://songhaoyong.blogspot.com/2023/07/react.html\">https://songhaoyong.blogspot.com/2023/07/react.html</a></li>\n</ul>\n<h2 id=\"2-renderé˜¶æ®µ\"><a href=\"#2-renderé˜¶æ®µ\" class=\"headerlink\" title=\"2. renderé˜¶æ®µ\"></a>2. renderé˜¶æ®µ</h2><p>renderï¼šReconcilerå·¥ä½œçš„é˜¶æ®µè¢«ç§°ä¸ºrenderé˜¶æ®µã€‚å› ä¸ºåœ¨è¯¥é˜¶æ®µä¼šè°ƒç”¨ç»„ä»¶çš„renderæ–¹æ³•</p>\n<p>renderé˜¶æ®µçš„ä¸»è¦å·¥ä½œæ˜¯æ„å»ºFiberæ ‘å’Œç”ŸæˆeffectList</p>\n<p>å¼€å§‹å·¥ä½œå‰ä¼šå…ˆæ‰¾åˆ°div#rootå¯¹åº”çš„<code>rootFiberï¼Œç§°ä¸º</code>hostRootFiber<code>ï¼Œç„¶åå¼€å§‹ç”Ÿæˆ</code>wip Fiberæ ‘<code>ã€‚ è¿™ä¸ªè¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šbeginWork</code>å’ŒcompleteWorkã€‚ è¿™æ˜¯ä¸€ä¸ªæ·±åº¦ä¼˜å…ˆéå†çš„è¿‡ç¨‹ã€‚</p>\n<p><strong>beginwork</strong>:ä¸»è¦çš„å·¥ä½œæ˜¯åˆ›å»ºæˆ–å¤ç”¨å­fiberèŠ‚ç‚¹ï¼ˆåŒæ—¶æ¶‰åŠåˆ°diffç®—æ³•ï¼Œä¸ºç»“ç‚¹æ‰“ä¸ŠeffectTagsï¼‰</p>\n<p>ä»æ ¹èŠ‚ç‚¹rootFiberå¼€å§‹ï¼Œéå†åˆ°å¶å­èŠ‚ç‚¹ï¼Œæ¯æ¬¡éå†åˆ°çš„èŠ‚ç‚¹éƒ½ä¼šæ‰§è¡ŒbeginWorkï¼Œå¹¶ä¸”ä¼ å…¥å½“å‰FiberèŠ‚ç‚¹ï¼Œç„¶ååˆ›å»ºæˆ–å¤ç”¨å®ƒçš„å­FiberèŠ‚ç‚¹ï¼Œå¹¶èµ‹å€¼ç»™workInProgress.childã€‚</p>\n<p><strong>completework</strong>:ä¸»è¦å·¥ä½œæ˜¯å¤„ç†fiberçš„propsã€åˆ›å»ºdomã€åˆ›å»ºeffectList </p>\n<p>1ã€(å¤„ç†propså°†å˜åŒ–çš„éƒ¨åˆ†è³¦å€¼ç»™workInProgerss.updateQueue)</p>\n<p>2ã€mountæ—¶ è°ƒç”¨createInstanceåˆ›å»ºdomï¼Œå°†åä»£domèŠ‚ç‚¹æ’å…¥åˆšåˆ›å»ºçš„domä¸­</p>\n<p>3ã€å°†effectTagçš„èŠ‚ç‚¹ï¼ŒåŠ å…¥åˆ°effectListä¸­</p>\n<p>å½“éå†åˆ°å­èŠ‚ç‚¹åï¼Œä¼šæ‰§è¡ŒcompleteWorkæ–¹æ³•ï¼Œæ‰§è¡Œå®Œæˆä¹‹åä¼šåˆ¤æ–­æ­¤èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹å­˜ä¸å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨å°±ä¼šä¸ºå…„å¼ŸèŠ‚ç‚¹æ‰§è¡ŒcompleteWorkï¼Œå½“å…¨éƒ¨å…„å¼ŸèŠ‚ç‚¹æ‰§è¡Œå®Œä¹‹åï¼Œä¼šå‘ä¸Šå›åˆ°çˆ¶èŠ‚ç‚¹æ‰§è¡ŒcompleteWorkï¼Œç›´åˆ°rootFiberã€‚</p>\n<p>shouldYiled æ–¹æ³•å°±æ˜¯åˆ¤æ–­å¾…å¤„ç†çš„ä»»åŠ¡é˜Ÿåˆ—æœ‰æ²¡æœ‰ä¼˜å…ˆçº§æ›´é«˜çš„ä»»åŠ¡ï¼Œæœ‰çš„è¯å°±å…ˆå¤„ç†é‚£è¾¹çš„ fiberï¼Œè¿™è¾¹çš„å…ˆæš‚åœä¸€ä¸‹ã€‚</p>\n<h2 id=\"3-commité˜¶æ®µ\"><a href=\"#3-commité˜¶æ®µ\" class=\"headerlink\" title=\"3. commité˜¶æ®µ\"></a>3. commité˜¶æ®µ</h2><p>commitï¼šRendererå·¥ä½œçš„é˜¶æ®µè¢«ç§°ä¸ºcommité˜¶æ®µã€‚commité˜¶æ®µä¼šæŠŠrenderé˜¶æ®µæäº¤çš„ä¿¡æ¯æ¸²æŸ“åœ¨é¡µé¢ä¸Š</p>\n<p>éå†renderé˜¶æ®µç”Ÿæˆçš„effectListï¼ŒeffectListä¸Šçš„FiberèŠ‚ç‚¹ä¿å­˜ç€å¯¹åº”çš„propså˜åŒ–ã€‚ä¹‹åä¼šéå†effectListè¿›è¡Œå¯¹åº”çš„domæ“ä½œå’Œç”Ÿå‘½å‘¨æœŸã€hookså›è°ƒæˆ–é”€æ¯å‡½æ•°ã€‚</p>\n<p><strong>commité˜¶æ®µ</strong>çš„ä¸»è¦å·¥ä½œï¼ˆå³Rendererçš„å·¥ä½œæµç¨‹ï¼‰åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š</p>\n<ul>\n<li>before mutationé˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œå‰ï¼‰</li>\n</ul>\n<p>â€‹\t\tè¿™ä¸ªé˜¶æ®µ DOM èŠ‚ç‚¹è¿˜æ²¡æœ‰è¢«æ¸²æŸ“åˆ°ç•Œé¢ä¸Šå»ï¼Œè¿‡ç¨‹ä¸­ä¼šè§¦å‘ <code>getSnapshotBeforeUpdate</code>ï¼Œä¹Ÿä¼šå¤„ç† <code>useEffect</code> é’©å­ç›¸å…³çš„è°ƒåº¦é€»è¾‘ã€‚</p>\n<ul>\n<li>mutationé˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œï¼‰</li>\n</ul>\n<p>â€‹\t\tè¿™ä¸ªé˜¶æ®µè´Ÿè´£ DOM èŠ‚ç‚¹çš„æ¸²æŸ“ã€‚åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œä¼šéå† effectListï¼Œæ ¹æ®effectTagçš„ä¸åŒï¼Œæ‰§è¡Œä¸åŒçš„ DOM æ“ä½œã€‚</p>\n<ul>\n<li><p>layouté˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œåï¼‰</p>\n<p>è¿™ä¸ªé˜¶æ®µå¤„ç† DOM æ¸²æŸ“å®Œæ¯•ä¹‹åçš„æ”¶å°¾é€»è¾‘ã€‚æ¯”å¦‚è°ƒç”¨ <code>componentDidMount/componentDidUpdate</code>ï¼Œè°ƒç”¨ <code>useLayoutEffect</code> é’©å­å‡½æ•°çš„å›è°ƒç­‰ã€‚é™¤äº†è¿™äº›ä¹‹å¤–ï¼Œå®ƒè¿˜ä¼šæŠŠ fiberRoot çš„ current æŒ‡é’ˆæŒ‡å‘ workInProgress Fiber æ ‘ã€‚</p>\n</li>\n</ul>\n<h2 id=\"4-renderå‡½æ•°\"><a href=\"#4-renderå‡½æ•°\" class=\"headerlink\" title=\"4. renderå‡½æ•°\"></a>4. renderå‡½æ•°</h2><p><strong>legacyæ¨¡å¼</strong></p>\n<p>renderè°ƒç”¨legacyRenderSubtreeIntoContainerï¼Œä½œç”¨æ˜¯</p>\n<p>1ã€åˆ›å»ºFiberRootNodeå’ŒrootFiberèŠ‚ç‚¹, ï¼ˆè°ƒç”¨createRootImplï¼Œå…¶ä¼šè°ƒç”¨åˆ°createFiberRootåˆ›å»ºfiberRootNode,ç„¶åè°ƒç”¨createHostRootFiberåˆ›å»ºrootFiberï¼‰</p>\n<p>2ã€è°ƒç”¨updateContaineråˆ›å»ºåˆ›å»ºUpdateå¯¹è±¡æŒ‚è½½åˆ°updateQueueçš„ç¯å½¢é“¾è¡¨ä¸Šï¼Œï¼ˆç„¶åæ‰§è¡ŒscheduleUpdateOnFiberè°ƒç”¨performSyncWorkOnRootè¿›å…¥renderé˜¶æ®µå’Œcommité˜¶æ®µï¼‰</p>\n<p><strong>concurrentæ¨¡å¼ï¼š</strong></p>\n<p>è°ƒç”¨ReactDOMRoot.prototype.renderæ‰§è¡ŒupdateContainerï¼Œè°ƒç”¨updateContaineråˆ›å»ºåˆ›å»ºUpdateå¯¹è±¡æŒ‚è½½åˆ°updateQueueçš„ç¯å½¢é“¾è¡¨ä¸Šï¼Œï¼ˆç„¶åscheduleUpdateOnFiberå¼‚æ­¥è°ƒåº¦performConcurrentWorkOnRootè¿›å…¥renderé˜¶æ®µå’Œcommité˜¶æ®µï¼‰</p>\n<h2 id=\"5-fiber\"><a href=\"#5-fiber\" class=\"headerlink\" title=\"5. fiber\"></a>5. fiber</h2><p>Fiberæ˜¯ä¸€ä¸ªjså¯¹è±¡ï¼Œèƒ½æ‰¿è½½èŠ‚ç‚¹ä¿¡æ¯ã€ä¼˜å…ˆçº§ã€updateQueueï¼ŒåŒæ—¶å®ƒè¿˜æ˜¯ä¸€ä¸ªå·¥ä½œå•å…ƒã€‚</p>\n<ul>\n<li><strong>å·¥ä½œå•å…ƒ ä»»åŠ¡åˆ†è§£</strong> ï¼šFiberæœ€é‡è¦çš„åŠŸèƒ½å°±æ˜¯ä½œä¸ºå·¥ä½œå•å…ƒï¼Œä¿å­˜åŸç”ŸèŠ‚ç‚¹æˆ–è€…ç»„ä»¶èŠ‚ç‚¹å¯¹åº”ä¿¡æ¯ï¼ˆåŒ…æ‹¬ä¼˜å…ˆçº§ï¼‰ï¼Œè¿™äº›èŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆçš„å½¢ä¼¼å½¢æˆFiberæ ‘</li>\n<li><strong>å¢é‡æ¸²æŸ“</strong>ï¼šé€šè¿‡jsxå¯¹è±¡å’Œcurrent Fiberçš„å¯¹æ¯”ï¼Œç”Ÿæˆæœ€å°çš„å·®å¼‚è¡¥ä¸ï¼Œåº”ç”¨åˆ°çœŸå®èŠ‚ç‚¹ä¸Šã€‚ï¼ˆ<code>fiber</code>å°†<code>react</code>ä¸­çš„æ¸²æŸ“ä»»åŠ¡æ‹†åˆ†åˆ°æ¯ä¸€å¸§ï¼‰</li>\n<li><strong>æ ¹æ®ä¼˜å…ˆçº§æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§</strong>ï¼šFiberèŠ‚ç‚¹ä¸Šä¿å­˜äº†ä¼˜å…ˆçº§ï¼Œèƒ½é€šè¿‡ä¸åŒèŠ‚ç‚¹ä¼˜å…ˆçº§çš„å¯¹æ¯”ï¼Œè¾¾åˆ°ä»»åŠ¡çš„æš‚åœã€ç»§ç»­ã€æ’åˆ—ä¼˜å…ˆçº§ç­‰èƒ½åŠ›ï¼Œä¹Ÿä¸ºä¸Šå±‚å®ç°æ‰¹é‡æ›´æ–°ã€Suspenseæä¾›äº†åŸºç¡€</li>\n<li><strong>ä¿å­˜çŠ¶æ€ï¼š</strong>å› ä¸ºFiberèƒ½ä¿å­˜çŠ¶æ€å’Œæ›´æ–°çš„ä¿¡æ¯ï¼Œæ‰€ä»¥å°±èƒ½å®ç°å‡½æ•°ç»„ä»¶çš„çŠ¶æ€æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯hooks</li>\n</ul>\n<h2 id=\"6-hooksçš„å®ç°åŸç†\"><a href=\"#6-hooksçš„å®ç°åŸç†\" class=\"headerlink\" title=\"6. hooksçš„å®ç°åŸç†\"></a>6. hooksçš„å®ç°åŸç†</h2><p><strong>åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ï¼Œhooks çš„å®ç°å°±æ˜¯åŸºäº fiber çš„ï¼Œå¤šä¸ªhookä¼šå½¢æˆhooké“¾è¡¨ï¼Œä¿å­˜åœ¨Fiberçš„memoizedStateçš„ä¸Š</strong>ã€‚hookä¸èƒ½å†™åœ¨æ¡ä»¶åˆ¤æ–­ä¸­æ­£å› ä¸ºhookä¼šæŒ‰é¡ºåºå­˜å‚¨åœ¨é“¾è¡¨ä¸­ï¼Œå¦‚æœhookå†™åœ¨æ¡ä»¶åˆ¤æ–­ä¸­ï¼Œå°±æ²¡æ³•ä¿æŒé“¾è¡¨çš„é¡ºåºï¼Œä¼šé€ æˆä¹±åºã€‚</p>\n<p>hookè°ƒç”¨å…¥å£</p>\n<p>åœ¨hookæºç ä¸­hookå­˜åœ¨äºDispatcherä¸­ï¼ŒDispatcherå°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸åŒhook è°ƒç”¨çš„å‡½æ•°ä¸ä¸€æ ·ï¼Œå…¨å±€å˜é‡ReactCurrentDispatcher.currentä¼šæ ¹æ®æ˜¯mountè¿˜æ˜¯updateèµ‹å€¼ä¸ºHooksDispatcherOnMountæˆ–HooksDispatcherOnUpdateã€‚</p>\n<p>usestateçš„å·¥ä½œåŸç†</p>\n<p>useStateåˆ†ä¸ºonMountå’ŒupDateä¸¤ç§æƒ…å†µï¼Œé€šè¿‡å…¨å±€å˜é‡ReactCurrentDispatcher.currentæ¥åˆ¤æ–­ã€‚</p>\n<p>onMountæ—¶ï¼Œhook.memoizedStateè®°å½•åˆå§‹çš„å€¼</p>\n<p>updateæ›´æ–°æ—¶ï¼š</p>\n<p>å…¶ä¸­hooksçš„<code>memoizedState</code>æ˜¯ç”¨æ¥è®°å½•è¿™ä¸ª<code>useState</code>åº”è¯¥è¿”å›çš„ç»“æœçš„ï¼Œè€Œ<code>next</code>æŒ‡å‘çš„æ˜¯ä¸‹ä¸€æ¬¡<code>useState</code>å¯¹åº”çš„&#96;Hookå¯¹è±¡ã€‚</p>\n<p>memoizedStateè£…ç€stateï¼Œè€ŒdispatchAction å°±æ˜¯setState</p>\n<p>dispatchAction åˆ›å»ºæ–°çš„updateå¯¹è±¡ï¼Œå°†è¿™äº›æ›´æ–°å¯¹è±¡æ”¾åˆ°hook.queue.pendingçš„ç¯å½¢é“¾è¡¨ä¸­ï¼Œæœ€åé‡æ–°æ¸²æŸ“app</p>\n<p>hooksçš„æ•°æ®ç»“æ„</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"attr\">hook</span>: <span class=\"title class_\">Hook</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">memoizedState</span>: <span class=\"literal\">null</span>,<span class=\"comment\">//å¯¹äºä¸åŒhookï¼Œæœ‰ä¸åŒçš„å€¼</span></span><br><span class=\"line\">  <span class=\"attr\">baseState</span>: <span class=\"literal\">null</span>,<span class=\"comment\">//åˆå§‹state</span></span><br><span class=\"line\">  <span class=\"attr\">baseQueue</span>: <span class=\"literal\">null</span>,<span class=\"comment\">//åˆå§‹queueé˜Ÿåˆ—</span></span><br><span class=\"line\">  <span class=\"attr\">queue</span>: <span class=\"literal\">null</span> <span class=\"comment\">// &#123; pending:è¿™æ˜¯ä¸€ä¸ªé“¾è¡¨å‚¨å­˜ç€update&#125;,//éœ€è¦æ›´æ–°çš„update</span></span><br><span class=\"line\">  <span class=\"attr\">next</span>: <span class=\"literal\">null</span>,<span class=\"comment\">//ä¸‹ä¸€ä¸ªhook</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"7ã€reactçš„çŠ¶æ€æ›´æ–°æµç¨‹\"><a href=\"#7ã€reactçš„çŠ¶æ€æ›´æ–°æµç¨‹\" class=\"headerlink\" title=\"7ã€reactçš„çŠ¶æ€æ›´æ–°æµç¨‹\"></a>7ã€reactçš„çŠ¶æ€æ›´æ–°æµç¨‹</h2><img src=\"img/image-20230511104437245.png\" alt=\"image-20230511104437245\" style=\"zoom:150%;\" />\n\n<p>è§¦å‘æ›´æ–°åï¼Œä¼šåœ¨å‡½æ•°createUpdateä¸­åˆ›å»ºupdateæ›´æ–°ï¼Œå¹¶å°†å…¶åŠ å…¥åˆ°updateQueueä¸­ï¼Œä¼šä»è§¦å‘æ›´æ–°çš„èŠ‚ç‚¹å¼€å§‹å‘ä¸Šéå†åˆ°rootFiberï¼Œéå†çš„è¿‡ç¨‹ä¼šå¤„ç†èŠ‚ç‚¹çš„ä¼˜å…ˆçº§ã€‚ç„¶åæ ¹æ®ä¼˜å…ˆçº§è°ƒåº¦renderé˜¶æ®µçš„å…¥å£å‡½æ•°ã€‚æœ€åè¿›è¡Œrenderé˜¶æ®µå’Œcommité˜¶æ®µã€‚</p>\n"},{"title":"ç¬¬ äºŒ ç¯‡æ–‡ç«  VUEåº•å±‚åŸç†","date":"2022-08-05T08:35:35.000Z","_content":"# vueåŸç†\n\n## 1ã€mvvm\n\n- Mï¼šæ¨¡å‹Model  --->ä¹Ÿå°±æ˜¯dataä¸­çš„æ•°æ®\n- Vï¼šè§†å›¾View  --->ä¹Ÿå°±æ˜¯dom\n- VMï¼šè§†å›¾æ¨¡å‹ViewModel  --->ä¹Ÿå°±æ˜¯Vueå®ä¾‹ï¼ˆvmï¼‰\n\n![](/img/image-20230521163900590.png)\n\n## 2ã€vueå“åº”å¼åŸç†\n\n### æ ¸å¿ƒapi object.defineProperty\n\n![](/img/image-20230521164959631.png)\n\n\nvueå“åº”å¼ä¹Ÿå«ä½œæ•°æ®åŒå‘ç»‘å®šï¼Œå¤§è‡´åŸç†é˜è¿°ï¼š\n\n é¦–å…ˆæˆ‘ä»¬éœ€è¦é€šè¿‡Object.defineProperty()æ–¹æ³•æŠŠæ•°æ®(data)è®¾ç½®ä¸ºgetterå’Œsetterçš„è®¿é—®å½¢å¼ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨æ•°æ®è¢«ä¿®æ”¹æ—¶åœ¨setteræ–¹æ³•è®¾ç½®ç›‘è§†ä¿®æ”¹é¡µé¢ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯å½“æ•°æ®è¢«ä¿®æ”¹ï¼Œå°±ä¼šè§¦å‘å¯¹åº”çš„setæ–¹æ³•ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥åœ¨setæ–¹æ³•ä¸­å»è°ƒç”¨æ“ä½œdomçš„æ–¹æ³•ã€‚\n\n æ­¤å¤–ï¼Œå¦‚æœé¡µé¢æœ‰inputç”¨v-modelç»‘å®šæ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¿™ç§ç»‘å®šäº†dataçš„inputå…ƒç´ ä¸Šæ·»åŠ ç›‘å¬ï¼Œæ·»åŠ inputäº‹ä»¶ç›‘å¬ï¼Œæ¯å½“inputäº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œå°±ä¿®æ”¹å¯¹åº”çš„data\n\nåŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/weixin_48181168/article/details/120158346\n\n![](/img/image-20230521192401756.png)\n\n### **vue3å¯ç”¨proxy**\n\nhttps://blog.csdn.net/pagnzong/article/details/120389514\n\nä»£ç \n\n![](/img/image-20230522155235201.png)\n\n\n### proxyå’Œobject.definePropertyå“åº”å¼çš„å¯¹æ¯”\n\nvue2å“åº”å¼çš„ç¼ºç‚¹ï¼š\n\n- æ£€æµ‹ä¸åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ å’Œåˆ é™¤ ï¼ˆéœ€è¦ä½¿ç”¨vue.set, vue.deleteï¼‰\n- æ•°ç»„`API`æ–¹æ³•æ— æ³•ç›‘å¬åˆ° (éœ€è¦ç‰¹æ®Šå¤„ç†)\n- æ·±åº¦ç›‘å¬éœ€è¦é€’å½’åˆ°åº•ï¼Œé€ æˆæ€§èƒ½é—®é¢˜\n\nproxyè§£å†³çš„é—®é¢˜\n\n- å…‹æœäº†vue2å“åº”å¼çš„é—®é¢˜\n- ç¼ºç‚¹ï¼šæ²¡æœ‰å…¼å®¹ieç­‰å…¶ä»–æµè§ˆå™¨ï¼Œæ— æ³•å®ç°polyfill\n\n\n## 3ã€è™šæ‹Ÿdomå’Œdiffç®—æ³•å’Œreact diffçš„åŒºåˆ«\n\nç”¨JSæ¨¡æ‹ŸDOMç»“æ„ï¼ˆvnodeï¼‰\nå¢é‡æ›´æ–°ï¼š æ–°æ—§vnodeå¯¹æ¯”ï¼Œå¾—å‡ºæœ€å°çš„æ›´æ–°èŒƒå›´ï¼Œæœ€åæ›´æ–°DOM\n\næ•°æ®é©±åŠ¨è§†å›¾çš„æ¨¡å¼ä¸‹ï¼Œæœ‰æ•ˆæ§åˆ¶DOMæ“ä½œ\n\n![](/img/image-20230521193406678.png)\n\ndiffç®—æ³•\n\n\n\n- å½“æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè®¢é˜…è€…`watcher`å°±ä¼šè°ƒç”¨`patch`ç»™çœŸå®çš„`DOM`æ‰“è¡¥ä¸\n\n- é€šè¿‡`isSameVnode`è¿›è¡Œåˆ¤æ–­ï¼Œç›¸åŒåˆ™è°ƒç”¨`patchVnode`æ–¹æ³•\n\n- ```\n  patchVnode\n  ```\n\n  åšäº†ä»¥ä¸‹æ“ä½œï¼š\n\n  - æ‰¾åˆ°å¯¹åº”çš„çœŸå®`dom`ï¼Œç§°ä¸º`el`\n  - å¦‚æœéƒ½æœ‰éƒ½æœ‰æ–‡æœ¬èŠ‚ç‚¹ä¸”ä¸ç›¸ç­‰ï¼Œå°†`el`æ–‡æœ¬èŠ‚ç‚¹è®¾ç½®ä¸º`Vnode`çš„æ–‡æœ¬èŠ‚ç‚¹\n  - å¦‚æœ`oldVnode`æœ‰å­èŠ‚ç‚¹è€Œ`VNode`æ²¡æœ‰ï¼Œåˆ™åˆ é™¤`el`å­èŠ‚ç‚¹\n  - å¦‚æœ`oldVnode`æ²¡æœ‰å­èŠ‚ç‚¹è€Œ`VNode`æœ‰ï¼Œåˆ™å°†`VNode`çš„å­èŠ‚ç‚¹çœŸå®åŒ–åæ·»åŠ åˆ°`el`\n  - å¦‚æœä¸¤è€…éƒ½æœ‰å­èŠ‚ç‚¹ï¼Œåˆ™æ‰§è¡Œ`updateChildren`å‡½æ•°æ¯”è¾ƒå­èŠ‚ç‚¹\n\n- ```\n  updateChildren\n  ```\n\n  ä¸»è¦åšäº†ä»¥ä¸‹æ“ä½œï¼š\n\n  - è®¾ç½®æ–°æ—§`VNode`çš„å¤´å°¾æŒ‡é’ˆ\n  - æ–°æ—§å¤´å°¾æŒ‡é’ˆè¿›è¡Œæ¯”è¾ƒï¼Œå¾ªç¯å‘ä¸­é—´é æ‹¢ï¼Œæ ¹æ®æƒ…å†µè°ƒç”¨`patchVnode`è¿›è¡Œ`patch`é‡å¤æµç¨‹ã€è°ƒç”¨`createElem`åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œä»å“ˆå¸Œè¡¨å¯»æ‰¾ `key`ä¸€è‡´çš„`VNode` èŠ‚ç‚¹å†åˆ†æƒ…å†µæ“ä½œ\n\n**ç›¸åŒç‚¹ï¼š**\nVueå’Œreactçš„diffç®—æ³•ï¼Œéƒ½æ˜¯ä¸è¿›è¡Œè·¨å±‚çº§æ¯”è¾ƒï¼ŒåªåšåŒçº§æ¯”è¾ƒ\n\n**ä¸åŒç‚¹ï¼š**\n\n1. vueä¼šåœ¨patchå‡½æ•°ä¸­ç»™è¢«æ“ä½œçš„èŠ‚ç‚¹æ‰“è¡¥ä¸ï¼ˆpatchflagï¼‰ï¼Œåœ¨diffçš„æ—¶å€™æ›´æ¸…æ™°\n2. vueå¯¹æ¯”èŠ‚ç‚¹ï¼Œå½“èŠ‚ç‚¹å…ƒç´ ç±»å‹ç›¸åŒï¼Œä½†æ˜¯classNameä¸åŒæ—¶ï¼Œè®¤ä¸ºæ˜¯ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œåˆ é™¤é‡æ–°åˆ›å»ºï¼›è€Œreactåˆ™è®¤ä¸ºæ˜¯åŒç±»å‹èŠ‚ç‚¹ï¼Œè¿›è¡Œä¿®æ”¹æ“ä½œ\n3. diffç­–ç•¥ï¼Œvueçš„æ€§èƒ½ä¼˜äºreact\n\n## 4ã€æ¨¡æ¿ç¼–è¯‘template\n\ntemplate->render->h->vdom->true dom\n\n## 5ã€vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°æµç¨‹\n\nåˆæ¬¡æ¸²æŸ“\n![](/img/image-20230521212323764.png)\n\næ›´æ–°\n![](/img/image-20230521212411230.png)\n\nå®Œæ•´æµç¨‹å›¾\n![](/img/image-20230521212545143.png)\n","source":"_posts/22-08-05-2.md","raw":"---\ntitle: ç¬¬ äºŒ ç¯‡æ–‡ç«  VUEåº•å±‚åŸç†\ndate: 2022-08-05 16:35:35\n---\n# vueåŸç†\n\n## 1ã€mvvm\n\n- Mï¼šæ¨¡å‹Model  --->ä¹Ÿå°±æ˜¯dataä¸­çš„æ•°æ®\n- Vï¼šè§†å›¾View  --->ä¹Ÿå°±æ˜¯dom\n- VMï¼šè§†å›¾æ¨¡å‹ViewModel  --->ä¹Ÿå°±æ˜¯Vueå®ä¾‹ï¼ˆvmï¼‰\n\n![](/img/image-20230521163900590.png)\n\n## 2ã€vueå“åº”å¼åŸç†\n\n### æ ¸å¿ƒapi object.defineProperty\n\n![](/img/image-20230521164959631.png)\n\n\nvueå“åº”å¼ä¹Ÿå«ä½œæ•°æ®åŒå‘ç»‘å®šï¼Œå¤§è‡´åŸç†é˜è¿°ï¼š\n\n é¦–å…ˆæˆ‘ä»¬éœ€è¦é€šè¿‡Object.defineProperty()æ–¹æ³•æŠŠæ•°æ®(data)è®¾ç½®ä¸ºgetterå’Œsetterçš„è®¿é—®å½¢å¼ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨æ•°æ®è¢«ä¿®æ”¹æ—¶åœ¨setteræ–¹æ³•è®¾ç½®ç›‘è§†ä¿®æ”¹é¡µé¢ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯å½“æ•°æ®è¢«ä¿®æ”¹ï¼Œå°±ä¼šè§¦å‘å¯¹åº”çš„setæ–¹æ³•ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥åœ¨setæ–¹æ³•ä¸­å»è°ƒç”¨æ“ä½œdomçš„æ–¹æ³•ã€‚\n\n æ­¤å¤–ï¼Œå¦‚æœé¡µé¢æœ‰inputç”¨v-modelç»‘å®šæ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¿™ç§ç»‘å®šäº†dataçš„inputå…ƒç´ ä¸Šæ·»åŠ ç›‘å¬ï¼Œæ·»åŠ inputäº‹ä»¶ç›‘å¬ï¼Œæ¯å½“inputäº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œå°±ä¿®æ”¹å¯¹åº”çš„data\n\nåŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/weixin_48181168/article/details/120158346\n\n![](/img/image-20230521192401756.png)\n\n### **vue3å¯ç”¨proxy**\n\nhttps://blog.csdn.net/pagnzong/article/details/120389514\n\nä»£ç \n\n![](/img/image-20230522155235201.png)\n\n\n### proxyå’Œobject.definePropertyå“åº”å¼çš„å¯¹æ¯”\n\nvue2å“åº”å¼çš„ç¼ºç‚¹ï¼š\n\n- æ£€æµ‹ä¸åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ å’Œåˆ é™¤ ï¼ˆéœ€è¦ä½¿ç”¨vue.set, vue.deleteï¼‰\n- æ•°ç»„`API`æ–¹æ³•æ— æ³•ç›‘å¬åˆ° (éœ€è¦ç‰¹æ®Šå¤„ç†)\n- æ·±åº¦ç›‘å¬éœ€è¦é€’å½’åˆ°åº•ï¼Œé€ æˆæ€§èƒ½é—®é¢˜\n\nproxyè§£å†³çš„é—®é¢˜\n\n- å…‹æœäº†vue2å“åº”å¼çš„é—®é¢˜\n- ç¼ºç‚¹ï¼šæ²¡æœ‰å…¼å®¹ieç­‰å…¶ä»–æµè§ˆå™¨ï¼Œæ— æ³•å®ç°polyfill\n\n\n## 3ã€è™šæ‹Ÿdomå’Œdiffç®—æ³•å’Œreact diffçš„åŒºåˆ«\n\nç”¨JSæ¨¡æ‹ŸDOMç»“æ„ï¼ˆvnodeï¼‰\nå¢é‡æ›´æ–°ï¼š æ–°æ—§vnodeå¯¹æ¯”ï¼Œå¾—å‡ºæœ€å°çš„æ›´æ–°èŒƒå›´ï¼Œæœ€åæ›´æ–°DOM\n\næ•°æ®é©±åŠ¨è§†å›¾çš„æ¨¡å¼ä¸‹ï¼Œæœ‰æ•ˆæ§åˆ¶DOMæ“ä½œ\n\n![](/img/image-20230521193406678.png)\n\ndiffç®—æ³•\n\n\n\n- å½“æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè®¢é˜…è€…`watcher`å°±ä¼šè°ƒç”¨`patch`ç»™çœŸå®çš„`DOM`æ‰“è¡¥ä¸\n\n- é€šè¿‡`isSameVnode`è¿›è¡Œåˆ¤æ–­ï¼Œç›¸åŒåˆ™è°ƒç”¨`patchVnode`æ–¹æ³•\n\n- ```\n  patchVnode\n  ```\n\n  åšäº†ä»¥ä¸‹æ“ä½œï¼š\n\n  - æ‰¾åˆ°å¯¹åº”çš„çœŸå®`dom`ï¼Œç§°ä¸º`el`\n  - å¦‚æœéƒ½æœ‰éƒ½æœ‰æ–‡æœ¬èŠ‚ç‚¹ä¸”ä¸ç›¸ç­‰ï¼Œå°†`el`æ–‡æœ¬èŠ‚ç‚¹è®¾ç½®ä¸º`Vnode`çš„æ–‡æœ¬èŠ‚ç‚¹\n  - å¦‚æœ`oldVnode`æœ‰å­èŠ‚ç‚¹è€Œ`VNode`æ²¡æœ‰ï¼Œåˆ™åˆ é™¤`el`å­èŠ‚ç‚¹\n  - å¦‚æœ`oldVnode`æ²¡æœ‰å­èŠ‚ç‚¹è€Œ`VNode`æœ‰ï¼Œåˆ™å°†`VNode`çš„å­èŠ‚ç‚¹çœŸå®åŒ–åæ·»åŠ åˆ°`el`\n  - å¦‚æœä¸¤è€…éƒ½æœ‰å­èŠ‚ç‚¹ï¼Œåˆ™æ‰§è¡Œ`updateChildren`å‡½æ•°æ¯”è¾ƒå­èŠ‚ç‚¹\n\n- ```\n  updateChildren\n  ```\n\n  ä¸»è¦åšäº†ä»¥ä¸‹æ“ä½œï¼š\n\n  - è®¾ç½®æ–°æ—§`VNode`çš„å¤´å°¾æŒ‡é’ˆ\n  - æ–°æ—§å¤´å°¾æŒ‡é’ˆè¿›è¡Œæ¯”è¾ƒï¼Œå¾ªç¯å‘ä¸­é—´é æ‹¢ï¼Œæ ¹æ®æƒ…å†µè°ƒç”¨`patchVnode`è¿›è¡Œ`patch`é‡å¤æµç¨‹ã€è°ƒç”¨`createElem`åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œä»å“ˆå¸Œè¡¨å¯»æ‰¾ `key`ä¸€è‡´çš„`VNode` èŠ‚ç‚¹å†åˆ†æƒ…å†µæ“ä½œ\n\n**ç›¸åŒç‚¹ï¼š**\nVueå’Œreactçš„diffç®—æ³•ï¼Œéƒ½æ˜¯ä¸è¿›è¡Œè·¨å±‚çº§æ¯”è¾ƒï¼ŒåªåšåŒçº§æ¯”è¾ƒ\n\n**ä¸åŒç‚¹ï¼š**\n\n1. vueä¼šåœ¨patchå‡½æ•°ä¸­ç»™è¢«æ“ä½œçš„èŠ‚ç‚¹æ‰“è¡¥ä¸ï¼ˆpatchflagï¼‰ï¼Œåœ¨diffçš„æ—¶å€™æ›´æ¸…æ™°\n2. vueå¯¹æ¯”èŠ‚ç‚¹ï¼Œå½“èŠ‚ç‚¹å…ƒç´ ç±»å‹ç›¸åŒï¼Œä½†æ˜¯classNameä¸åŒæ—¶ï¼Œè®¤ä¸ºæ˜¯ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œåˆ é™¤é‡æ–°åˆ›å»ºï¼›è€Œreactåˆ™è®¤ä¸ºæ˜¯åŒç±»å‹èŠ‚ç‚¹ï¼Œè¿›è¡Œä¿®æ”¹æ“ä½œ\n3. diffç­–ç•¥ï¼Œvueçš„æ€§èƒ½ä¼˜äºreact\n\n## 4ã€æ¨¡æ¿ç¼–è¯‘template\n\ntemplate->render->h->vdom->true dom\n\n## 5ã€vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°æµç¨‹\n\nåˆæ¬¡æ¸²æŸ“\n![](/img/image-20230521212323764.png)\n\næ›´æ–°\n![](/img/image-20230521212411230.png)\n\nå®Œæ•´æµç¨‹å›¾\n![](/img/image-20230521212545143.png)\n","slug":"22-08-05-2","published":1,"updated":"2023-07-31T11:51:18.774Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clkrly5lo0001pcupgke3cs5e","content":"<h1 id=\"vueåŸç†\"><a href=\"#vueåŸç†\" class=\"headerlink\" title=\"vueåŸç†\"></a>vueåŸç†</h1><h2 id=\"1ã€mvvm\"><a href=\"#1ã€mvvm\" class=\"headerlink\" title=\"1ã€mvvm\"></a>1ã€mvvm</h2><ul>\n<li>Mï¼šæ¨¡å‹Model  â€”&gt;ä¹Ÿå°±æ˜¯dataä¸­çš„æ•°æ®</li>\n<li>Vï¼šè§†å›¾View  â€”&gt;ä¹Ÿå°±æ˜¯dom</li>\n<li>VMï¼šè§†å›¾æ¨¡å‹ViewModel  â€”&gt;ä¹Ÿå°±æ˜¯Vueå®ä¾‹ï¼ˆvmï¼‰</li>\n</ul>\n<p><img src=\"/img/image-20230521163900590.png\"></p>\n<h2 id=\"2ã€vueå“åº”å¼åŸç†\"><a href=\"#2ã€vueå“åº”å¼åŸç†\" class=\"headerlink\" title=\"2ã€vueå“åº”å¼åŸç†\"></a>2ã€vueå“åº”å¼åŸç†</h2><h3 id=\"æ ¸å¿ƒapi-object-defineProperty\"><a href=\"#æ ¸å¿ƒapi-object-defineProperty\" class=\"headerlink\" title=\"æ ¸å¿ƒapi object.defineProperty\"></a>æ ¸å¿ƒapi object.defineProperty</h3><p><img src=\"/img/image-20230521164959631.png\"></p>\n<p>vueå“åº”å¼ä¹Ÿå«ä½œæ•°æ®åŒå‘ç»‘å®šï¼Œå¤§è‡´åŸç†é˜è¿°ï¼š</p>\n<p> é¦–å…ˆæˆ‘ä»¬éœ€è¦é€šè¿‡Object.defineProperty()æ–¹æ³•æŠŠæ•°æ®(data)è®¾ç½®ä¸ºgetterå’Œsetterçš„è®¿é—®å½¢å¼ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨æ•°æ®è¢«ä¿®æ”¹æ—¶åœ¨setteræ–¹æ³•è®¾ç½®ç›‘è§†ä¿®æ”¹é¡µé¢ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯å½“æ•°æ®è¢«ä¿®æ”¹ï¼Œå°±ä¼šè§¦å‘å¯¹åº”çš„setæ–¹æ³•ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥åœ¨setæ–¹æ³•ä¸­å»è°ƒç”¨æ“ä½œdomçš„æ–¹æ³•ã€‚</p>\n<p> æ­¤å¤–ï¼Œå¦‚æœé¡µé¢æœ‰inputç”¨v-modelç»‘å®šæ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¿™ç§ç»‘å®šäº†dataçš„inputå…ƒç´ ä¸Šæ·»åŠ ç›‘å¬ï¼Œæ·»åŠ inputäº‹ä»¶ç›‘å¬ï¼Œæ¯å½“inputäº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œå°±ä¿®æ”¹å¯¹åº”çš„data</p>\n<p>åŸæ–‡é“¾æ¥ï¼š<a href=\"https://blog.csdn.net/weixin_48181168/article/details/120158346\">https://blog.csdn.net/weixin_48181168/article/details/120158346</a></p>\n<p><img src=\"/img/image-20230521192401756.png\"></p>\n<h3 id=\"vue3å¯ç”¨proxy\"><a href=\"#vue3å¯ç”¨proxy\" class=\"headerlink\" title=\"vue3å¯ç”¨proxy\"></a><strong>vue3å¯ç”¨proxy</strong></h3><p><a href=\"https://blog.csdn.net/pagnzong/article/details/120389514\">https://blog.csdn.net/pagnzong/article/details/120389514</a></p>\n<p>ä»£ç </p>\n<p><img src=\"/img/image-20230522155235201.png\"></p>\n<h3 id=\"proxyå’Œobject-definePropertyå“åº”å¼çš„å¯¹æ¯”\"><a href=\"#proxyå’Œobject-definePropertyå“åº”å¼çš„å¯¹æ¯”\" class=\"headerlink\" title=\"proxyå’Œobject.definePropertyå“åº”å¼çš„å¯¹æ¯”\"></a>proxyå’Œobject.definePropertyå“åº”å¼çš„å¯¹æ¯”</h3><p>vue2å“åº”å¼çš„ç¼ºç‚¹ï¼š</p>\n<ul>\n<li>æ£€æµ‹ä¸åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ å’Œåˆ é™¤ ï¼ˆéœ€è¦ä½¿ç”¨vue.set, vue.deleteï¼‰</li>\n<li>æ•°ç»„<code>API</code>æ–¹æ³•æ— æ³•ç›‘å¬åˆ° (éœ€è¦ç‰¹æ®Šå¤„ç†)</li>\n<li>æ·±åº¦ç›‘å¬éœ€è¦é€’å½’åˆ°åº•ï¼Œé€ æˆæ€§èƒ½é—®é¢˜</li>\n</ul>\n<p>proxyè§£å†³çš„é—®é¢˜</p>\n<ul>\n<li>å…‹æœäº†vue2å“åº”å¼çš„é—®é¢˜</li>\n<li>ç¼ºç‚¹ï¼šæ²¡æœ‰å…¼å®¹ieç­‰å…¶ä»–æµè§ˆå™¨ï¼Œæ— æ³•å®ç°polyfill</li>\n</ul>\n<h2 id=\"3ã€è™šæ‹Ÿdomå’Œdiffç®—æ³•å’Œreact-diffçš„åŒºåˆ«\"><a href=\"#3ã€è™šæ‹Ÿdomå’Œdiffç®—æ³•å’Œreact-diffçš„åŒºåˆ«\" class=\"headerlink\" title=\"3ã€è™šæ‹Ÿdomå’Œdiffç®—æ³•å’Œreact diffçš„åŒºåˆ«\"></a>3ã€è™šæ‹Ÿdomå’Œdiffç®—æ³•å’Œreact diffçš„åŒºåˆ«</h2><p>ç”¨JSæ¨¡æ‹ŸDOMç»“æ„ï¼ˆvnodeï¼‰<br>å¢é‡æ›´æ–°ï¼š æ–°æ—§vnodeå¯¹æ¯”ï¼Œå¾—å‡ºæœ€å°çš„æ›´æ–°èŒƒå›´ï¼Œæœ€åæ›´æ–°DOM</p>\n<p>æ•°æ®é©±åŠ¨è§†å›¾çš„æ¨¡å¼ä¸‹ï¼Œæœ‰æ•ˆæ§åˆ¶DOMæ“ä½œ</p>\n<p><img src=\"/img/image-20230521193406678.png\"></p>\n<p>diffç®—æ³•</p>\n<ul>\n<li><p>å½“æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè®¢é˜…è€…<code>watcher</code>å°±ä¼šè°ƒç”¨<code>patch</code>ç»™çœŸå®çš„<code>DOM</code>æ‰“è¡¥ä¸</p>\n</li>\n<li><p>é€šè¿‡<code>isSameVnode</code>è¿›è¡Œåˆ¤æ–­ï¼Œç›¸åŒåˆ™è°ƒç”¨<code>patchVnode</code>æ–¹æ³•</p>\n</li>\n<li><pre><code>patchVnode\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">  åšäº†ä»¥ä¸‹æ“ä½œï¼š</span><br><span class=\"line\"></span><br><span class=\"line\">  - æ‰¾åˆ°å¯¹åº”çš„çœŸå®`dom`ï¼Œç§°ä¸º`el`</span><br><span class=\"line\">  - å¦‚æœéƒ½æœ‰éƒ½æœ‰æ–‡æœ¬èŠ‚ç‚¹ä¸”ä¸ç›¸ç­‰ï¼Œå°†`el`æ–‡æœ¬èŠ‚ç‚¹è®¾ç½®ä¸º`Vnode`çš„æ–‡æœ¬èŠ‚ç‚¹</span><br><span class=\"line\">  - å¦‚æœ`oldVnode`æœ‰å­èŠ‚ç‚¹è€Œ`VNode`æ²¡æœ‰ï¼Œåˆ™åˆ é™¤`el`å­èŠ‚ç‚¹</span><br><span class=\"line\">  - å¦‚æœ`oldVnode`æ²¡æœ‰å­èŠ‚ç‚¹è€Œ`VNode`æœ‰ï¼Œåˆ™å°†`VNode`çš„å­èŠ‚ç‚¹çœŸå®åŒ–åæ·»åŠ åˆ°`el`</span><br><span class=\"line\">  - å¦‚æœä¸¤è€…éƒ½æœ‰å­èŠ‚ç‚¹ï¼Œåˆ™æ‰§è¡Œ`updateChildren`å‡½æ•°æ¯”è¾ƒå­èŠ‚ç‚¹</span><br><span class=\"line\"></span><br><span class=\"line\">- ```</span><br><span class=\"line\">  updateChildren</span><br></pre></td></tr></table></figure>\n\nä¸»è¦åšäº†ä»¥ä¸‹æ“ä½œï¼š\n\n- è®¾ç½®æ–°æ—§`VNode`çš„å¤´å°¾æŒ‡é’ˆ\n- æ–°æ—§å¤´å°¾æŒ‡é’ˆè¿›è¡Œæ¯”è¾ƒï¼Œå¾ªç¯å‘ä¸­é—´é æ‹¢ï¼Œæ ¹æ®æƒ…å†µè°ƒç”¨`patchVnode`è¿›è¡Œ`patch`é‡å¤æµç¨‹ã€è°ƒç”¨`createElem`åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œä»å“ˆå¸Œè¡¨å¯»æ‰¾ `key`ä¸€è‡´çš„`VNode` èŠ‚ç‚¹å†åˆ†æƒ…å†µæ“ä½œ\n</code></pre>\n</li>\n</ul>\n<p><strong>ç›¸åŒç‚¹ï¼š</strong><br>Vueå’Œreactçš„diffç®—æ³•ï¼Œéƒ½æ˜¯ä¸è¿›è¡Œè·¨å±‚çº§æ¯”è¾ƒï¼ŒåªåšåŒçº§æ¯”è¾ƒ</p>\n<p><strong>ä¸åŒç‚¹ï¼š</strong></p>\n<ol>\n<li>vueä¼šåœ¨patchå‡½æ•°ä¸­ç»™è¢«æ“ä½œçš„èŠ‚ç‚¹æ‰“è¡¥ä¸ï¼ˆpatchflagï¼‰ï¼Œåœ¨diffçš„æ—¶å€™æ›´æ¸…æ™°</li>\n<li>vueå¯¹æ¯”èŠ‚ç‚¹ï¼Œå½“èŠ‚ç‚¹å…ƒç´ ç±»å‹ç›¸åŒï¼Œä½†æ˜¯classNameä¸åŒæ—¶ï¼Œè®¤ä¸ºæ˜¯ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œåˆ é™¤é‡æ–°åˆ›å»ºï¼›è€Œreactåˆ™è®¤ä¸ºæ˜¯åŒç±»å‹èŠ‚ç‚¹ï¼Œè¿›è¡Œä¿®æ”¹æ“ä½œ</li>\n<li>diffç­–ç•¥ï¼Œvueçš„æ€§èƒ½ä¼˜äºreact</li>\n</ol>\n<h2 id=\"4ã€æ¨¡æ¿ç¼–è¯‘template\"><a href=\"#4ã€æ¨¡æ¿ç¼–è¯‘template\" class=\"headerlink\" title=\"4ã€æ¨¡æ¿ç¼–è¯‘template\"></a>4ã€æ¨¡æ¿ç¼–è¯‘template</h2><p>template-&gt;render-&gt;h-&gt;vdom-&gt;true dom</p>\n<h2 id=\"5ã€vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°æµç¨‹\"><a href=\"#5ã€vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°æµç¨‹\" class=\"headerlink\" title=\"5ã€vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°æµç¨‹\"></a>5ã€vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°æµç¨‹</h2><p>åˆæ¬¡æ¸²æŸ“<br><img src=\"/img/image-20230521212323764.png\"></p>\n<p>æ›´æ–°<br><img src=\"/img/image-20230521212411230.png\"></p>\n<p>å®Œæ•´æµç¨‹å›¾<br><img src=\"/img/image-20230521212545143.png\"></p>\n","site":{"data":{"link":[{"class_name":"1.æŠ€æœ¯æ”¯æŒ","class_desc":"æœ¬ç½‘ç«™çš„æ­å»ºç”±ä»¥ä¸‹å¼€æºä½œè€…æä¾›æŠ€æœ¯æ”¯æŒ","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-cn/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"å¿«é€Ÿã€ç®€å•ä¸”å¼ºå¤§çš„ç½‘å¿—æ¡†æ¶","siteshot":"https://source.fomal.cc/siteshot/hexo.io.jpg"}]},{"class_name":"2.å‹æƒ…é“¾æ¥","class_desc":"ä¸€äº›å¥½æœ‹å‹~~","link_list":[{"name":"FomalhautğŸ¥","link":"https://fomal.cc/","avatar":"/assets/head.jpg","descr":"Future is now ğŸ­ğŸ­ğŸ­","siteshot":"https://source.fomal.cc/siteshot/www.fomal.cn.jpg"}]}]}},"cover":"https://source.fomal.cc/img/default_cover_6.webp","cover_type":"img","excerpt":"","more":"<h1 id=\"vueåŸç†\"><a href=\"#vueåŸç†\" class=\"headerlink\" title=\"vueåŸç†\"></a>vueåŸç†</h1><h2 id=\"1ã€mvvm\"><a href=\"#1ã€mvvm\" class=\"headerlink\" title=\"1ã€mvvm\"></a>1ã€mvvm</h2><ul>\n<li>Mï¼šæ¨¡å‹Model  â€”&gt;ä¹Ÿå°±æ˜¯dataä¸­çš„æ•°æ®</li>\n<li>Vï¼šè§†å›¾View  â€”&gt;ä¹Ÿå°±æ˜¯dom</li>\n<li>VMï¼šè§†å›¾æ¨¡å‹ViewModel  â€”&gt;ä¹Ÿå°±æ˜¯Vueå®ä¾‹ï¼ˆvmï¼‰</li>\n</ul>\n<p><img src=\"/img/image-20230521163900590.png\"></p>\n<h2 id=\"2ã€vueå“åº”å¼åŸç†\"><a href=\"#2ã€vueå“åº”å¼åŸç†\" class=\"headerlink\" title=\"2ã€vueå“åº”å¼åŸç†\"></a>2ã€vueå“åº”å¼åŸç†</h2><h3 id=\"æ ¸å¿ƒapi-object-defineProperty\"><a href=\"#æ ¸å¿ƒapi-object-defineProperty\" class=\"headerlink\" title=\"æ ¸å¿ƒapi object.defineProperty\"></a>æ ¸å¿ƒapi object.defineProperty</h3><p><img src=\"/img/image-20230521164959631.png\"></p>\n<p>vueå“åº”å¼ä¹Ÿå«ä½œæ•°æ®åŒå‘ç»‘å®šï¼Œå¤§è‡´åŸç†é˜è¿°ï¼š</p>\n<p> é¦–å…ˆæˆ‘ä»¬éœ€è¦é€šè¿‡Object.defineProperty()æ–¹æ³•æŠŠæ•°æ®(data)è®¾ç½®ä¸ºgetterå’Œsetterçš„è®¿é—®å½¢å¼ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨æ•°æ®è¢«ä¿®æ”¹æ—¶åœ¨setteræ–¹æ³•è®¾ç½®ç›‘è§†ä¿®æ”¹é¡µé¢ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯å½“æ•°æ®è¢«ä¿®æ”¹ï¼Œå°±ä¼šè§¦å‘å¯¹åº”çš„setæ–¹æ³•ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥åœ¨setæ–¹æ³•ä¸­å»è°ƒç”¨æ“ä½œdomçš„æ–¹æ³•ã€‚</p>\n<p> æ­¤å¤–ï¼Œå¦‚æœé¡µé¢æœ‰inputç”¨v-modelç»‘å®šæ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¿™ç§ç»‘å®šäº†dataçš„inputå…ƒç´ ä¸Šæ·»åŠ ç›‘å¬ï¼Œæ·»åŠ inputäº‹ä»¶ç›‘å¬ï¼Œæ¯å½“inputäº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œå°±ä¿®æ”¹å¯¹åº”çš„data</p>\n<p>åŸæ–‡é“¾æ¥ï¼š<a href=\"https://blog.csdn.net/weixin_48181168/article/details/120158346\">https://blog.csdn.net/weixin_48181168/article/details/120158346</a></p>\n<p><img src=\"/img/image-20230521192401756.png\"></p>\n<h3 id=\"vue3å¯ç”¨proxy\"><a href=\"#vue3å¯ç”¨proxy\" class=\"headerlink\" title=\"vue3å¯ç”¨proxy\"></a><strong>vue3å¯ç”¨proxy</strong></h3><p><a href=\"https://blog.csdn.net/pagnzong/article/details/120389514\">https://blog.csdn.net/pagnzong/article/details/120389514</a></p>\n<p>ä»£ç </p>\n<p><img src=\"/img/image-20230522155235201.png\"></p>\n<h3 id=\"proxyå’Œobject-definePropertyå“åº”å¼çš„å¯¹æ¯”\"><a href=\"#proxyå’Œobject-definePropertyå“åº”å¼çš„å¯¹æ¯”\" class=\"headerlink\" title=\"proxyå’Œobject.definePropertyå“åº”å¼çš„å¯¹æ¯”\"></a>proxyå’Œobject.definePropertyå“åº”å¼çš„å¯¹æ¯”</h3><p>vue2å“åº”å¼çš„ç¼ºç‚¹ï¼š</p>\n<ul>\n<li>æ£€æµ‹ä¸åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ å’Œåˆ é™¤ ï¼ˆéœ€è¦ä½¿ç”¨vue.set, vue.deleteï¼‰</li>\n<li>æ•°ç»„<code>API</code>æ–¹æ³•æ— æ³•ç›‘å¬åˆ° (éœ€è¦ç‰¹æ®Šå¤„ç†)</li>\n<li>æ·±åº¦ç›‘å¬éœ€è¦é€’å½’åˆ°åº•ï¼Œé€ æˆæ€§èƒ½é—®é¢˜</li>\n</ul>\n<p>proxyè§£å†³çš„é—®é¢˜</p>\n<ul>\n<li>å…‹æœäº†vue2å“åº”å¼çš„é—®é¢˜</li>\n<li>ç¼ºç‚¹ï¼šæ²¡æœ‰å…¼å®¹ieç­‰å…¶ä»–æµè§ˆå™¨ï¼Œæ— æ³•å®ç°polyfill</li>\n</ul>\n<h2 id=\"3ã€è™šæ‹Ÿdomå’Œdiffç®—æ³•å’Œreact-diffçš„åŒºåˆ«\"><a href=\"#3ã€è™šæ‹Ÿdomå’Œdiffç®—æ³•å’Œreact-diffçš„åŒºåˆ«\" class=\"headerlink\" title=\"3ã€è™šæ‹Ÿdomå’Œdiffç®—æ³•å’Œreact diffçš„åŒºåˆ«\"></a>3ã€è™šæ‹Ÿdomå’Œdiffç®—æ³•å’Œreact diffçš„åŒºåˆ«</h2><p>ç”¨JSæ¨¡æ‹ŸDOMç»“æ„ï¼ˆvnodeï¼‰<br>å¢é‡æ›´æ–°ï¼š æ–°æ—§vnodeå¯¹æ¯”ï¼Œå¾—å‡ºæœ€å°çš„æ›´æ–°èŒƒå›´ï¼Œæœ€åæ›´æ–°DOM</p>\n<p>æ•°æ®é©±åŠ¨è§†å›¾çš„æ¨¡å¼ä¸‹ï¼Œæœ‰æ•ˆæ§åˆ¶DOMæ“ä½œ</p>\n<p><img src=\"/img/image-20230521193406678.png\"></p>\n<p>diffç®—æ³•</p>\n<ul>\n<li><p>å½“æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè®¢é˜…è€…<code>watcher</code>å°±ä¼šè°ƒç”¨<code>patch</code>ç»™çœŸå®çš„<code>DOM</code>æ‰“è¡¥ä¸</p>\n</li>\n<li><p>é€šè¿‡<code>isSameVnode</code>è¿›è¡Œåˆ¤æ–­ï¼Œç›¸åŒåˆ™è°ƒç”¨<code>patchVnode</code>æ–¹æ³•</p>\n</li>\n<li><pre><code>patchVnode\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">  åšäº†ä»¥ä¸‹æ“ä½œï¼š</span><br><span class=\"line\"></span><br><span class=\"line\">  - æ‰¾åˆ°å¯¹åº”çš„çœŸå®`dom`ï¼Œç§°ä¸º`el`</span><br><span class=\"line\">  - å¦‚æœéƒ½æœ‰éƒ½æœ‰æ–‡æœ¬èŠ‚ç‚¹ä¸”ä¸ç›¸ç­‰ï¼Œå°†`el`æ–‡æœ¬èŠ‚ç‚¹è®¾ç½®ä¸º`Vnode`çš„æ–‡æœ¬èŠ‚ç‚¹</span><br><span class=\"line\">  - å¦‚æœ`oldVnode`æœ‰å­èŠ‚ç‚¹è€Œ`VNode`æ²¡æœ‰ï¼Œåˆ™åˆ é™¤`el`å­èŠ‚ç‚¹</span><br><span class=\"line\">  - å¦‚æœ`oldVnode`æ²¡æœ‰å­èŠ‚ç‚¹è€Œ`VNode`æœ‰ï¼Œåˆ™å°†`VNode`çš„å­èŠ‚ç‚¹çœŸå®åŒ–åæ·»åŠ åˆ°`el`</span><br><span class=\"line\">  - å¦‚æœä¸¤è€…éƒ½æœ‰å­èŠ‚ç‚¹ï¼Œåˆ™æ‰§è¡Œ`updateChildren`å‡½æ•°æ¯”è¾ƒå­èŠ‚ç‚¹</span><br><span class=\"line\"></span><br><span class=\"line\">- ```</span><br><span class=\"line\">  updateChildren</span><br></pre></td></tr></table></figure>\n\nä¸»è¦åšäº†ä»¥ä¸‹æ“ä½œï¼š\n\n- è®¾ç½®æ–°æ—§`VNode`çš„å¤´å°¾æŒ‡é’ˆ\n- æ–°æ—§å¤´å°¾æŒ‡é’ˆè¿›è¡Œæ¯”è¾ƒï¼Œå¾ªç¯å‘ä¸­é—´é æ‹¢ï¼Œæ ¹æ®æƒ…å†µè°ƒç”¨`patchVnode`è¿›è¡Œ`patch`é‡å¤æµç¨‹ã€è°ƒç”¨`createElem`åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œä»å“ˆå¸Œè¡¨å¯»æ‰¾ `key`ä¸€è‡´çš„`VNode` èŠ‚ç‚¹å†åˆ†æƒ…å†µæ“ä½œ\n</code></pre>\n</li>\n</ul>\n<p><strong>ç›¸åŒç‚¹ï¼š</strong><br>Vueå’Œreactçš„diffç®—æ³•ï¼Œéƒ½æ˜¯ä¸è¿›è¡Œè·¨å±‚çº§æ¯”è¾ƒï¼ŒåªåšåŒçº§æ¯”è¾ƒ</p>\n<p><strong>ä¸åŒç‚¹ï¼š</strong></p>\n<ol>\n<li>vueä¼šåœ¨patchå‡½æ•°ä¸­ç»™è¢«æ“ä½œçš„èŠ‚ç‚¹æ‰“è¡¥ä¸ï¼ˆpatchflagï¼‰ï¼Œåœ¨diffçš„æ—¶å€™æ›´æ¸…æ™°</li>\n<li>vueå¯¹æ¯”èŠ‚ç‚¹ï¼Œå½“èŠ‚ç‚¹å…ƒç´ ç±»å‹ç›¸åŒï¼Œä½†æ˜¯classNameä¸åŒæ—¶ï¼Œè®¤ä¸ºæ˜¯ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œåˆ é™¤é‡æ–°åˆ›å»ºï¼›è€Œreactåˆ™è®¤ä¸ºæ˜¯åŒç±»å‹èŠ‚ç‚¹ï¼Œè¿›è¡Œä¿®æ”¹æ“ä½œ</li>\n<li>diffç­–ç•¥ï¼Œvueçš„æ€§èƒ½ä¼˜äºreact</li>\n</ol>\n<h2 id=\"4ã€æ¨¡æ¿ç¼–è¯‘template\"><a href=\"#4ã€æ¨¡æ¿ç¼–è¯‘template\" class=\"headerlink\" title=\"4ã€æ¨¡æ¿ç¼–è¯‘template\"></a>4ã€æ¨¡æ¿ç¼–è¯‘template</h2><p>template-&gt;render-&gt;h-&gt;vdom-&gt;true dom</p>\n<h2 id=\"5ã€vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°æµç¨‹\"><a href=\"#5ã€vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°æµç¨‹\" class=\"headerlink\" title=\"5ã€vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°æµç¨‹\"></a>5ã€vueç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°æµç¨‹</h2><p>åˆæ¬¡æ¸²æŸ“<br><img src=\"/img/image-20230521212323764.png\"></p>\n<p>æ›´æ–°<br><img src=\"/img/image-20230521212411230.png\"></p>\n<p>å®Œæ•´æµç¨‹å›¾<br><img src=\"/img/image-20230521212545143.png\"></p>\n"},{"title":"ç¬¬ ä¸‰ ç¯‡æ–‡ç«  Git","date":"2022-08-10T08:35:35.000Z","_content":"\n# Git\n\n**ä¸Šä¼ åˆ°github**å…ˆgit init, git add . ,git commit -m ' ', å†å…³è”è¿œç¨‹åº“\n\nGit ä¸­çš„ä¸‰ä¸ª**åŒºåŸŸ**ï¼šå·¥ä½œåŒºã€æš‚å­˜åŒºã€Git ä»“åº“ã€‚\n\nå·¥ä½œåŒºï¼šå¤„ç†å·¥ä½œçš„åŒºåŸŸ\n\næš‚å­˜åŒºï¼šå·²å®Œæˆçš„å·¥ä½œçš„ä¸´æ—¶å­˜æ”¾åŒºåŸŸï¼Œç­‰å¾…è¢«æäº¤\n\nGit ä»“åº“ï¼šæœ€ç»ˆçš„å­˜æ”¾åŒºåŸŸ\n\nGit ä¸­çš„ä¸‰ç§**çŠ¶æ€**ï¼šå·²ä¿®æ”¹ modified å·²æš‚å­˜ staged å·²æäº¤ committed\n\n**å·²ä¿®æ”¹**ï¼šè¡¨ç¤ºä¿®æ”¹äº†æ–‡ä»¶ï¼Œä½†è¿˜æ²¡å°†ä¿®æ”¹çš„ç»“æœæ”¾åˆ°æš‚å­˜åŒºã€‚\n\n**å·²æš‚å­˜**ï¼šè¡¨ç¤ºå¯¹å·²ä¿®æ”¹æ–‡ä»¶çš„å½“å‰ ç‰ˆæœ¬åšäº†æ ‡è®°ï¼Œä½¿ä¹‹åŒ…å« åœ¨ä¸‹æ¬¡æäº¤çš„åˆ—è¡¨ä¸­ã€‚\n\n**å·²æäº¤**ï¼šè¡¨ç¤ºæ–‡ä»¶å·²ç»å®‰å…¨åœ°ä¿å­˜ åœ¨æœ¬åœ°çš„ Git ä»“åº“ä¸­ã€‚\n\næ³¨æ„ï¼š\n\nâš« å·¥ä½œåŒºçš„æ–‡ä»¶è¢«ä¿®æ”¹äº†ï¼Œä½†è¿˜æ²¡æœ‰æ”¾åˆ°æš‚å­˜åŒºï¼Œå°±æ˜¯å·²ä¿®æ”¹çŠ¶æ€ã€‚\n\nâš« å¦‚æœæ–‡ä»¶å·²ä¿®æ”¹å¹¶æ”¾å…¥æš‚å­˜åŒºï¼Œå°±å±äºå·²æš‚å­˜çŠ¶æ€ã€‚\n\nâš« å¦‚æœ Git ä»“åº“ä¸­ä¿å­˜ç€ç‰¹å®šç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œå°±å±äºå·²æäº¤çŠ¶æ€ã€‚\n\n## Gitçš„åŸºæœ¬æ“ä½œ\n\n1. git init å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªåä¸º .git çš„éšè—ç›®å½•ï¼Œè¿™ä¸ª .git ç›®å½•å°±æ˜¯å½“å‰é¡¹ç›®çš„ Git ä»“åº“ï¼Œé‡Œé¢åŒ…å«äº†åˆå§‹çš„å¿…è¦æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ˜¯ Git ä»“åº“çš„å¿…è¦ç»„æˆéƒ¨åˆ†ã€‚\n\n2. git add å¼€å§‹è·Ÿè¸ªä¸€ä¸ªæ–‡ä»¶ï¼Œgit add . ä¸€æ¬¡æ€§å°†æ‰€æœ‰çš„æ–°å¢å’Œä¿®æ”¹è¿‡çš„æ–‡ä»¶åŠ å…¥æš‚å­˜åŒº\n\n3. git status å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶å¤„äºä»€ä¹ˆçŠ¶æ€\n\n4. git commit å‘½ä»¤è¿›è¡Œæäº¤, å…¶ä¸­ -m é€‰é¡¹åé¢æ˜¯æœ¬æ¬¡çš„æäº¤æ¶ˆæ¯ï¼Œç”¨æ¥å¯¹æäº¤çš„å†…å®¹åšè¿›ä¸€æ­¥çš„æè¿°ï¼š\n\n   ```js\n   git commit -m 'ä»€ä¹ˆä¿¡æ¯'\t\n   ```\n\n5. è·³è¿‡ä½¿ç”¨æš‚å­˜åŒºåŸŸ\n\nGit æ ‡å‡†çš„å·¥ä½œæµç¨‹æ˜¯**å·¥ä½œåŒº â†’ æš‚å­˜åŒº â†’ Git ä»“åº“**ã€‚Git å·¥ä½œçš„æµç¨‹ç®€åŒ–ä¸ºäº†**å·¥ä½œåŒº â†’ Git ä»“åº“**ã€‚\n\n```js\ngit commit -a -m 'æè¿°ä¿¡æ¯'\n```\n\n6. ç§»é™¤æ–‡ä»¶\n\n   ä» Git ä»“åº“ä¸­ç§»é™¤æ–‡ä»¶çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š \n\n   â‘  ä» Git ä»“åº“å’Œå·¥ä½œåŒºä¸­åŒæ—¶ç§»é™¤å¯¹åº”çš„æ–‡ä»¶ \n\n   â‘¡ åªä» Git ä»“åº“ä¸­ç§»é™¤æŒ‡å®šçš„æ–‡ä»¶ï¼Œä½†ä¿ç•™å·¥ä½œåŒºä¸­å¯¹åº”çš„æ–‡ä»¶\n\n![](/img/image-20221025163441508.png)\n\n## Gitåˆ†æ”¯çš„æ¦‚å¿µ\n\nmaster ä¸»åˆ†æ”¯\n\nåŠŸèƒ½åˆ†æ”¯\n\n1. åˆ›å»ºæ–°åˆ†æ”¯       **git branch åˆ†æ”¯åç§°**  \n\n   åŸºäºå½“å‰åˆ†æ”¯ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œåˆ›å»ºå¥½åˆ†æ”¯åï¼Œå½“å‰ä½ç½®è¿˜æ˜¯åœ¨masteråˆ†æ”¯ä¸Š\n\n2. åˆ‡æ¢åˆ†æ”¯     **git checkout åˆ†æ”¯åç§°**     \n\n   å¯ä»¥åˆ‡æ¢åˆ°æŒ‡å®šçš„åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘\n\n3. åˆ†æ”¯çš„å¿«é€Ÿåˆ›å»ºå’Œåˆ‡æ¢  **git checkout -b åˆ†æ”¯åç§°**\n\n4. åˆå¹¶åˆ†æ”¯   å…ˆåˆ‡æ¢åˆ° masteråˆ†æ”¯ä¸Šï¼Œå†è¿è¡Œ **git merge åˆ†æ”¯åç§°** å‘½ä»¤ï¼Œæ¥åˆå¹¶åŠŸèƒ½åˆ†æ”¯\n\n   åŠŸèƒ½åˆ†æ”¯çš„ä»£ç å¼€å‘æµ‹è¯•å®Œæ¯•ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼Œå°†å®Œæˆåçš„ä»£ç åˆå¹¶åˆ° master ä¸»åˆ†æ”¯ä¸Š\n\n5. åˆ é™¤åˆ†æ”¯ **git branch -d åˆ†æ”¯åç§°**\n\n   å½“æŠŠåŠŸèƒ½åˆ†æ”¯çš„ä»£ç åˆå¹¶åˆ° master ä¸»åˆ†æ”¯ä¸Šä»¥åï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼Œåˆ é™¤å¯¹åº”çš„åŠŸèƒ½åˆ†æ”¯\n\nâ€‹\t6ã€git remote prune origin æ¸…ç†æœ¬åœ°ä»“åº“ä¸­ä¸è¿œç¨‹ä»“åº“ä¸­originå…³è”çš„å·²ç»ä¸å­˜åœ¨çš„åˆ†æ”¯å¼•ç”¨\n\n## è¿œç¨‹åˆ†æ”¯æ“ä½œ\n\n1. å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“\n\nâ€‹\t\tå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œéœ€è¦è¿è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼š\n![](/img/image-20221025164401144.png)\n\n\ngitlabçš„æ“ä½œï¼Œgit pull origin åˆ†æ”¯å\n\n\n\n2. æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¸­æ‰€æœ‰çš„åˆ†æ”¯åˆ—è¡¨\n\n   é€šè¿‡å¦‚ä¸‹çš„å‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¸­ï¼Œæ‰€æœ‰çš„åˆ†æ”¯åˆ—è¡¨çš„ä¿¡æ¯ï¼š\n![](/img/image-20221025164457908.png)\n\n\n3. è·Ÿè¸ªåˆ†æ”¯\n\nâ€‹\t\tè·Ÿè¸ªåˆ†æ”¯æŒ‡çš„æ˜¯ï¼šä»è¿œç¨‹ä»“åº“ä¸­ï¼ŒæŠŠè¿œç¨‹åˆ†æ”¯ä¸‹è½½åˆ°æœ¬åœ°ä»“åº“ä¸­ã€‚éœ€è¦è¿è¡Œçš„å‘½ä»¤å¦‚ä¸‹ï¼š\n![](/img/image-20221025164539512.png)\n\n\n4. æ‹‰å–è¿œç¨‹åˆ†æ”¯çš„æœ€æ–°çš„ä»£ç \n\n   é¦–å…ˆåˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯\n\n   git pull origin è¿œç¨‹åˆ†æ”¯å\n\n   å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤ï¼ŒæŠŠè¿œç¨‹åˆ†æ”¯æœ€æ–°çš„ä»£ç ä¸‹è½½åˆ°æœ¬åœ°å¯¹åº”çš„åˆ†æ”¯ä¸­ï¼š\n![](/img/image-20221025164618940.png)\n\n\n5. åˆ é™¤è¿œç¨‹åˆ†æ”¯\n\n   å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤ï¼Œåˆ é™¤è¿œç¨‹ä»“åº“ä¸­æŒ‡å®šçš„åˆ†æ”¯ï¼š\n![](/img/image-20221025164652215.png)\n\n6. åˆå¹¶åˆ†æ”¯å†²çª\n\nå¦‚æœåœ¨ä¸¤ä¸ªä¸åŒçš„åˆ†æ”¯ä¸­ï¼Œå¯¹åŒä¸€ä¸ªæ–‡ä»¶è¿›è¡Œäº†ä¸åŒçš„ä¿®æ”¹ï¼ŒGit å°±æ²¡æ³•å¹²å‡€çš„åˆå¹¶å®ƒä»¬ã€‚ æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ‰“å¼€ è¿™äº›åŒ…å«å†²çªçš„æ–‡ä»¶ç„¶åæ‰‹åŠ¨è§£å†³å†²çªã€‚ã€\n\n## git clone\n\ngit init\n\nç„¶ågit clone +url\n\nå¦‚æœè¿æ¥ä¸ä¸Šå°±\n\nhttps://blog.csdn.net/greatcoder/article/details/126138230\n\ngit clone https://ghproxy.com/+githubç½‘ç«™åœ°å€\n\nå°±æ¯”å¦‚ git clone https://ghproxy.com/https://github.com/HaogegeShy/jingdong.git\n\n\n## gité—®é¢˜error: remote origin already exists\n\nhttps://blog.csdn.net/qq_39208536/article/details/125231265\n\nå¦‚æœä½ cloneä¸‹æ¥ä¸€ä¸ªåˆ«äººçš„ä»“åº“ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå®Œæˆä½ çš„ä»£ç ï¼Œæ¨é€åˆ°è‡ªå·±çš„ä»“åº“å¯èƒ½é‡åˆ°å¦‚ä¸‹é—®é¢˜ï¼š\nerror: remote origin already exists.è¡¨ç¤ºè¿œç¨‹ä»“åº“å·²å­˜åœ¨ã€‚\nå› æ­¤ä½ è¦è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š\n1ã€å…ˆè¾“å…¥git remote rm origin åˆ é™¤å…³è”çš„originçš„è¿œç¨‹åº“\n2ã€å…³è”è‡ªå·±çš„ä»“åº“ git remote add origin https://gitee.com/xxxxxx.git\n3ã€æœ€ågit push origin masterï¼Œè¿™æ ·å°±æ¨é€åˆ°è‡ªå·±çš„ä»“åº“äº†ã€‚\n\n## gitä»£ç æäº¤åˆ°è¿œç¨‹ä»“åº“æ—¶\n\né€‰ç”¨sshçš„æ–¹å¼\n\n## git rebaseå’Œgit mergeçš„åŒºåˆ«\n\n1ã€rebaseå˜åŸºï¼ŒæŠŠå½“å‰çš„commitæ”¾åˆ°å…¬å…±åˆ†æ”¯çš„æœ€åé¢ï¼ŒmergeæŠŠå½“å‰çš„commitå’Œå…¬å…±åˆ†æ”¯åˆå¹¶åœ¨ä¸€èµ·ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªåˆå¹¶çš„commitï¼›\n\n2ã€ç”¨mergeå‘½ä»¤è§£å†³å®Œå†²çªåä¼šäº§ç”Ÿä¸€ä¸ªcommitï¼Œè€Œç”¨rebaseå‘½ä»¤è§£å†³å®Œå†²çªåä¸ä¼šäº§ç”Ÿé¢å¤–çš„commitã€‚\n\nmergeä¸­fast-forward ä¸ä¼šäº§ç”Ÿcommitæäº¤ï¼Œ--no-ff ä¼šäº§ç”Ÿcommitæäº¤","source":"_posts/22-08-10-3.md","raw":"---\ntitle: ç¬¬ ä¸‰ ç¯‡æ–‡ç«  Git\ndate: 2022-08-10 16:35:35\n---\n\n# Git\n\n**ä¸Šä¼ åˆ°github**å…ˆgit init, git add . ,git commit -m ' ', å†å…³è”è¿œç¨‹åº“\n\nGit ä¸­çš„ä¸‰ä¸ª**åŒºåŸŸ**ï¼šå·¥ä½œåŒºã€æš‚å­˜åŒºã€Git ä»“åº“ã€‚\n\nå·¥ä½œåŒºï¼šå¤„ç†å·¥ä½œçš„åŒºåŸŸ\n\næš‚å­˜åŒºï¼šå·²å®Œæˆçš„å·¥ä½œçš„ä¸´æ—¶å­˜æ”¾åŒºåŸŸï¼Œç­‰å¾…è¢«æäº¤\n\nGit ä»“åº“ï¼šæœ€ç»ˆçš„å­˜æ”¾åŒºåŸŸ\n\nGit ä¸­çš„ä¸‰ç§**çŠ¶æ€**ï¼šå·²ä¿®æ”¹ modified å·²æš‚å­˜ staged å·²æäº¤ committed\n\n**å·²ä¿®æ”¹**ï¼šè¡¨ç¤ºä¿®æ”¹äº†æ–‡ä»¶ï¼Œä½†è¿˜æ²¡å°†ä¿®æ”¹çš„ç»“æœæ”¾åˆ°æš‚å­˜åŒºã€‚\n\n**å·²æš‚å­˜**ï¼šè¡¨ç¤ºå¯¹å·²ä¿®æ”¹æ–‡ä»¶çš„å½“å‰ ç‰ˆæœ¬åšäº†æ ‡è®°ï¼Œä½¿ä¹‹åŒ…å« åœ¨ä¸‹æ¬¡æäº¤çš„åˆ—è¡¨ä¸­ã€‚\n\n**å·²æäº¤**ï¼šè¡¨ç¤ºæ–‡ä»¶å·²ç»å®‰å…¨åœ°ä¿å­˜ åœ¨æœ¬åœ°çš„ Git ä»“åº“ä¸­ã€‚\n\næ³¨æ„ï¼š\n\nâš« å·¥ä½œåŒºçš„æ–‡ä»¶è¢«ä¿®æ”¹äº†ï¼Œä½†è¿˜æ²¡æœ‰æ”¾åˆ°æš‚å­˜åŒºï¼Œå°±æ˜¯å·²ä¿®æ”¹çŠ¶æ€ã€‚\n\nâš« å¦‚æœæ–‡ä»¶å·²ä¿®æ”¹å¹¶æ”¾å…¥æš‚å­˜åŒºï¼Œå°±å±äºå·²æš‚å­˜çŠ¶æ€ã€‚\n\nâš« å¦‚æœ Git ä»“åº“ä¸­ä¿å­˜ç€ç‰¹å®šç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œå°±å±äºå·²æäº¤çŠ¶æ€ã€‚\n\n## Gitçš„åŸºæœ¬æ“ä½œ\n\n1. git init å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªåä¸º .git çš„éšè—ç›®å½•ï¼Œè¿™ä¸ª .git ç›®å½•å°±æ˜¯å½“å‰é¡¹ç›®çš„ Git ä»“åº“ï¼Œé‡Œé¢åŒ…å«äº†åˆå§‹çš„å¿…è¦æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ˜¯ Git ä»“åº“çš„å¿…è¦ç»„æˆéƒ¨åˆ†ã€‚\n\n2. git add å¼€å§‹è·Ÿè¸ªä¸€ä¸ªæ–‡ä»¶ï¼Œgit add . ä¸€æ¬¡æ€§å°†æ‰€æœ‰çš„æ–°å¢å’Œä¿®æ”¹è¿‡çš„æ–‡ä»¶åŠ å…¥æš‚å­˜åŒº\n\n3. git status å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶å¤„äºä»€ä¹ˆçŠ¶æ€\n\n4. git commit å‘½ä»¤è¿›è¡Œæäº¤, å…¶ä¸­ -m é€‰é¡¹åé¢æ˜¯æœ¬æ¬¡çš„æäº¤æ¶ˆæ¯ï¼Œç”¨æ¥å¯¹æäº¤çš„å†…å®¹åšè¿›ä¸€æ­¥çš„æè¿°ï¼š\n\n   ```js\n   git commit -m 'ä»€ä¹ˆä¿¡æ¯'\t\n   ```\n\n5. è·³è¿‡ä½¿ç”¨æš‚å­˜åŒºåŸŸ\n\nGit æ ‡å‡†çš„å·¥ä½œæµç¨‹æ˜¯**å·¥ä½œåŒº â†’ æš‚å­˜åŒº â†’ Git ä»“åº“**ã€‚Git å·¥ä½œçš„æµç¨‹ç®€åŒ–ä¸ºäº†**å·¥ä½œåŒº â†’ Git ä»“åº“**ã€‚\n\n```js\ngit commit -a -m 'æè¿°ä¿¡æ¯'\n```\n\n6. ç§»é™¤æ–‡ä»¶\n\n   ä» Git ä»“åº“ä¸­ç§»é™¤æ–‡ä»¶çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š \n\n   â‘  ä» Git ä»“åº“å’Œå·¥ä½œåŒºä¸­åŒæ—¶ç§»é™¤å¯¹åº”çš„æ–‡ä»¶ \n\n   â‘¡ åªä» Git ä»“åº“ä¸­ç§»é™¤æŒ‡å®šçš„æ–‡ä»¶ï¼Œä½†ä¿ç•™å·¥ä½œåŒºä¸­å¯¹åº”çš„æ–‡ä»¶\n\n![](/img/image-20221025163441508.png)\n\n## Gitåˆ†æ”¯çš„æ¦‚å¿µ\n\nmaster ä¸»åˆ†æ”¯\n\nåŠŸèƒ½åˆ†æ”¯\n\n1. åˆ›å»ºæ–°åˆ†æ”¯       **git branch åˆ†æ”¯åç§°**  \n\n   åŸºäºå½“å‰åˆ†æ”¯ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œåˆ›å»ºå¥½åˆ†æ”¯åï¼Œå½“å‰ä½ç½®è¿˜æ˜¯åœ¨masteråˆ†æ”¯ä¸Š\n\n2. åˆ‡æ¢åˆ†æ”¯     **git checkout åˆ†æ”¯åç§°**     \n\n   å¯ä»¥åˆ‡æ¢åˆ°æŒ‡å®šçš„åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘\n\n3. åˆ†æ”¯çš„å¿«é€Ÿåˆ›å»ºå’Œåˆ‡æ¢  **git checkout -b åˆ†æ”¯åç§°**\n\n4. åˆå¹¶åˆ†æ”¯   å…ˆåˆ‡æ¢åˆ° masteråˆ†æ”¯ä¸Šï¼Œå†è¿è¡Œ **git merge åˆ†æ”¯åç§°** å‘½ä»¤ï¼Œæ¥åˆå¹¶åŠŸèƒ½åˆ†æ”¯\n\n   åŠŸèƒ½åˆ†æ”¯çš„ä»£ç å¼€å‘æµ‹è¯•å®Œæ¯•ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼Œå°†å®Œæˆåçš„ä»£ç åˆå¹¶åˆ° master ä¸»åˆ†æ”¯ä¸Š\n\n5. åˆ é™¤åˆ†æ”¯ **git branch -d åˆ†æ”¯åç§°**\n\n   å½“æŠŠåŠŸèƒ½åˆ†æ”¯çš„ä»£ç åˆå¹¶åˆ° master ä¸»åˆ†æ”¯ä¸Šä»¥åï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼Œåˆ é™¤å¯¹åº”çš„åŠŸèƒ½åˆ†æ”¯\n\nâ€‹\t6ã€git remote prune origin æ¸…ç†æœ¬åœ°ä»“åº“ä¸­ä¸è¿œç¨‹ä»“åº“ä¸­originå…³è”çš„å·²ç»ä¸å­˜åœ¨çš„åˆ†æ”¯å¼•ç”¨\n\n## è¿œç¨‹åˆ†æ”¯æ“ä½œ\n\n1. å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“\n\nâ€‹\t\tå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œéœ€è¦è¿è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼š\n![](/img/image-20221025164401144.png)\n\n\ngitlabçš„æ“ä½œï¼Œgit pull origin åˆ†æ”¯å\n\n\n\n2. æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¸­æ‰€æœ‰çš„åˆ†æ”¯åˆ—è¡¨\n\n   é€šè¿‡å¦‚ä¸‹çš„å‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¸­ï¼Œæ‰€æœ‰çš„åˆ†æ”¯åˆ—è¡¨çš„ä¿¡æ¯ï¼š\n![](/img/image-20221025164457908.png)\n\n\n3. è·Ÿè¸ªåˆ†æ”¯\n\nâ€‹\t\tè·Ÿè¸ªåˆ†æ”¯æŒ‡çš„æ˜¯ï¼šä»è¿œç¨‹ä»“åº“ä¸­ï¼ŒæŠŠè¿œç¨‹åˆ†æ”¯ä¸‹è½½åˆ°æœ¬åœ°ä»“åº“ä¸­ã€‚éœ€è¦è¿è¡Œçš„å‘½ä»¤å¦‚ä¸‹ï¼š\n![](/img/image-20221025164539512.png)\n\n\n4. æ‹‰å–è¿œç¨‹åˆ†æ”¯çš„æœ€æ–°çš„ä»£ç \n\n   é¦–å…ˆåˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯\n\n   git pull origin è¿œç¨‹åˆ†æ”¯å\n\n   å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤ï¼ŒæŠŠè¿œç¨‹åˆ†æ”¯æœ€æ–°çš„ä»£ç ä¸‹è½½åˆ°æœ¬åœ°å¯¹åº”çš„åˆ†æ”¯ä¸­ï¼š\n![](/img/image-20221025164618940.png)\n\n\n5. åˆ é™¤è¿œç¨‹åˆ†æ”¯\n\n   å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤ï¼Œåˆ é™¤è¿œç¨‹ä»“åº“ä¸­æŒ‡å®šçš„åˆ†æ”¯ï¼š\n![](/img/image-20221025164652215.png)\n\n6. åˆå¹¶åˆ†æ”¯å†²çª\n\nå¦‚æœåœ¨ä¸¤ä¸ªä¸åŒçš„åˆ†æ”¯ä¸­ï¼Œå¯¹åŒä¸€ä¸ªæ–‡ä»¶è¿›è¡Œäº†ä¸åŒçš„ä¿®æ”¹ï¼ŒGit å°±æ²¡æ³•å¹²å‡€çš„åˆå¹¶å®ƒä»¬ã€‚ æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ‰“å¼€ è¿™äº›åŒ…å«å†²çªçš„æ–‡ä»¶ç„¶åæ‰‹åŠ¨è§£å†³å†²çªã€‚ã€\n\n## git clone\n\ngit init\n\nç„¶ågit clone +url\n\nå¦‚æœè¿æ¥ä¸ä¸Šå°±\n\nhttps://blog.csdn.net/greatcoder/article/details/126138230\n\ngit clone https://ghproxy.com/+githubç½‘ç«™åœ°å€\n\nå°±æ¯”å¦‚ git clone https://ghproxy.com/https://github.com/HaogegeShy/jingdong.git\n\n\n## gité—®é¢˜error: remote origin already exists\n\nhttps://blog.csdn.net/qq_39208536/article/details/125231265\n\nå¦‚æœä½ cloneä¸‹æ¥ä¸€ä¸ªåˆ«äººçš„ä»“åº“ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå®Œæˆä½ çš„ä»£ç ï¼Œæ¨é€åˆ°è‡ªå·±çš„ä»“åº“å¯èƒ½é‡åˆ°å¦‚ä¸‹é—®é¢˜ï¼š\nerror: remote origin already exists.è¡¨ç¤ºè¿œç¨‹ä»“åº“å·²å­˜åœ¨ã€‚\nå› æ­¤ä½ è¦è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š\n1ã€å…ˆè¾“å…¥git remote rm origin åˆ é™¤å…³è”çš„originçš„è¿œç¨‹åº“\n2ã€å…³è”è‡ªå·±çš„ä»“åº“ git remote add origin https://gitee.com/xxxxxx.git\n3ã€æœ€ågit push origin masterï¼Œè¿™æ ·å°±æ¨é€åˆ°è‡ªå·±çš„ä»“åº“äº†ã€‚\n\n## gitä»£ç æäº¤åˆ°è¿œç¨‹ä»“åº“æ—¶\n\né€‰ç”¨sshçš„æ–¹å¼\n\n## git rebaseå’Œgit mergeçš„åŒºåˆ«\n\n1ã€rebaseå˜åŸºï¼ŒæŠŠå½“å‰çš„commitæ”¾åˆ°å…¬å…±åˆ†æ”¯çš„æœ€åé¢ï¼ŒmergeæŠŠå½“å‰çš„commitå’Œå…¬å…±åˆ†æ”¯åˆå¹¶åœ¨ä¸€èµ·ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªåˆå¹¶çš„commitï¼›\n\n2ã€ç”¨mergeå‘½ä»¤è§£å†³å®Œå†²çªåä¼šäº§ç”Ÿä¸€ä¸ªcommitï¼Œè€Œç”¨rebaseå‘½ä»¤è§£å†³å®Œå†²çªåä¸ä¼šäº§ç”Ÿé¢å¤–çš„commitã€‚\n\nmergeä¸­fast-forward ä¸ä¼šäº§ç”Ÿcommitæäº¤ï¼Œ--no-ff ä¼šäº§ç”Ÿcommitæäº¤","slug":"22-08-10-3","published":1,"updated":"2023-07-31T11:59:43.261Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clkrly5lq0002pcup5a2xhpnp","content":"<h1 id=\"Git\"><a href=\"#Git\" class=\"headerlink\" title=\"Git\"></a>Git</h1><p><strong>ä¸Šä¼ åˆ°github</strong>å…ˆgit init, git add . ,git commit -m â€˜ â€˜, å†å…³è”è¿œç¨‹åº“</p>\n<p>Git ä¸­çš„ä¸‰ä¸ª<strong>åŒºåŸŸ</strong>ï¼šå·¥ä½œåŒºã€æš‚å­˜åŒºã€Git ä»“åº“ã€‚</p>\n<p>å·¥ä½œåŒºï¼šå¤„ç†å·¥ä½œçš„åŒºåŸŸ</p>\n<p>æš‚å­˜åŒºï¼šå·²å®Œæˆçš„å·¥ä½œçš„ä¸´æ—¶å­˜æ”¾åŒºåŸŸï¼Œç­‰å¾…è¢«æäº¤</p>\n<p>Git ä»“åº“ï¼šæœ€ç»ˆçš„å­˜æ”¾åŒºåŸŸ</p>\n<p>Git ä¸­çš„ä¸‰ç§<strong>çŠ¶æ€</strong>ï¼šå·²ä¿®æ”¹ modified å·²æš‚å­˜ staged å·²æäº¤ committed</p>\n<p><strong>å·²ä¿®æ”¹</strong>ï¼šè¡¨ç¤ºä¿®æ”¹äº†æ–‡ä»¶ï¼Œä½†è¿˜æ²¡å°†ä¿®æ”¹çš„ç»“æœæ”¾åˆ°æš‚å­˜åŒºã€‚</p>\n<p><strong>å·²æš‚å­˜</strong>ï¼šè¡¨ç¤ºå¯¹å·²ä¿®æ”¹æ–‡ä»¶çš„å½“å‰ ç‰ˆæœ¬åšäº†æ ‡è®°ï¼Œä½¿ä¹‹åŒ…å« åœ¨ä¸‹æ¬¡æäº¤çš„åˆ—è¡¨ä¸­ã€‚</p>\n<p><strong>å·²æäº¤</strong>ï¼šè¡¨ç¤ºæ–‡ä»¶å·²ç»å®‰å…¨åœ°ä¿å­˜ åœ¨æœ¬åœ°çš„ Git ä»“åº“ä¸­ã€‚</p>\n<p>æ³¨æ„ï¼š</p>\n<p>âš« å·¥ä½œåŒºçš„æ–‡ä»¶è¢«ä¿®æ”¹äº†ï¼Œä½†è¿˜æ²¡æœ‰æ”¾åˆ°æš‚å­˜åŒºï¼Œå°±æ˜¯å·²ä¿®æ”¹çŠ¶æ€ã€‚</p>\n<p>âš« å¦‚æœæ–‡ä»¶å·²ä¿®æ”¹å¹¶æ”¾å…¥æš‚å­˜åŒºï¼Œå°±å±äºå·²æš‚å­˜çŠ¶æ€ã€‚</p>\n<p>âš« å¦‚æœ Git ä»“åº“ä¸­ä¿å­˜ç€ç‰¹å®šç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œå°±å±äºå·²æäº¤çŠ¶æ€ã€‚</p>\n<h2 id=\"Gitçš„åŸºæœ¬æ“ä½œ\"><a href=\"#Gitçš„åŸºæœ¬æ“ä½œ\" class=\"headerlink\" title=\"Gitçš„åŸºæœ¬æ“ä½œ\"></a>Gitçš„åŸºæœ¬æ“ä½œ</h2><ol>\n<li><p>git init å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªåä¸º .git çš„éšè—ç›®å½•ï¼Œè¿™ä¸ª .git ç›®å½•å°±æ˜¯å½“å‰é¡¹ç›®çš„ Git ä»“åº“ï¼Œé‡Œé¢åŒ…å«äº†åˆå§‹çš„å¿…è¦æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ˜¯ Git ä»“åº“çš„å¿…è¦ç»„æˆéƒ¨åˆ†ã€‚</p>\n</li>\n<li><p>git add å¼€å§‹è·Ÿè¸ªä¸€ä¸ªæ–‡ä»¶ï¼Œgit add . ä¸€æ¬¡æ€§å°†æ‰€æœ‰çš„æ–°å¢å’Œä¿®æ”¹è¿‡çš„æ–‡ä»¶åŠ å…¥æš‚å­˜åŒº</p>\n</li>\n<li><p>git status å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶å¤„äºä»€ä¹ˆçŠ¶æ€</p>\n</li>\n<li><p>git commit å‘½ä»¤è¿›è¡Œæäº¤, å…¶ä¸­ -m é€‰é¡¹åé¢æ˜¯æœ¬æ¬¡çš„æäº¤æ¶ˆæ¯ï¼Œç”¨æ¥å¯¹æäº¤çš„å†…å®¹åšè¿›ä¸€æ­¥çš„æè¿°ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git commit -m <span class=\"string\">&#x27;ä»€ä¹ˆä¿¡æ¯&#x27;</span>\t</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>è·³è¿‡ä½¿ç”¨æš‚å­˜åŒºåŸŸ</p>\n</li>\n</ol>\n<p>Git æ ‡å‡†çš„å·¥ä½œæµç¨‹æ˜¯<strong>å·¥ä½œåŒº â†’ æš‚å­˜åŒº â†’ Git ä»“åº“</strong>ã€‚Git å·¥ä½œçš„æµç¨‹ç®€åŒ–ä¸ºäº†<strong>å·¥ä½œåŒº â†’ Git ä»“åº“</strong>ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git commit -a -m <span class=\"string\">&#x27;æè¿°ä¿¡æ¯&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"6\">\n<li><p>ç§»é™¤æ–‡ä»¶</p>\n<p>ä» Git ä»“åº“ä¸­ç§»é™¤æ–‡ä»¶çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š </p>\n<p>â‘  ä» Git ä»“åº“å’Œå·¥ä½œåŒºä¸­åŒæ—¶ç§»é™¤å¯¹åº”çš„æ–‡ä»¶ </p>\n<p>â‘¡ åªä» Git ä»“åº“ä¸­ç§»é™¤æŒ‡å®šçš„æ–‡ä»¶ï¼Œä½†ä¿ç•™å·¥ä½œåŒºä¸­å¯¹åº”çš„æ–‡ä»¶</p>\n</li>\n</ol>\n<p><img src=\"/img/image-20221025163441508.png\"></p>\n<h2 id=\"Gitåˆ†æ”¯çš„æ¦‚å¿µ\"><a href=\"#Gitåˆ†æ”¯çš„æ¦‚å¿µ\" class=\"headerlink\" title=\"Gitåˆ†æ”¯çš„æ¦‚å¿µ\"></a>Gitåˆ†æ”¯çš„æ¦‚å¿µ</h2><p>master ä¸»åˆ†æ”¯</p>\n<p>åŠŸèƒ½åˆ†æ”¯</p>\n<ol>\n<li><p>åˆ›å»ºæ–°åˆ†æ”¯       <strong>git branch åˆ†æ”¯åç§°</strong>  </p>\n<p>åŸºäºå½“å‰åˆ†æ”¯ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œåˆ›å»ºå¥½åˆ†æ”¯åï¼Œå½“å‰ä½ç½®è¿˜æ˜¯åœ¨masteråˆ†æ”¯ä¸Š</p>\n</li>\n<li><p>åˆ‡æ¢åˆ†æ”¯     <strong>git checkout åˆ†æ”¯åç§°</strong>     </p>\n<p>å¯ä»¥åˆ‡æ¢åˆ°æŒ‡å®šçš„åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘</p>\n</li>\n<li><p>åˆ†æ”¯çš„å¿«é€Ÿåˆ›å»ºå’Œåˆ‡æ¢  <strong>git checkout -b åˆ†æ”¯åç§°</strong></p>\n</li>\n<li><p>åˆå¹¶åˆ†æ”¯   å…ˆåˆ‡æ¢åˆ° masteråˆ†æ”¯ä¸Šï¼Œå†è¿è¡Œ <strong>git merge åˆ†æ”¯åç§°</strong> å‘½ä»¤ï¼Œæ¥åˆå¹¶åŠŸèƒ½åˆ†æ”¯</p>\n<p>åŠŸèƒ½åˆ†æ”¯çš„ä»£ç å¼€å‘æµ‹è¯•å®Œæ¯•ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼Œå°†å®Œæˆåçš„ä»£ç åˆå¹¶åˆ° master ä¸»åˆ†æ”¯ä¸Š</p>\n</li>\n<li><p>åˆ é™¤åˆ†æ”¯ <strong>git branch -d åˆ†æ”¯åç§°</strong></p>\n<p>å½“æŠŠåŠŸèƒ½åˆ†æ”¯çš„ä»£ç åˆå¹¶åˆ° master ä¸»åˆ†æ”¯ä¸Šä»¥åï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼Œåˆ é™¤å¯¹åº”çš„åŠŸèƒ½åˆ†æ”¯</p>\n</li>\n</ol>\n<p>â€‹\t6ã€git remote prune origin æ¸…ç†æœ¬åœ°ä»“åº“ä¸­ä¸è¿œç¨‹ä»“åº“ä¸­originå…³è”çš„å·²ç»ä¸å­˜åœ¨çš„åˆ†æ”¯å¼•ç”¨</p>\n<h2 id=\"è¿œç¨‹åˆ†æ”¯æ“ä½œ\"><a href=\"#è¿œç¨‹åˆ†æ”¯æ“ä½œ\" class=\"headerlink\" title=\"è¿œç¨‹åˆ†æ”¯æ“ä½œ\"></a>è¿œç¨‹åˆ†æ”¯æ“ä½œ</h2><ol>\n<li>å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“</li>\n</ol>\n<p>â€‹\t\tå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œéœ€è¦è¿è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼š<br><img src=\"/img/image-20221025164401144.png\"></p>\n<p>gitlabçš„æ“ä½œï¼Œgit pull origin åˆ†æ”¯å</p>\n<ol start=\"2\">\n<li><p>æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¸­æ‰€æœ‰çš„åˆ†æ”¯åˆ—è¡¨</p>\n<p>é€šè¿‡å¦‚ä¸‹çš„å‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¸­ï¼Œæ‰€æœ‰çš„åˆ†æ”¯åˆ—è¡¨çš„ä¿¡æ¯ï¼š</p>\n</li>\n</ol>\n<p><img src=\"/img/image-20221025164457908.png\"></p>\n<ol start=\"3\">\n<li>è·Ÿè¸ªåˆ†æ”¯</li>\n</ol>\n<p>â€‹\t\tè·Ÿè¸ªåˆ†æ”¯æŒ‡çš„æ˜¯ï¼šä»è¿œç¨‹ä»“åº“ä¸­ï¼ŒæŠŠè¿œç¨‹åˆ†æ”¯ä¸‹è½½åˆ°æœ¬åœ°ä»“åº“ä¸­ã€‚éœ€è¦è¿è¡Œçš„å‘½ä»¤å¦‚ä¸‹ï¼š<br><img src=\"/img/image-20221025164539512.png\"></p>\n<ol start=\"4\">\n<li><p>æ‹‰å–è¿œç¨‹åˆ†æ”¯çš„æœ€æ–°çš„ä»£ç </p>\n<p>é¦–å…ˆåˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯</p>\n<p>git pull origin è¿œç¨‹åˆ†æ”¯å</p>\n<p>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤ï¼ŒæŠŠè¿œç¨‹åˆ†æ”¯æœ€æ–°çš„ä»£ç ä¸‹è½½åˆ°æœ¬åœ°å¯¹åº”çš„åˆ†æ”¯ä¸­ï¼š</p>\n</li>\n</ol>\n<p><img src=\"/img/image-20221025164618940.png\"></p>\n<ol start=\"5\">\n<li><p>åˆ é™¤è¿œç¨‹åˆ†æ”¯</p>\n<p>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤ï¼Œåˆ é™¤è¿œç¨‹ä»“åº“ä¸­æŒ‡å®šçš„åˆ†æ”¯ï¼š</p>\n</li>\n</ol>\n<p><img src=\"/img/image-20221025164652215.png\"></p>\n<ol start=\"6\">\n<li>åˆå¹¶åˆ†æ”¯å†²çª</li>\n</ol>\n<p>å¦‚æœåœ¨ä¸¤ä¸ªä¸åŒçš„åˆ†æ”¯ä¸­ï¼Œå¯¹åŒä¸€ä¸ªæ–‡ä»¶è¿›è¡Œäº†ä¸åŒçš„ä¿®æ”¹ï¼ŒGit å°±æ²¡æ³•å¹²å‡€çš„åˆå¹¶å®ƒä»¬ã€‚ æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ‰“å¼€ è¿™äº›åŒ…å«å†²çªçš„æ–‡ä»¶ç„¶åæ‰‹åŠ¨è§£å†³å†²çªã€‚ã€</p>\n<h2 id=\"git-clone\"><a href=\"#git-clone\" class=\"headerlink\" title=\"git clone\"></a>git clone</h2><p>git init</p>\n<p>ç„¶ågit clone +url</p>\n<p>å¦‚æœè¿æ¥ä¸ä¸Šå°±</p>\n<p><a href=\"https://blog.csdn.net/greatcoder/article/details/126138230\">https://blog.csdn.net/greatcoder/article/details/126138230</a></p>\n<p>git clone <a href=\"https://ghproxy.com/+github%E7%BD%91%E7%AB%99%E5%9C%B0%E5%9D%80\">https://ghproxy.com/+githubç½‘ç«™åœ°å€</a></p>\n<p>å°±æ¯”å¦‚ git clone <a href=\"https://ghproxy.com/https://github.com/HaogegeShy/jingdong.git\">https://ghproxy.com/https://github.com/HaogegeShy/jingdong.git</a></p>\n<h2 id=\"gité—®é¢˜error-remote-origin-already-exists\"><a href=\"#gité—®é¢˜error-remote-origin-already-exists\" class=\"headerlink\" title=\"gité—®é¢˜error: remote origin already exists\"></a>gité—®é¢˜error: remote origin already exists</h2><p><a href=\"https://blog.csdn.net/qq_39208536/article/details/125231265\">https://blog.csdn.net/qq_39208536/article/details/125231265</a></p>\n<p>å¦‚æœä½ cloneä¸‹æ¥ä¸€ä¸ªåˆ«äººçš„ä»“åº“ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå®Œæˆä½ çš„ä»£ç ï¼Œæ¨é€åˆ°è‡ªå·±çš„ä»“åº“å¯èƒ½é‡åˆ°å¦‚ä¸‹é—®é¢˜ï¼š<br>error: remote origin already exists.è¡¨ç¤ºè¿œç¨‹ä»“åº“å·²å­˜åœ¨ã€‚<br>å› æ­¤ä½ è¦è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š<br>1ã€å…ˆè¾“å…¥git remote rm origin åˆ é™¤å…³è”çš„originçš„è¿œç¨‹åº“<br>2ã€å…³è”è‡ªå·±çš„ä»“åº“ git remote add origin <a href=\"https://gitee.com/xxxxxx.git\">https://gitee.com/xxxxxx.git</a><br>3ã€æœ€ågit push origin masterï¼Œè¿™æ ·å°±æ¨é€åˆ°è‡ªå·±çš„ä»“åº“äº†ã€‚</p>\n<h2 id=\"gitä»£ç æäº¤åˆ°è¿œç¨‹ä»“åº“æ—¶\"><a href=\"#gitä»£ç æäº¤åˆ°è¿œç¨‹ä»“åº“æ—¶\" class=\"headerlink\" title=\"gitä»£ç æäº¤åˆ°è¿œç¨‹ä»“åº“æ—¶\"></a>gitä»£ç æäº¤åˆ°è¿œç¨‹ä»“åº“æ—¶</h2><p>é€‰ç”¨sshçš„æ–¹å¼</p>\n<h2 id=\"git-rebaseå’Œgit-mergeçš„åŒºåˆ«\"><a href=\"#git-rebaseå’Œgit-mergeçš„åŒºåˆ«\" class=\"headerlink\" title=\"git rebaseå’Œgit mergeçš„åŒºåˆ«\"></a>git rebaseå’Œgit mergeçš„åŒºåˆ«</h2><p>1ã€rebaseå˜åŸºï¼ŒæŠŠå½“å‰çš„commitæ”¾åˆ°å…¬å…±åˆ†æ”¯çš„æœ€åé¢ï¼ŒmergeæŠŠå½“å‰çš„commitå’Œå…¬å…±åˆ†æ”¯åˆå¹¶åœ¨ä¸€èµ·ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªåˆå¹¶çš„commitï¼›</p>\n<p>2ã€ç”¨mergeå‘½ä»¤è§£å†³å®Œå†²çªåä¼šäº§ç”Ÿä¸€ä¸ªcommitï¼Œè€Œç”¨rebaseå‘½ä»¤è§£å†³å®Œå†²çªåä¸ä¼šäº§ç”Ÿé¢å¤–çš„commitã€‚</p>\n<p>mergeä¸­fast-forward ä¸ä¼šäº§ç”Ÿcommitæäº¤ï¼Œâ€“no-ff ä¼šäº§ç”Ÿcommitæäº¤</p>\n","site":{"data":{"link":[{"class_name":"1.æŠ€æœ¯æ”¯æŒ","class_desc":"æœ¬ç½‘ç«™çš„æ­å»ºç”±ä»¥ä¸‹å¼€æºä½œè€…æä¾›æŠ€æœ¯æ”¯æŒ","link_list":[{"name":"Hexo","link":"https://hexo.io/zh-cn/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"å¿«é€Ÿã€ç®€å•ä¸”å¼ºå¤§çš„ç½‘å¿—æ¡†æ¶","siteshot":"https://source.fomal.cc/siteshot/hexo.io.jpg"}]},{"class_name":"2.å‹æƒ…é“¾æ¥","class_desc":"ä¸€äº›å¥½æœ‹å‹~~","link_list":[{"name":"FomalhautğŸ¥","link":"https://fomal.cc/","avatar":"/assets/head.jpg","descr":"Future is now ğŸ­ğŸ­ğŸ­","siteshot":"https://source.fomal.cc/siteshot/www.fomal.cn.jpg"}]}]}},"cover":"https://source.fomal.cc/img/default_cover_8.webp","cover_type":"img","excerpt":"","more":"<h1 id=\"Git\"><a href=\"#Git\" class=\"headerlink\" title=\"Git\"></a>Git</h1><p><strong>ä¸Šä¼ åˆ°github</strong>å…ˆgit init, git add . ,git commit -m â€˜ â€˜, å†å…³è”è¿œç¨‹åº“</p>\n<p>Git ä¸­çš„ä¸‰ä¸ª<strong>åŒºåŸŸ</strong>ï¼šå·¥ä½œåŒºã€æš‚å­˜åŒºã€Git ä»“åº“ã€‚</p>\n<p>å·¥ä½œåŒºï¼šå¤„ç†å·¥ä½œçš„åŒºåŸŸ</p>\n<p>æš‚å­˜åŒºï¼šå·²å®Œæˆçš„å·¥ä½œçš„ä¸´æ—¶å­˜æ”¾åŒºåŸŸï¼Œç­‰å¾…è¢«æäº¤</p>\n<p>Git ä»“åº“ï¼šæœ€ç»ˆçš„å­˜æ”¾åŒºåŸŸ</p>\n<p>Git ä¸­çš„ä¸‰ç§<strong>çŠ¶æ€</strong>ï¼šå·²ä¿®æ”¹ modified å·²æš‚å­˜ staged å·²æäº¤ committed</p>\n<p><strong>å·²ä¿®æ”¹</strong>ï¼šè¡¨ç¤ºä¿®æ”¹äº†æ–‡ä»¶ï¼Œä½†è¿˜æ²¡å°†ä¿®æ”¹çš„ç»“æœæ”¾åˆ°æš‚å­˜åŒºã€‚</p>\n<p><strong>å·²æš‚å­˜</strong>ï¼šè¡¨ç¤ºå¯¹å·²ä¿®æ”¹æ–‡ä»¶çš„å½“å‰ ç‰ˆæœ¬åšäº†æ ‡è®°ï¼Œä½¿ä¹‹åŒ…å« åœ¨ä¸‹æ¬¡æäº¤çš„åˆ—è¡¨ä¸­ã€‚</p>\n<p><strong>å·²æäº¤</strong>ï¼šè¡¨ç¤ºæ–‡ä»¶å·²ç»å®‰å…¨åœ°ä¿å­˜ åœ¨æœ¬åœ°çš„ Git ä»“åº“ä¸­ã€‚</p>\n<p>æ³¨æ„ï¼š</p>\n<p>âš« å·¥ä½œåŒºçš„æ–‡ä»¶è¢«ä¿®æ”¹äº†ï¼Œä½†è¿˜æ²¡æœ‰æ”¾åˆ°æš‚å­˜åŒºï¼Œå°±æ˜¯å·²ä¿®æ”¹çŠ¶æ€ã€‚</p>\n<p>âš« å¦‚æœæ–‡ä»¶å·²ä¿®æ”¹å¹¶æ”¾å…¥æš‚å­˜åŒºï¼Œå°±å±äºå·²æš‚å­˜çŠ¶æ€ã€‚</p>\n<p>âš« å¦‚æœ Git ä»“åº“ä¸­ä¿å­˜ç€ç‰¹å®šç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œå°±å±äºå·²æäº¤çŠ¶æ€ã€‚</p>\n<h2 id=\"Gitçš„åŸºæœ¬æ“ä½œ\"><a href=\"#Gitçš„åŸºæœ¬æ“ä½œ\" class=\"headerlink\" title=\"Gitçš„åŸºæœ¬æ“ä½œ\"></a>Gitçš„åŸºæœ¬æ“ä½œ</h2><ol>\n<li><p>git init å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªåä¸º .git çš„éšè—ç›®å½•ï¼Œè¿™ä¸ª .git ç›®å½•å°±æ˜¯å½“å‰é¡¹ç›®çš„ Git ä»“åº“ï¼Œé‡Œé¢åŒ…å«äº†åˆå§‹çš„å¿…è¦æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ˜¯ Git ä»“åº“çš„å¿…è¦ç»„æˆéƒ¨åˆ†ã€‚</p>\n</li>\n<li><p>git add å¼€å§‹è·Ÿè¸ªä¸€ä¸ªæ–‡ä»¶ï¼Œgit add . ä¸€æ¬¡æ€§å°†æ‰€æœ‰çš„æ–°å¢å’Œä¿®æ”¹è¿‡çš„æ–‡ä»¶åŠ å…¥æš‚å­˜åŒº</p>\n</li>\n<li><p>git status å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶å¤„äºä»€ä¹ˆçŠ¶æ€</p>\n</li>\n<li><p>git commit å‘½ä»¤è¿›è¡Œæäº¤, å…¶ä¸­ -m é€‰é¡¹åé¢æ˜¯æœ¬æ¬¡çš„æäº¤æ¶ˆæ¯ï¼Œç”¨æ¥å¯¹æäº¤çš„å†…å®¹åšè¿›ä¸€æ­¥çš„æè¿°ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git commit -m <span class=\"string\">&#x27;ä»€ä¹ˆä¿¡æ¯&#x27;</span>\t</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>è·³è¿‡ä½¿ç”¨æš‚å­˜åŒºåŸŸ</p>\n</li>\n</ol>\n<p>Git æ ‡å‡†çš„å·¥ä½œæµç¨‹æ˜¯<strong>å·¥ä½œåŒº â†’ æš‚å­˜åŒº â†’ Git ä»“åº“</strong>ã€‚Git å·¥ä½œçš„æµç¨‹ç®€åŒ–ä¸ºäº†<strong>å·¥ä½œåŒº â†’ Git ä»“åº“</strong>ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git commit -a -m <span class=\"string\">&#x27;æè¿°ä¿¡æ¯&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"6\">\n<li><p>ç§»é™¤æ–‡ä»¶</p>\n<p>ä» Git ä»“åº“ä¸­ç§»é™¤æ–‡ä»¶çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š </p>\n<p>â‘  ä» Git ä»“åº“å’Œå·¥ä½œåŒºä¸­åŒæ—¶ç§»é™¤å¯¹åº”çš„æ–‡ä»¶ </p>\n<p>â‘¡ åªä» Git ä»“åº“ä¸­ç§»é™¤æŒ‡å®šçš„æ–‡ä»¶ï¼Œä½†ä¿ç•™å·¥ä½œåŒºä¸­å¯¹åº”çš„æ–‡ä»¶</p>\n</li>\n</ol>\n<p><img src=\"/img/image-20221025163441508.png\"></p>\n<h2 id=\"Gitåˆ†æ”¯çš„æ¦‚å¿µ\"><a href=\"#Gitåˆ†æ”¯çš„æ¦‚å¿µ\" class=\"headerlink\" title=\"Gitåˆ†æ”¯çš„æ¦‚å¿µ\"></a>Gitåˆ†æ”¯çš„æ¦‚å¿µ</h2><p>master ä¸»åˆ†æ”¯</p>\n<p>åŠŸèƒ½åˆ†æ”¯</p>\n<ol>\n<li><p>åˆ›å»ºæ–°åˆ†æ”¯       <strong>git branch åˆ†æ”¯åç§°</strong>  </p>\n<p>åŸºäºå½“å‰åˆ†æ”¯ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œåˆ›å»ºå¥½åˆ†æ”¯åï¼Œå½“å‰ä½ç½®è¿˜æ˜¯åœ¨masteråˆ†æ”¯ä¸Š</p>\n</li>\n<li><p>åˆ‡æ¢åˆ†æ”¯     <strong>git checkout åˆ†æ”¯åç§°</strong>     </p>\n<p>å¯ä»¥åˆ‡æ¢åˆ°æŒ‡å®šçš„åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘</p>\n</li>\n<li><p>åˆ†æ”¯çš„å¿«é€Ÿåˆ›å»ºå’Œåˆ‡æ¢  <strong>git checkout -b åˆ†æ”¯åç§°</strong></p>\n</li>\n<li><p>åˆå¹¶åˆ†æ”¯   å…ˆåˆ‡æ¢åˆ° masteråˆ†æ”¯ä¸Šï¼Œå†è¿è¡Œ <strong>git merge åˆ†æ”¯åç§°</strong> å‘½ä»¤ï¼Œæ¥åˆå¹¶åŠŸèƒ½åˆ†æ”¯</p>\n<p>åŠŸèƒ½åˆ†æ”¯çš„ä»£ç å¼€å‘æµ‹è¯•å®Œæ¯•ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼Œå°†å®Œæˆåçš„ä»£ç åˆå¹¶åˆ° master ä¸»åˆ†æ”¯ä¸Š</p>\n</li>\n<li><p>åˆ é™¤åˆ†æ”¯ <strong>git branch -d åˆ†æ”¯åç§°</strong></p>\n<p>å½“æŠŠåŠŸèƒ½åˆ†æ”¯çš„ä»£ç åˆå¹¶åˆ° master ä¸»åˆ†æ”¯ä¸Šä»¥åï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼Œåˆ é™¤å¯¹åº”çš„åŠŸèƒ½åˆ†æ”¯</p>\n</li>\n</ol>\n<p>â€‹\t6ã€git remote prune origin æ¸…ç†æœ¬åœ°ä»“åº“ä¸­ä¸è¿œç¨‹ä»“åº“ä¸­originå…³è”çš„å·²ç»ä¸å­˜åœ¨çš„åˆ†æ”¯å¼•ç”¨</p>\n<h2 id=\"è¿œç¨‹åˆ†æ”¯æ“ä½œ\"><a href=\"#è¿œç¨‹åˆ†æ”¯æ“ä½œ\" class=\"headerlink\" title=\"è¿œç¨‹åˆ†æ”¯æ“ä½œ\"></a>è¿œç¨‹åˆ†æ”¯æ“ä½œ</h2><ol>\n<li>å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“</li>\n</ol>\n<p>â€‹\t\tå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œéœ€è¦è¿è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼š<br><img src=\"/img/image-20221025164401144.png\"></p>\n<p>gitlabçš„æ“ä½œï¼Œgit pull origin åˆ†æ”¯å</p>\n<ol start=\"2\">\n<li><p>æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¸­æ‰€æœ‰çš„åˆ†æ”¯åˆ—è¡¨</p>\n<p>é€šè¿‡å¦‚ä¸‹çš„å‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¸­ï¼Œæ‰€æœ‰çš„åˆ†æ”¯åˆ—è¡¨çš„ä¿¡æ¯ï¼š</p>\n</li>\n</ol>\n<p><img src=\"/img/image-20221025164457908.png\"></p>\n<ol start=\"3\">\n<li>è·Ÿè¸ªåˆ†æ”¯</li>\n</ol>\n<p>â€‹\t\tè·Ÿè¸ªåˆ†æ”¯æŒ‡çš„æ˜¯ï¼šä»è¿œç¨‹ä»“åº“ä¸­ï¼ŒæŠŠè¿œç¨‹åˆ†æ”¯ä¸‹è½½åˆ°æœ¬åœ°ä»“åº“ä¸­ã€‚éœ€è¦è¿è¡Œçš„å‘½ä»¤å¦‚ä¸‹ï¼š<br><img src=\"/img/image-20221025164539512.png\"></p>\n<ol start=\"4\">\n<li><p>æ‹‰å–è¿œç¨‹åˆ†æ”¯çš„æœ€æ–°çš„ä»£ç </p>\n<p>é¦–å…ˆåˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯</p>\n<p>git pull origin è¿œç¨‹åˆ†æ”¯å</p>\n<p>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤ï¼ŒæŠŠè¿œç¨‹åˆ†æ”¯æœ€æ–°çš„ä»£ç ä¸‹è½½åˆ°æœ¬åœ°å¯¹åº”çš„åˆ†æ”¯ä¸­ï¼š</p>\n</li>\n</ol>\n<p><img src=\"/img/image-20221025164618940.png\"></p>\n<ol start=\"5\">\n<li><p>åˆ é™¤è¿œç¨‹åˆ†æ”¯</p>\n<p>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤ï¼Œåˆ é™¤è¿œç¨‹ä»“åº“ä¸­æŒ‡å®šçš„åˆ†æ”¯ï¼š</p>\n</li>\n</ol>\n<p><img src=\"/img/image-20221025164652215.png\"></p>\n<ol start=\"6\">\n<li>åˆå¹¶åˆ†æ”¯å†²çª</li>\n</ol>\n<p>å¦‚æœåœ¨ä¸¤ä¸ªä¸åŒçš„åˆ†æ”¯ä¸­ï¼Œå¯¹åŒä¸€ä¸ªæ–‡ä»¶è¿›è¡Œäº†ä¸åŒçš„ä¿®æ”¹ï¼ŒGit å°±æ²¡æ³•å¹²å‡€çš„åˆå¹¶å®ƒä»¬ã€‚ æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ‰“å¼€ è¿™äº›åŒ…å«å†²çªçš„æ–‡ä»¶ç„¶åæ‰‹åŠ¨è§£å†³å†²çªã€‚ã€</p>\n<h2 id=\"git-clone\"><a href=\"#git-clone\" class=\"headerlink\" title=\"git clone\"></a>git clone</h2><p>git init</p>\n<p>ç„¶ågit clone +url</p>\n<p>å¦‚æœè¿æ¥ä¸ä¸Šå°±</p>\n<p><a href=\"https://blog.csdn.net/greatcoder/article/details/126138230\">https://blog.csdn.net/greatcoder/article/details/126138230</a></p>\n<p>git clone <a href=\"https://ghproxy.com/+github%E7%BD%91%E7%AB%99%E5%9C%B0%E5%9D%80\">https://ghproxy.com/+githubç½‘ç«™åœ°å€</a></p>\n<p>å°±æ¯”å¦‚ git clone <a href=\"https://ghproxy.com/https://github.com/HaogegeShy/jingdong.git\">https://ghproxy.com/https://github.com/HaogegeShy/jingdong.git</a></p>\n<h2 id=\"gité—®é¢˜error-remote-origin-already-exists\"><a href=\"#gité—®é¢˜error-remote-origin-already-exists\" class=\"headerlink\" title=\"gité—®é¢˜error: remote origin already exists\"></a>gité—®é¢˜error: remote origin already exists</h2><p><a href=\"https://blog.csdn.net/qq_39208536/article/details/125231265\">https://blog.csdn.net/qq_39208536/article/details/125231265</a></p>\n<p>å¦‚æœä½ cloneä¸‹æ¥ä¸€ä¸ªåˆ«äººçš„ä»“åº“ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå®Œæˆä½ çš„ä»£ç ï¼Œæ¨é€åˆ°è‡ªå·±çš„ä»“åº“å¯èƒ½é‡åˆ°å¦‚ä¸‹é—®é¢˜ï¼š<br>error: remote origin already exists.è¡¨ç¤ºè¿œç¨‹ä»“åº“å·²å­˜åœ¨ã€‚<br>å› æ­¤ä½ è¦è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š<br>1ã€å…ˆè¾“å…¥git remote rm origin åˆ é™¤å…³è”çš„originçš„è¿œç¨‹åº“<br>2ã€å…³è”è‡ªå·±çš„ä»“åº“ git remote add origin <a href=\"https://gitee.com/xxxxxx.git\">https://gitee.com/xxxxxx.git</a><br>3ã€æœ€ågit push origin masterï¼Œè¿™æ ·å°±æ¨é€åˆ°è‡ªå·±çš„ä»“åº“äº†ã€‚</p>\n<h2 id=\"gitä»£ç æäº¤åˆ°è¿œç¨‹ä»“åº“æ—¶\"><a href=\"#gitä»£ç æäº¤åˆ°è¿œç¨‹ä»“åº“æ—¶\" class=\"headerlink\" title=\"gitä»£ç æäº¤åˆ°è¿œç¨‹ä»“åº“æ—¶\"></a>gitä»£ç æäº¤åˆ°è¿œç¨‹ä»“åº“æ—¶</h2><p>é€‰ç”¨sshçš„æ–¹å¼</p>\n<h2 id=\"git-rebaseå’Œgit-mergeçš„åŒºåˆ«\"><a href=\"#git-rebaseå’Œgit-mergeçš„åŒºåˆ«\" class=\"headerlink\" title=\"git rebaseå’Œgit mergeçš„åŒºåˆ«\"></a>git rebaseå’Œgit mergeçš„åŒºåˆ«</h2><p>1ã€rebaseå˜åŸºï¼ŒæŠŠå½“å‰çš„commitæ”¾åˆ°å…¬å…±åˆ†æ”¯çš„æœ€åé¢ï¼ŒmergeæŠŠå½“å‰çš„commitå’Œå…¬å…±åˆ†æ”¯åˆå¹¶åœ¨ä¸€èµ·ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªåˆå¹¶çš„commitï¼›</p>\n<p>2ã€ç”¨mergeå‘½ä»¤è§£å†³å®Œå†²çªåä¼šäº§ç”Ÿä¸€ä¸ªcommitï¼Œè€Œç”¨rebaseå‘½ä»¤è§£å†³å®Œå†²çªåä¸ä¼šäº§ç”Ÿé¢å¤–çš„commitã€‚</p>\n<p>mergeä¸­fast-forward ä¸ä¼šäº§ç”Ÿcommitæäº¤ï¼Œâ€“no-ff ä¼šäº§ç”Ÿcommitæäº¤</p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[],"Tag":[]}}